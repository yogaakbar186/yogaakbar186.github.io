// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
/*

 ====================================================================
 jsPDF - PDF Document creation from JavaScript
 Version 1.3.4 Built on 2017-04-10T14:14:44.483Z
                           CommitID cf4827d221

 Copyright (c) 2010-2016 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
               2010 Aaron Spike, https://github.com/acspike
               2012 Willow Systems Corporation, willow-systems.com
               2012 Pablo Hess, https://github.com/pablohess
               2012 Florian Jenett, https://github.com/fjenett
               2013 Warren Weckesser, https://github.com/warrenweckesser
               2013 Youssef Beddad, https://github.com/lifof
               2013 Lee Driscoll, https://github.com/lsdriscoll
               2013 Stefan Slonevskiy, https://github.com/stefslon
               2013 Jeremy Morel, https://github.com/jmorel
               2013 Christoph Hartmann, https://github.com/chris-rock
               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
               2014 James Makes, https://github.com/dollaruw
               2014 Diego Casorran, https://github.com/diegocr
               2014 Steven Spungin, https://github.com/Flamenco
               2014 Kenneth Glassey, https://github.com/Gavvers

 Licensed under the MIT License

 Contributor(s):
    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
    kim3er, mfo, alnorth, Flamenco

 ====================================================================
 jsPDF AcroForm Plugin
 Copyright (c) 2016 Alexander Weidt, https://github.com/BiggA94

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF addHTML PlugIn
 Copyright (c) 2014 Diego Casorran

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF addImage plugin
 Copyright (c) 2012 Jason Siefken, https://github.com/siefkenj/
               2013 Chris Dowling, https://github.com/gingerchris
               2013 Trinh Ho, https://github.com/ineedfat
               2013 Edwin Alejandro Perez, https://github.com/eaparango
               2013 Norah Smith, https://github.com/burnburnrocket
               2014 Diego Casorran, https://github.com/diegocr
               2014 James Robb, https://github.com/jamesbrobb

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Cell plugin
 Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com
               2013 Eduardo Menezes de Morais, eduardo.morais@usp.br
               2013 Lee Driscoll, https://github.com/lsdriscoll
               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
               2014 James Hall, james@parall.ax
               2014 Diego Casorran, https://github.com/diegocr

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF fromHTML plugin. BETA stage. API subject to change. Needs browser
 Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
               2014 Diego Casorran, https://github.com/diegocr
               2014 Daniel Husar, https://github.com/danielhusar
               2014 Wolfgang Gassler, https://github.com/woolfg
               2014 Steven Spungin, https://github.com/flamenco

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF JavaScript plugin
 Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

  ====================================================================
 jsPDF PNG PlugIn
 Copyright (c) 2014 James Robb, https://github.com/jamesbrobb

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF split_text_to_size plugin - MIT license.
 Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
               2014 Diego Casorran, https://github.com/diegocr

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF total_pages plugin
 Copyright (c) 2013 Eduardo Menezes de Morais, eduardo.morais@usp.br

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 adler32cs
 Copyright (c) 2012 chick307 <chick307@gmail.com>

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
         Deflate.js - https://github.com/gildas-lormeau/zip.js
         Copyright (c) 2013 Gildas Lormeau. All rights reserved.

         Redistribution and use in source and binary forms, with or without
         modification, are permitted provided that the following conditions are met:

         1. Redistributions of source code must retain the above copyright notice,
         this list of conditions and the following disclaimer.

         2. Redistributions in binary form must reproduce the above copyright
         notice, this list of conditions and the following disclaimer in
         the documentation and/or other materials provided with the distribution.

         3. The names of the authors may not be used to endorse or promote products
         derived from this software without specific prior written permission.

         THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,
         INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
         FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,
         INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,
         INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
         LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
         OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
         LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
         NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
         EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

 ====================================================================
 html2canvas 0.5.0-beta3 <http://html2canvas.hertzen.com>
 Copyright (c) 2016 Niklas von Hertzen

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 base64-arraybuffer
 https://github.com/niklasvh/base64-arraybuffer

 Copyright (c) 2012 Niklas von Hertzen

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 PNG.js
 Copyright (c) 2011 Devon Govett

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 Extracted from pdf.js
 https://github.com/andreasgal/pdf.js

 Copyright (c) 2011 Mozilla Foundation

 Contributors: Andreas Gal <gal@mozilla.com>
               Chris G Jones <cjones@mozilla.com>
               Shaon Barman <shaon.barman@gmail.com>
               Vivien Nicolas <21@vingtetun.org>
               Justin D'Arcangelo <justindarc@gmail.com>
               Yury Delendik

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 String.prototype.trimLeft, String.prototype.trimRight are
 adapted from Chapter 5 Strings and Regular Expressions by
 Steven Levithan in the book High Performance JavaScript by
 Nicholas C. Zakas Copyright 2010 Yahoo!, Inc.,
 978-0-596-80279-0

 License: "In general, you may use the code in this book in
 your programs and documentation. You do not need to contact
 us for permission unless youâ€™re reproducing a significant
 portion of the code. For example, writing a program that uses
 several chunks of code from this book does not require
 permission."
 https://www.safaribooksonline.com/library/view/high-performance-javascript/9781449382308/pr02s12.html

 ====================================================================
 jsPDF Annotations PlugIn
 Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Autoprint Plugin

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Canvas PlugIn
 Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Context2D PlugIn Copyright (c) 2014 Steven Spungin (TwelveTone LLC) steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Outline PlugIn
 Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF standard_fonts_metrics plugin
 Copyright (c) 2012 Willow Systems Corporation,
 willow-systems.com

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF SVG plugin Copyright (c) 2012 Willow Systems
 Corporation, willow-systems.com

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF XMP metadata plugin
 Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 CssColors
 Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license
 http://mths.be/punycode v1.2.4 by @mathias */
require({cache:{"dijit/ProgressBar":function(){define("require dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/number ./_Widget ./_TemplatedMixin dojo/text!./templates/ProgressBar.html".split(" "),function(xa,sa,ha,ia,T,N,D,ja){return sa("dijit.ProgressBar",[N,D],{progress:"0",value:"",maximum:100,places:0,indeterminate:!1,label:"",name:"",templateString:ja,_indeterminateHighContrastImagePath:xa.toUrl("./themes/a11y/indeterminate_progress.gif"),postMixInProperties:function(){this.inherited(arguments);
this.params&&"value"in this.params||(this.value=this.indeterminate?Infinity:this.progress)},buildRendering:function(){this.inherited(arguments);this.indeterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath.toString());this.update()},_setDirAttr:function(ca){var la="rtl"==ca.toLowerCase();ha.toggle(this.domNode,"dijitProgressBarRtl",la);ha.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&la);this.inherited(arguments)},update:function(ca){ia.mixin(this,
ca||{});ca=this.internalProgress;var la=this.domNode,S=1;this.indeterminate?la.removeAttribute("aria-valuenow"):(-1!=String(this.progress).indexOf("%")?(S=Math.min(parseFloat(this.progress)/100,1),this.progress=S*this.maximum):(this.progress=Math.min(this.progress,this.maximum),S=this.maximum?this.progress/this.maximum:0),la.setAttribute("aria-valuenow",this.progress));la.setAttribute("aria-labelledby",this.labelNode.id);la.setAttribute("aria-valuemin",0);la.setAttribute("aria-valuemax",this.maximum);
this.labelNode.innerHTML=this.report(S);ha.toggle(this.domNode,"dijitProgressBarIndeterminate",this.indeterminate);ha.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&!this.isLeftToRight());ca.style.width=100*S+"%";this.onChange()},_setValueAttr:function(ca){this._set("value",ca);Infinity==ca?this.update({indeterminate:!0}):this.update({indeterminate:!1,progress:ca})},_setLabelAttr:function(ca){this._set("label",ca);this.update()},_setIndeterminateAttr:function(ca){this._set("indeterminate",
ca);this.update()},report:function(ca){return this.label?this.label:this.indeterminate?"\x26#160;":T.format(ca,{type:"percent",places:this.places,locale:this.lang})},onChange:function(){}})})},"esri/geometry/geometryEngineAsync":function(){define("require exports esri/kernel module esri/geometry/Geometry esri/geometry/Polygon esri/geometry/Polyline esri/geometry/Point esri/geometry/Extent esri/geometry/Multipoint esri/workers/WorkerClient esri/arcade/polyfill/promiseUtils".split(" "),function(xa,
sa,ha,ia,T,N,D,ja,ca,la,S,m){function n(u){if(void 0===ja.fromJson){if(void 0!==u.x&&void 0!==u.y)return new ja(u);if(void 0!==u.paths)return new D(u);if(void 0!==u.rings)return new N(u);if(void 0!==u.points)return new la(u);if(void 0!==u.xmin&&void 0!==u.ymin&&void 0!==u.xmax&&void 0!==u.ymax)return new ca(u)}else{if(void 0!==u.x&&void 0!==u.y)return ja.fromJson(u);if(void 0!==u.paths)return D.fromJson(u);if(void 0!==u.rings)return N.fromJson(u);if(void 0!==u.points)return la.fromJson(u);if(void 0!==
u.xmin&&void 0!==u.ymin&&void 0!==u.xmax&&void 0!==u.ymax)return ca.fromJson(u)}}function p(u,y){if(null==u||void 0===u||"number"===typeof u)return u;var G=u.toString();if(""===G)return null;if(2==y){var Q=x[G];if(void 0!==Q)return Q}else if(0==y){Q=q[G];if(void 0!==Q)return Q;Q=w[u];if(void 0!==Q)return Q}else if(3==y&&(Q=q[G],void 0!==Q))return Q;if(1==y&&(Q=w[u],void 0!==Q))return Q;if(!0===/^\d+$/.test(G))return parseInt(G);throw Error("Unrecognised Unit Type");}function f(u){if(void 0!==u&&null!==
u)switch(u){case "loxodrome":return 1;case "great-elliptic":return 2;case "normal-section":return 3;case "shape-preserving":return 4}return 0}function a(u){if(null===u||void 0===u)return null;if(k)switch(u.type){case "point":return{x:u.x,y:u.y,z:u.z,m:u.m};case "multipoint":return{points:u.points,hasZ:u.hasZ,hasM:u.hasM};case "polyline":return{paths:u.paths,hasZ:u.hasZ,hasM:u.hasM};case "polygon":return{rings:u.rings,hasZ:u.hasZ,hasM:u.hasM};case "extent":return{xmin:u.xmin,ymin:u.ymin,xmax:u.xmax,
ymax:u.ymax,zmin:u.zmin,zmax:u.zmax,mmin:u.mmin,mmax:u.mmax}}else switch(u.type){case "point":return{x:u.x,y:u.y};case "multipoint":return{points:u.points};case "polyline":return{paths:u.paths};case "polygon":return{rings:u.rings};case "extent":return{xmin:u.xmin,ymin:u.ymin,xmax:u.xmax,ymax:u.ymax}}return null}function l(u,y){if(null===u)return null;u=n(u);k?u.set("spatialReference",y):u.setSpatialReference(y);return u}function c(u){return null==u||void 0===u?null:-1!=u.wkid&&null!==u.wkid&&void 0!==
u.wkid?{wkid:u.wkid}:""!==u.wkt&&void 0!==u.wkt&&null!==u.wkt?{wkt:u.wkt}:null}function h(u,y,G){return m.create(function(Q,V){var M=y.spatialReference;z.g({action:u,geoma:a(y),geomb:a(G),spatialReference:c(y.spatialReference)}).then(function(O){0===O.status?V(Error(O.error.message)):Q(l(O.result,M))},function(O){V(O)})})}function e(u,y,G){return m.create(function(Q,V){z.g({action:u,geoma:a(y),geomb:a(G),spatialReference:c(y.spatialReference)}).then(function(M){0===M.status?V(Error(M.error.message)):
Q(M.result)},function(M){V(M)})})}var k=0==ha.version.indexOf("4."),d;(function(u){u[u.Linear=0]="Linear";u[u.Angular=1]="Angular";u[u.Area=2]="Area";u[u.LinearOrAngular=3]="LinearOrAngular"})(d||(d={}));var q={feet:9002,kilometers:9036,meters:9001,miles:9093,"nautical-miles":9030,yards:9096},x={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109439,"square-yards":109442},w={degrees:9102,radians:9101},E=function(){function u(){this.i=
!0;this.s=null}u.prototype.G=function(y){var G=this;this.s=new S;this.s.setWorker(this.B(),function(){G.i=!1;y()})};u.prototype.B=function(){return xa.H?xa.H("./geometryenginewebworker"):ia.id.replace(/\/[^\/]*$/ig,"/")+"./geometryenginewebworker"};return u}(),z=function(){function u(){}u.g=function(y){return m.create(function(G,Q){u.o.push({task:y,d:{resolve:G,reject:Q}});u.j()})};u.j=function(){if(0<u.o.length){for(var y=null,G=0;G<u.h.length;G++)if(!1===u.h[G].i){y=u.h[G];break}null===y&&u.h.length<
u.l&&(G=new E,u.h.push(G),G.G(function(){u.j()}));if(null!==y){var Q=this.o.shift();y.i=!0;y.s.postMessage(Q.task).then(function(V){y.i=!1;try{Q.d.resolve(V)}catch(M){}u.j()},function(V){y.i=!1;try{Q.d.reject(V)}catch(M){}u.j()})}}};u.h=[];u.o=[];u.l=4;return u}();return function(){function u(){}u._removeAllWorkers=function(){z.h=[]};u._setMaxWorkers=function(y){u._removeAllWorkers();z.l=y};u._getMaxWorkers=function(){return z.l};u._getNumWorkers=function(){return z.h.length};u.extendedSpatialReferenceInfo=
function(y){return m.create(function(G,Q){z.g({action:"extendedspatialreferenceinfo",spatialReference:c(y)}).then(function(V){0===V.status?Q(Error(V.error.message)):G(V.result)},function(V){Q(V)})})};u.equals=function(y,G){return null===y&&null!==G||null===G&&null!==y?!1:e("equals",y,G)};u.intersects=function(y,G){if(null===y||null===G)throw Error("Illegal Argument Exception");return e("intersects",y,G)};u.touches=function(y,G){if(null===y||null===G)throw Error("Illegal Argument Exception");return e("touches",
y,G)};u.within=function(y,G){if(null===y||null===G)throw Error("Illegal Argument Exception");return e("within",y,G)};u.disjoint=function(y,G){if(null===y||null===G)throw Error("Illegal Argument Exception");return e("disjoint",y,G)};u.overlaps=function(y,G){if(null===y||null===G)throw Error("Illegal Argument Exception");return e("overlaps",y,G)};u.crosses=function(y,G){if(null===y||null===G)throw Error("Illegal Argument Exception");return e("crosses",y,G)};u.contains=function(y,G){if(null===y||null===
G)throw Error("Illegal Argument Exception");return e("contains",y,G)};u.isSimple=function(y){return e("issimple",y,null)};u.clip=function(y,G){return h("clip",y,G)};u.simplify=function(y){return m.create(function(G,Q){var V=y.spatialReference;z.g({action:"simplify",geoma:a(y),spatialReference:c(y.spatialReference)}).then(function(M){0===M.status?Q(Error(M.error.message)):G(l(M.result,V))},function(M){Q(M)})})};u.rotate=function(y,G,Q){return m.create(function(V,M){var O=y.spatialReference;if(void 0===
Q||null===Q)switch(y.type){case "point":Q=y;break;case "extent":Q=k?y.get("center"):y.getCenter();break;default:Q=k?y.get("extent").get("center"):y.getExtent().getCenter()}z.g({action:"rotate",geoma:a(y),spatialReference:c(y.spatialReference),angle:G,rotpt:a(Q)}).then(function(H){0===H.status?M(Error(H.error.message)):V(l(H.result,O))},function(H){M(H)})})};u.flipHorizontal=function(y,G){return m.create(function(Q,V){var M=y.spatialReference;if(void 0===G||null===G)switch(y.type){case "point":G=y;
break;case "extent":G=k?y.get("center"):y.getCenter();break;default:G=k?y.get("extent").get("center"):y.getExtent().getCenter()}z.g({action:"fliph",geoma:a(y),spatialReference:c(y.spatialReference),flippt:a(G)}).then(function(O){0===O.status?V(Error(O.error.message)):Q(l(O.result,M))},function(O){V(O)})})};u.flipVertical=function(y,G){return m.create(function(Q,V){var M=y.spatialReference;if(void 0===G||null===G)switch(y.type){case "point":G=y;break;case "extent":G=k?y.get("center"):y.getCenter();
break;default:G=k?y.get("extent").get("center"):y.getExtent().getCenter()}z.g({action:"flipv",geoma:a(y),spatialReference:c(y.spatialReference),flippt:a(G)}).then(function(O){0===O.status?V(Error(O.error.message)):Q(l(O.result,M))},function(O){V(O)})})};u.distance=function(y,G,Q){return m.create(function(V,M){z.g({action:"distance",geoma:a(y),geomb:a(G),spatialReference:c(y.spatialReference),distanceunits:p(Q,3)}).then(function(O){0===O.status?M(Error(O.error.message)):V(O.result)},function(O){M(O)})})};
u.relate=function(y,G,Q){return m.create(function(V,M){z.g({action:"relate",geoma:a(y),geomb:a(G),relation:Q,spatialReference:c(y.spatialReference)}).then(function(O){0===O.status?M(Error(O.error.message)):V(O.result)},function(O){M(O)})})};u.nearestCoordinate=function(y,G,Q){return m.create(function(V,M){var O=y.spatialReference;z.g({action:"nearestcoord",geoma:a(y),geomb:a(G),spatialReference:c(y.spatialReference),testinterior:void 0===Q?!0:Q}).then(function(H){0===H.status?M(Error(H.error.message)):
(H.result.coordinate=l(H.result.coordinate,O),V(H.result))},function(H){M(H)})})};u.nearestVertex=function(y,G){return m.create(function(Q,V){var M=y.spatialReference;z.g({action:"nearestvertex",geoma:a(y),geomb:a(G),spatialReference:c(y.spatialReference)}).then(function(O){0===O.status?V(Error(O.error.message)):(O.result.coordinate=l(O.result.coordinate,M),Q(O.result))},function(O){V(O)})})};u.nearestVertices=function(y,G,Q,V){return m.create(function(M,O){var H=y.spatialReference;z.g({action:"nearestvertices",
geoma:a(y),geomb:a(G),spatialReference:c(y.spatialReference),searchradius:Q,maxreturn:V}).then(function(A){if(0===A.status)O(Error(A.error.message));else{for(var P=0;P<A.result.length;P++)A.result[P].coordinate=l(A.result[P].coordinate,H);M(A.result)}},function(A){O(A)})})};u.cut=function(y,G){return m.create(function(Q,V){var M=y.spatialReference;z.g({action:"cut",geoma:a(y),geomb:a(G),spatialReference:c(y.spatialReference)}).then(function(O){if(0===O.status)V(Error(O.error.message));else{for(var H=
0;H<O.result.length;H++)O.result[H]=l(O.result[H],M);Q(O.result)}},function(O){V(O)})})};u.generalize=function(y,G,Q,V){return m.create(function(M,O){var H=y.spatialReference;z.g({action:"generalize",geoma:a(y),maxdeviation:G,removedegenerateparts:Q,maxdeviationunit:p(V,3),spatialReference:c(y.spatialReference)}).then(function(A){0===A.status?O(Error(A.error.message)):M(l(A.result,H))},function(A){O(A)})})};u.densify=function(y,G,Q){return m.create(function(V,M){var O=y.spatialReference;z.g({action:"densify",
geoma:a(y),maxsegmentlength:G,maxsegmentlengthunit:p(Q,3),spatialReference:c(y.spatialReference)}).then(function(H){0===H.status?M(Error(H.error.message)):V(l(H.result,O))},function(H){M(H)})})};u.geodesicDensify=function(y,G,Q,V){void 0===V&&(V=0);return m.create(function(M,O){var H=y.spatialReference;z.g({action:"geodensify",geoma:a(y),maxsegmentlength:G,maxsegmentlengthunit:p(Q,3),spatialReference:c(y.spatialReference),curveType:V}).then(function(A){0===A.status?O(Error(A.error.message)):M(l(A.result,
H))},function(A){O(A)})})};u.intersect=function(y,G){return y instanceof T?h("intersect",y,G):u.C(y,G)};u.C=function(y,G){return m.create(function(Q,V){for(var M=[],O=0;O<y.length;O++)M.push(a(y[O]));var H=G.spatialReference;z.g({action:"intersectmany",geom:a(G),geometries:M,spatialReference:c(G.spatialReference)}).then(function(A){if(0===A.status)V(Error(A.error.message));else{for(var P=0;P<A.result.length;P++)A.result[P]=l(A.result[P],H);Q(A.result)}},function(A){V(A)})})};u.difference=function(y,
G){return y instanceof T?h("difference",y,G):u.A(y,G)};u.A=function(y,G){return m.create(function(Q,V){for(var M=[],O=0;O<y.length;O++)M.push(a(y[O]));var H=G.spatialReference;z.g({action:"differencemany",geom:a(G),geometries:M,spatialReference:c(G.spatialReference)}).then(function(A){if(0===A.status)V(Error(A.error.message));else{for(var P=0;P<A.result.length;P++)A.result[P]=l(A.result[P],H);Q(A.result)}},function(A){V(A)})})};u.symmetricDifference=function(y,G){return y instanceof T?h("symdifference",
y,G):u.F(y,G)};u.F=function(y,G){return m.create(function(Q,V){for(var M=[],O=0;O<y.length;O++)M.push(a(y[O]));var H=G.spatialReference;z.g({action:"symdifferencemany",geom:a(G),geometries:M,spatialReference:c(G.spatialReference)}).then(function(A){if(0===A.status)V(Error(A.error.message));else{for(var P=0;P<A.result.length;P++)A.result[P]=l(A.result[P],H);Q(A.result)}},function(A){V(A)})})};u.union=function(y,G){void 0===G&&(G=null);return m.create(function(Q,V){var M=[];if(null===y)Q(null);else if(y instanceof
T&&(y=[y],null!==G&&y.push(G)),0===y.length)Q(null);else{for(var O=0;O<y.length;O++)M.push(a(y[O]));var H=y[0].spatialReference;z.g({action:"unionmany",geometries:M,spatialReference:c(H)}).then(function(A){0===A.status?V(Error(A.error.message)):Q(l(A.result,H))},function(A){V(A)})}})};u.buffer=function(y,G,Q,V){void 0===V&&(V=!1);if(y instanceof T)return m.create(function(A,P){var W=y.spatialReference;z.g({action:"buffer",geoma:a(y),spatialReference:c(y.spatialReference),distance:G,unit:p(Q,3),geodesic:!1,
geodesicmaxdeviation:NaN,geodesiccurvetype:0}).then(function(X){0===X.status?P(Error(X.error.message)):A(l(X.result,W))},function(X){P(X)})});if("[object Array]"!==Object.prototype.toString.call(G)){for(var M=[],O=0;O<y.length;O++)M.push(G);G=M}if(G.length!=y.length){if(0==G.length)throw Error("Illegal Argument Exception");M=[];var H=0;for(O=0;O<y.length;O++)void 0===G[O]?M.push(H):(M.push(G[O]),H=G[O]);G=M}return u.u(y,G,Q,!1,V,"geodesic",NaN)};u.geodesicBuffer=function(y,G,Q,V,M,O){if(y instanceof
T)return m.create(function(W,X){void 0===M&&(M=NaN);var ba=y.spatialReference;z.g({action:"buffer",geoma:a(y),spatialReference:c(y.spatialReference),distance:G,unit:p(Q,0),geodesic:!0,geodesicmaxdeviation:M,geodesiccurvetype:f(V)}).then(function(na){0===na.status?X(Error(na.error.message)):W(l(na.result,ba))},function(na){X(na)})});if("[object Array]"!==Object.prototype.toString.call(G)){for(var H=[],A=0;A<y.length;A++)H.push(G);G=H}if(G.length!=y.length){if(0==G.length)throw Error("Illegal Argument Exception");
H=[];var P=0;for(A=0;A<y.length;A++)void 0===G[A]?H.push(P):(H.push(G[A]),P=G[A]);G=H}return u.u(y,G,Q,!0,V,M,O)};u.u=function(y,G,Q,V,M,O,H){return m.create(function(A,P){var W=[];void 0===H&&(H=NaN);if(null===y)A(null);else if(0===y.length)A(null);else{for(var X=0;X<y.length;X++)W.push(a(y[X]));Q=V?p(Q,0):p(Q,3);var ba=y[0].spatialReference;z.g({action:"buffermany",geometries:W,spatialReference:c(ba),distances:G,tounionresults:M,unit:Q,geodesic:V,geodesicmaxdeviation:H,geodesiccurvetype:f(O)}).then(function(na){if(0===
na.status)P(Error(na.error.message));else{for(var da=0;da<na.result.length;da++)na.result[da]=l(na.result[da],ba);A(na.result)}},function(na){P(na)})}})};u.convexHull=function(y,G){void 0===G&&(G=!1);return y instanceof T?m.create(function(Q,V){var M=y.spatialReference;z.g({action:"convexhull",geoma:a(y),spatialReference:c(y.spatialReference)}).then(function(O){0===O.status?V(Error(O.error.message)):Q(l(O.result,M))},function(O){V(O)})}):u.v(y,G)};u.v=function(y,G){return m.create(function(Q,V){for(var M=
[],O=0;O<y.length;O++)M.push(a(y[O]));var H=0<y.length?y[0].spatialReference:null;z.g({action:"convexhullmany",geometries:M,merge:G}).then(function(A){if(0===A.status)V(Error(A.error.message));else{for(var P=0;P<A.result.length;P++)A.result[P]=l(A.result[P],H);Q(A.result)}},function(A){V(A)})})};u.offset=function(y,G,Q,V,M,O){var H=0;if(null!=V&&void 0!=V)switch(V){case "round":H=0;break;case "bevel":H=1;break;case "miter":H=2;break;case "square":H=3}return y instanceof T?m.create(function(A,P){var W=
y.spatialReference;z.g({action:"offset",geoma:a(y),spatialReference:c(y.spatialReference),distance:G,joins:H,bevelratio:M,flattenerror:O,offsetunit:p(Q,3)}).then(function(X){0===X.status?P(Error(X.error.message)):A(l(X.result,W))},function(X){P(X)})}):u.D(y,G,Q,H,M,O)};u.D=function(y,G,Q,V,M,O){return m.create(function(H,A){for(var P=[],W=0;W<y.length;W++)P.push(a(y[W]));var X=0<y.length?y[0].spatialReference:null;z.g({action:"offsetmany",geometries:P,spatialReference:c(X),distance:G,joins:V,bevelratio:M,
offsetunit:p(Q,3),flattenerror:O}).then(function(ba){if(0===ba.status)A(Error(ba.error.message));else{for(var na=0;na<ba.result.length;na++)ba.result[na]=l(ba.result[na],X);H(ba.result)}},function(ba){A(ba)})})};u.planarArea=function(y,G){return m.create(function(Q,V){z.g({action:"area",geoma:a(y),unit:p(G,2),spatialReference:c(y.spatialReference)}).then(function(M){0===M.status?V(Error(M.error.message)):Q(M.result)},function(M){V(M)})})};u.planarLength=function(y,G){return m.create(function(Q,V){z.g({action:"length",
geoma:a(y),unit:p(G,3),spatialReference:c(y.spatialReference)}).then(function(M){0===M.status?V(Error(M.error.message)):Q(M.result)},function(M){V(M)})})};u.geodesicArea=function(y,G,Q){return m.create(function(V,M){z.g({action:"geodesicarea",geoma:a(y),unit:p(G,2),geodesiccurvetype:f(Q),spatialReference:c(y.spatialReference)}).then(function(O){0===O.status?M(Error(O.error.message)):V(O.result)},function(O){M(O)})})};u.geodesicLength=function(y,G,Q){return m.create(function(V,M){z.g({action:"geodesiclength",
geoma:a(y),unit:p(G,0),geodesiccurvetype:f(Q),spatialReference:c(y.spatialReference)}).then(function(O){0===O.status?M(Error(O.error.message)):V(O.result)},function(O){M(O)})})};return u}()})},"esri/workers/WorkerClient":function(){define("dojo/Evented dojo/_base/declare dojo/Deferred dojo/_base/lang dojo/request ../sniff ../kernel ../urlUtils require".split(" "),function(xa,sa,ha,ia,T,N,D,ja,ca){var la=window.Blob||window.webkitBlob||window.mozBlob,S=window.URL||window.webkitURL||window.mozURL;xa=
sa([xa],{declaredClass:"esri.workers.WorkerClient",worker:null,returnDeferreds:!1,_queue:null,constructor:function(m,n,p){this._isIE=N("ie");this.returnDeferreds=!!p;this._queue={};this._acceptMessage=ia.hitch(this,this._acceptMessage);this._errorMessage=ia.hitch(this,this._errorMessage);m&&this.setWorker(m,ia.hitch(this,function(f){this.worker=f;n(f)}))},setWorker:function(m,n){if(m instanceof Array){var p=m;m=p.shift()}var f=this._getUrl(m);f=ja.normalize(f);m=!ja.hasSameOrigin(f,location.href);
if(!1===f)return console.log("Can not resolve worker path"),!1;if(this.worker){var a=this.worker;a.removeEventListener("message",this._acceptMessage,!1);a.removeEventListener("error",this._errorMessage,!1);a.terminate();a=null}if(m){m=this._getUrl("./mutableWorker",!0);try{this._getRemoteText(m,ia.hitch(this,function(l){l=S.createObjectURL(new la([l],{type:"text/javascript"}));n(this._createWorker(l,f))}))}catch(l){try{m=ja.getProxyUrl(m).path+"?"+encodeURI(m),this._useProxy=!0,n(this._createWorker(m,
p))}catch(c){return console.log("Can not create worker"),!1}}}else setTimeout(ia.hitch(this,function(){n(this._createWorker(f,p))}),0)},_createWorker:function(m,n){m=new Worker(m);m.addEventListener("message",this._acceptMessage,!1);m.addEventListener("error",this._errorMessage,!1);this.worker=m;n&&this.importScripts(n);return m},postMessage:function(m,n){if(m instanceof Array||"object"!=typeof m)m={data:m};var p=Math.floor(64E9*Math.random()).toString(36);m.msgId=p;p=this._queue[p]=new ha;this.worker?
(n?this.worker.postMessage(m,n):this.worker.postMessage(m),this.emit("start-message",{target:this,message:m})):p.reject({message:"No worker was set."});return this.returnDeferreds?p:p.promise||p},terminate:function(){var m=Object.keys(this._queue);this.worker&&this.worker.terminate();for(var n=m.length-1;0<=n;n--)this._queue[m[n]].cancel("terminated"),delete this._queue[m[n]]},addWorkerCallback:function(m,n){var p=this._getUrl(m,!0);!1===p?(n=new ha,n.reject({message:"Could not load text from "+m})):
(n=this.postMessage({action:"add-callback",url:p,cbName:n||"main"}),n.then(ia.hitch(this,function(f){f.target=this;this.emit("callback-added",f)})));return n},importScripts:function(m){Array.isArray(m)||(m=[m]);m=m.map(function(n){n=this._getUrl(n,!0);this._useProxy&&!ja.hasSameOrigin(n,location.href)&&(n=ja.getProxyUrl(n).path+"?"+encodeURI(n));return n},this);m=this.postMessage({action:"import-script",url:m});m.then(ia.hitch(this,function(n){n.target=this;this.emit("scripts-imported",n)}));return m},
_acceptMessage:function(m){var n=m.data,p=n.msgId;if(n.status&&"debug"==n.status)console[n.showAs||"debug"](n);else if(p&&p in this._queue){var f=this._queue[p];"progress"==n.status?f.progress(m.data):("error"==n.status?f.reject(m.data):f.resolve(m.data),delete this._queue[p])}this.emit("message",{message:m.data,event:m,target:this})},_errorMessage:function(m){this.onerror||this.onError?this.onerror?this.onerror(m):this.onError(m):console.log("Worker Error: "+m.message+"\nIn "+m.filename+" on "+m.lineno)},
_getUrl:function(m,n){if(!m)return console.error("can not resolve empty path"),!1;m.match(/\.js$/)||(m+=".js");m=ca.toUrl(m);return n?ja.getAbsoluteUrl(m):m},_getRemoteText:function(m,n){(m=this._getUrl(m))&&T.get(m,{sync:!1,handleAs:"text",headers:{"X-Requested-With":"","Content-Type":"text/plain"}}).then(function(p){n(p)})},_startBlobWorker:function(){var m=this._xdSource;m||(m=this._getUrl("./mutableWorker"),m=new la(["if(!self._mutable){importScripts('"+m+"');}"],{type:"text/javascript"}),m=this._xdSource=
S.createObjectURL(m));try{return new Worker(m)}catch(n){return console.log(n.message),!1}}});N("extend-esri")&&ia.setObject("workers.WorkerClient",xa,D);return xa})},"esri/tasks/BufferParameters":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/has ../kernel ../geometry/Polygon ../geometry/jsonUtils".split(" "),function(xa,sa,ha,ia,T,N,D,ja){xa=xa(null,{declaredClass:"esri.tasks.BufferParameters",geometries:null,outSpatialReference:null,bufferSpatialReference:null,
distances:null,unit:null,unionResults:!1,geodesic:!1,toJson:function(){var ca={unit:this.unit,unionResults:this.unionResults,geodesic:this.geodesic},la=this.distances,S=this.outSpatialReference,m=this.bufferSpatialReference,n=ha.map(this.geometries,function(a){a="extent"===a.type?D.fromExtent(a):a;return a.toJson()},this),p=this.geometries;if(p&&0<p.length){var f="extent"===p[0].type?"esriGeometryPolygon":ja.getJsonType(p[0]);ca.geometries=ia.toJson({geometryType:f,geometries:n});ca.inSR=p[0].spatialReference.wkid?
p[0].spatialReference.wkid:ia.toJson(p[0].spatialReference.toJson())}la&&(ca.distances=la.join(","));S&&(ca.outSR=S.wkid?S.wkid:ia.toJson(S.toJson()));m&&(ca.bufferSR=m.wkid?m.wkid:ia.toJson(m.toJson()));return ca}});T("extend-esri")&&sa.setObject("tasks.BufferParameters",xa,N);return xa})},"jimu/dijit/SearchDistance":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/SearchDistance.html dojo/Evented dojo/_base/lang jimu/utils jimu/dijit/CheckBox esri/tasks/GeometryService jimu/dijit/formSelect dijit/form/NumberTextBox".split(" "),
function(xa,sa,ha,ia,T,N,D,ja,ca,la){return xa([sa,ha,ia,N],{baseClass:"jimu-dijit-searchdistance",templateString:T,lastMeters:0,tip:"",distance:0,unit:"",postMixInProperties:function(){this.inherited(arguments);this.nls=D.clone(window.jimuNls.units);this.tip||(this.tip=window.jimuNls.searchDistance.applySearchDistance)},postCreate:function(){this.inherited(arguments);this.cbx=new ca({label:this.tip,onChange:D.hitch(this,this._onCbxChanged)});this.cbx.placeAt(this.cbxDiv);this.reset();this.setDistance(this.distance);
this.setUnit(this.unit);this.lastMeters=this.getMeters()},enable:function(){this.cbx.check()},disable:function(){this.cbx.uncheck()},isEnabled:function(){return this.cbx.getValue()},reset:function(){this.numberTextBox.set("value",0);this.unitSelect.set("value","MILES")},getData:function(){return{status:this.getStatus(),isEnabled:this.isEnabled(),distance:this.getDistance(),unit:this.getUnit(),bufferUnit:this.getUnitToBuffer(),meters:this.getMeters()}},getStatus:function(){if(this.isEnabled()){var S=
this.getDistance();S=0<S?1:0===S?0:-1}else S=0;return S},getMeters:function(){var S=0,m=this.getStatus();if(0<m){m=this.getDistance();var n=this.getUnit();"MILES"===n?S=1609.344*m:"KILOMETERS"===n?S=1E3*m:"FEET"===n?S=.3048*m:"METERS"===n?S=m:"YARDS"===n?S=.9144*m:"NAUTICAL_MILES"===n&&(S=1852*m);S=parseFloat(S.toFixed(3))}else 0===m?S=0:0>m&&(S=-1);return S},setDistance:function(S){"number"===typeof S&&0<=S&&this.numberTextBox.set("value",S)},setUnit:function(S){S&&"string"===typeof S&&this.unitSelect.set("value",
S)},tryShowValidationError:function(){this.numberTextBox.validate()||ja.showValidationErrorTipForFormDijit(this.numberTextBox)},getDistance:function(){return this.numberTextBox.validate()?this.numberTextBox.get("value"):(ja.showValidationErrorTipForFormDijit(this.numberTextBox),-1)},getUnit:function(){return this.unitSelect.get("value")},getUnitToBuffer:function(){var S="";switch(this.unitSelect.get("value")){case "MILES":S=la.UNIT_STATUTE_MILE;break;case "KILOMETERS":S=la.UNIT_KILOMETER;break;case "FEET":S=
la.UNIT_FOOT;break;case "METERS":S=la.UNIT_METER;break;case "YARDS":S=la.UNIT_INTERNATIONAL_YARD;break;case "NAUTICAL_MILES":S=la.UNIT_NAUTICAL_MILE}return S},_onCbxChanged:function(){this.cbx.getValue()?(this.numberTextBox.set("disabled",!1),this.unitSelect.set("disabled",!1)):(this.numberTextBox.set("disabled",!0),this.unitSelect.set("disabled",!0));this._emitEvent()},_onNumberTextBoxChanged:function(){this._emitEvent()},_onUnitSelectChanged:function(){this._emitEvent()},_emitEvent:function(){var S=
this.getData();S.meters!==this.lastMeters&&(this.lastMeters=S.meters,this.emit("change",S))}})})},"jimu/dijit/FeatureSetChooserForMultipleLayers":function(){define("dojo/on dojo/sniff dojo/mouse dojo/query dojo/Evented dojo/_base/html dojo/_base/lang dojo/_base/array dojo/promise/all dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/FeatureSetChooserForMultipleLayers.html dijit/popup dijit/TooltipDialog jimu/utils jimu/dijit/DrawBox jimu/dijit/_FeatureSetChooserCore jimu/SelectionManager jimu/dijit/FeatureActionPopupMenu".split(" "),
function(xa,sa,ha,ia,T,N,D,ja,ca,la,S,m,n,p,f,a,l,c,h,e,k){return la([S,m,n,T],{baseClass:"jimu-multiple-layers-featureset-chooser",declaredClass:"jimu.dijit.FeatureSetChooserForMultipleLayers",templateString:p,drawBox:null,_instances:null,_tooltipDialogTimeoutId1:-1,_tooltipDialogClientX1:-1,_tooltipDialogTimeoutId2:-1,_tooltipDialogClientX2:-1,_tooltipTimeout:1E3,_currentGeoTypeInfo:null,_geoTypeInfos:null,map:null,updateSelection:!1,fullyWithin:!1,geoTypes:null,actions:null,postMixInProperties:function(){this.inherited(arguments);
this.nls=window.jimuNls.featureSetChooser;var d="POINT EXTENT POLYGON CIRCLE POLYLINE FREEHAND_POLYGON".split(" ");this.geoTypes&&0<this.geoTypes.length&&(this.geoTypes=ja.filter(this.geoTypes,D.hitch(this,function(q){return 0<=d.indexOf(q)})));this.geoTypes&&0!==this.geoTypes.length||(this.geoTypes=["EXTENT"])},postCreate:function(){this.inherited(arguments);this._instances=[];this.popupMenu=k.getInstance();ia(".select-text",this.domNode)[0].innerHTML=this.nls.select;ia(".clear-text",this.domNode)[0].innerHTML=
window.jimuNls.common.clear;this._initTooltipDialogs();this._initDrawBox();this._geoTypeInfos=[];this.actions=[];0===this.geoTypes.length&&this.geoTypes.push("EXTENT");1===this.geoTypes.length?N.addClass(this.domNode,"single-geotype"):N.addClass(this.domNode,"multiple-geotypes");var d={POINT:["icon-select-by-point",this.nls.selectByPoint,this.drawBox.pointIcon],EXTENT:["icon-select-by-rect",this.nls.selectByRectangle,this.drawBox.extentIcon],POLYGON:["icon-select-by-polygon",this.nls.selectByPolygon,
this.drawBox.polygonIcon],CIRCLE:["icon-select-by-circle",this.nls.selectByCircle,this.drawBox.circleIcon],POLYLINE:["icon-select-by-line",this.nls.selectByLine,this.drawBox.polylineIcon],FREEHAND_POLYGON:["icon-select-by-freehand-polygon",this.nls.selectByFreehandPolygon,this.drawBox.freehandPolygonIcon]},q=-1;ja.forEach("POINT EXTENT POLYGON CIRCLE POLYLINE FREEHAND_POLYGON".split(" "),D.hitch(this,function(x){var w=d[x];if(0<=this.geoTypes.indexOf(x)){var E={geoType:x,action:{iconClass:w[0],label:w[1],
data:{}},dom:w[2]};w={iconClass:w[0],label:w[1],data:{},onExecute:D.hitch(this,this._onDrawItemClicked,E)};this._geoTypeInfos.push(E);this.actions.push(w);"EXTENT"===x&&(q=this._geoTypeInfos.length-1)}}));this.own(xa(this.btnSelect,"click",D.hitch(this,function(){l.simulateClickEvent(this._currentGeoTypeInfo.dom);this._hideDrawItems()})));0<=q?(this._setCurrentGeoInfo(this._geoTypeInfos[q]),N.addClass(this.geoTypeIcon,"icon-select-by-rect")):(this._setCurrentGeoInfo(this._geoTypeInfos[0]),N.addClass(this.geoTypeIcon,
this._geoTypeInfos[0].action.iconClass));this.deactivate()},_initTooltipDialogs:function(){var d=sa("mac")?"\u2318":"Ctrl",q="- "+this.nls.newSelectionTip+" ("+this.nls.dragMouse+")",x="- "+this.nls.addSelectionTip+" (Shift+"+this.nls.dragBox+")",w="- "+this.nls.removeSelectionTip+" ("+d+"+"+this.nls.dragBox+")",E="- "+this.nls.newSelectionTip+" ("+this.nls.drawShap+")",z="- "+this.nls.addSelectionTip+" (Shift+"+this.nls.darw+")",u="- "+this.nls.removeSelectionTip+" ("+d+"+"+this.nls.darw+")";d=N.create("div",
{innerHTML:'\x3cdiv class\x3d"title"\x3e\x3c/div\x3e\x3cdiv class\x3d"item new-selection-item"\x3e\x3c/div\x3e\x3cdiv class\x3d"item add-selection-item"\x3e\x3c/div\x3e\x3cdiv class\x3d"item remove-selection-item"\x3e\x3c/div\x3e',"class":"dialog-content"});var y=ia(".title",d)[0],G=ia(".new-selection-item",d)[0],Q=ia(".add-selection-item",d)[0],V=ia(".remove-selection-item",d)[0];this.tooltipDialog1=new a({content:d});N.addClass(this.tooltipDialog1.domNode,"jimu-multiple-layers-featureset-chooser-tooltipdialog");
this.own(xa(this.btnSelect,"mousemove",D.hitch(this,function(M){this._tooltipDialogClientX1=M.clientX})));this.own(xa(this.btnSelect,ha.enter,D.hitch(this,function(){clearTimeout(this._tooltipDialogTimeoutId1);this._tooltipDialogTimeoutId1=-1;this._tooltipDialogTimeoutId1=setTimeout(D.hitch(this,function(){if(this.tooltipDialog1){var M=this._currentGeoTypeInfo.geoType;"EXTENT"===M?(G.innerHTML=q,Q.innerHTML=x,V.innerHTML=w,y.innerHTML=this.nls.selectByRectangle):(G.innerHTML=E,Q.innerHTML=z,V.innerHTML=
u,"POLYGON"===M?y.innerHTML=this.nls.selectByPolygon:"CIRCLE"===M?y.innerHTML=this.nls.selectByCircle:"POLYLINE"===M?y.innerHTML=this.nls.selectByLine:"FREEHAND_POLYGON"===M?y.innerHTML=this.nls.selectByFreehandPolygon:"POINT"===M&&(y.innerHTML=this.nls.selectByPoint));f.open({parent:this.getParent(),popup:this.tooltipDialog1,around:this.btnSelect,position:["below"]});0<=this._tooltipDialogClientX1&&(this.tooltipDialog1.domNode.parentNode.style.left=this._tooltipDialogClientX1+"px")}}),this._tooltipTimeout)})));
this.own(xa(this.btnSelect,ha.leave,D.hitch(this,function(){clearTimeout(this._tooltipDialogTimeoutId1);this._tooltipDialogTimeoutId1=-1;this._hideTooltipDialog(this.tooltipDialog1)})));d=N.create("div",{innerHTML:this.nls.unselectAllSelectionTip,"class":"dialog-content"});this.tooltipDialog2=new a({content:d});N.addClass(this.tooltipDialog2.domNode,"jimu-multiple-layers-featureset-chooser-tooltipdialog");this.own(xa(this.btnClear,"mousemove",D.hitch(this,function(M){this._tooltipDialogClientX2=M.clientX})));
this.own(xa(this.btnClear,ha.enter,D.hitch(this,function(){clearTimeout(this._tooltipDialogTimeoutId2);this._tooltipDialogTimeoutId2=-1;this._tooltipDialogTimeoutId2=setTimeout(D.hitch(this,function(){this.tooltipDialog2&&(f.open({parent:this.getParent(),popup:this.tooltipDialog2,around:this.btnClear,position:["below"]}),0<=this._tooltipDialogClientX2&&(this.tooltipDialog2.domNode.parentNode.style.left=this._tooltipDialogClientX2+"px"))}),this._tooltipTimeout)})));this.own(xa(this.btnClear,ha.leave,
D.hitch(this,function(){clearTimeout(this._tooltipDialogTimeoutId2);this._tooltipDialogTimeoutId2=-1;this._hideTooltipDialog(this.tooltipDialog2)})))},_onArrowClicked:function(d){d.stopPropagation();d=N.position(d.target);this._showDrawItems(d)},_setCurrentGeoInfo:function(d){var q=this._currentGeoTypeInfo&&this._currentGeoTypeInfo.geoType;this._currentGeoTypeInfo&&N.removeClass(this.currentDrawItem,this._currentGeoTypeInfo.geoType);this._currentGeoTypeInfo=d;N.addClass(this.currentDrawItem,this._currentGeoTypeInfo.geoType);
this.isActive()?q!==this._currentGeoTypeInfo.geoType&&l.simulateClickEvent(this._currentGeoTypeInfo.dom):l.simulateClickEvent(this._currentGeoTypeInfo.dom)},_showDrawItems:function(d){this.popupMenu.setActions(this.actions);this.popupMenu.markAsSelected(this._currentGeoTypeInfo.action);this.popupMenu.show(d)},_hideDrawItems:function(){this.popupMenu.hide()},_onDrawItemClicked:function(d){this._hideDrawItems();this._setCurrentGeoInfo(d);N.removeClass(this.geoTypeIcon,"icon-select-by-point icon-select-by-circle icon-select-by-rect icon-select-by-polygon icon-select-by-line icon-select-by-freehand-polygon".split(" "));
switch(d.geoType){case "POLYGON":N.addClass(this.geoTypeIcon,"icon-select-by-polygon");break;case "CIRCLE":N.addClass(this.geoTypeIcon,"icon-select-by-circle");break;case "POLYLINE":N.addClass(this.geoTypeIcon,"icon-select-by-line");break;case "FREEHAND_POLYGON":N.addClass(this.geoTypeIcon,"icon-select-by-freehand-polygon");break;case "POINT":N.addClass(this.geoTypeIcon,"icon-select-by-point");break;default:N.addClass(this.geoTypeIcon,"icon-select-by-rect")}},_initDrawBox:function(){this.drawBox=
new c({map:this.map,showClear:!0,keepOneGraphic:!0,deactivateAfterDrawing:!1,geoTypes:this.geoTypes});this.own(xa(this.drawBox,"user-clear",D.hitch(this,this._onDrawBoxUserClear)));this.own(xa(this.drawBox,"draw-end",D.hitch(this,this._onDrawEnd)));this.own(xa(this.drawBox,"draw-activate",D.hitch(this,function(){this.map.infoWindow.hide();N.addClass(this.currentDrawItem,"pressed");N.addClass(this.btnSelect,"selected")})));this.own(xa(this.drawBox,"draw-deactivate",D.hitch(this,function(){N.removeClass(this.currentDrawItem,
"pressed");N.removeClass(this.btnSelect,"selected")})));this.own(xa(this.btnClear,"click",D.hitch(this,function(){l.simulateClickEvent(this.drawBox.btnClear)})))},disable:function(){this.drawBox.disable();N.addClass(this.domNode,"disabled")},enable:function(){this.drawBox.enable();N.removeClass(this.domNode,"disabled")},isActive:function(){return this.drawBox.isActive()},activate:function(){if(!this.isActive()){var d=this._currentGeoTypeInfo;d||(d=this._geoTypeInfos[0]);this._setCurrentGeoInfo(d)}},
deactivate:function(){this.drawBox.deactivate()},setFeatureLayers:function(d){var q=ja.filter(this._instances,D.hitch(this,function(w){return 0>d.indexOf(w.featureLayer)}));ja.forEach(q,D.hitch(this,function(w){this._removeInstance(w)}));var x=ja.map(this._instances,D.hitch(this,function(w){return w.featureLayer}));ja.forEach(d,D.hitch(this,function(w){0>x.indexOf(w)&&this.addFeatureLayer(w)}))},addFeatureLayer:function(d){"esri.layers.FeatureLayer"!==d.declaredClass||this._findInstanceByLayer(d)||
(d=new h({map:this.map,featureLayer:d,drawBox:this.drawBox,updateSelection:this.updateSelection,fullyWithin:this.fullyWithin}),this._instances.push(d))},removeFeatureLayer:function(d){"esri.layers.FeatureLayer"===d.declaredClass&&(d=this._findInstanceByLayer(d))&&this._removeInstance(d)},setDisplayLayerVisibility:function(d,q){(d=e.getInstance().getDisplayLayer(d.id))&&(q?d.show():d.hide())},_removeInstance:function(d){if(d){var q=this._instances.indexOf(d);0<=q&&(d.destroy(),this._instances.splice(q,
1))}},_findInstanceByLayer:function(d){var q=null;ja.some(this._instances,D.hitch(this,function(x){return x.featureLayer===d?(q=x,!0):!1}));return q},clear:function(d){ja.forEach(this._instances,D.hitch(this,function(q){q.clear(d)}))},destroy:function(){this._hideTooltipDialog(this.tooltipDialog1);this._hideTooltipDialog(this.tooltipDialog2);ja.forEach(this._instances,D.hitch(this,function(d){d.destroy()}));this._instances=[];this.drawBox&&this.drawBox.destroy();this.drawBox=null;this.inherited(arguments)},
_hideTooltipDialog:function(d){d&&f.close(d)},_onDrawBoxUserClear:function(){this.clear(!0);this.emit("user-clear")},_onDrawEnd:function(d,q,x,w,E,z){this.drawBox.clear();0<this._instances.length&&setTimeout(D.hitch(this,function(){if(0<this._instances.length){this.emit("loading");this.disable();var u=ja.map(this._instances,D.hitch(this,function(y){return y.getFeatures()}));ca(u).always(D.hitch(this,function(){this.enable();this._currentGeoTypeInfo&&l.simulateClickEvent(this._currentGeoTypeInfo.dom);
this.emit("unloading",d,q,x,w,E,z)}))}}),50)}})})},"jimu/dijit/_FeatureSetChooserCore":function(){define("dojo/on dojo/sniff dojo/Evented dojo/Deferred dojo/_base/lang dojo/_base/array dojo/_base/declare jimu/utils jimu/symbolUtils jimu/SelectionManager jimu/LayerInfos/LayerInfos esri/graphic esri/tasks/query esri/tasks/QueryTask esri/layers/FeatureLayer esri/symbols/jsonUtils esri/geometry/geometryEngine".split(" "),function(xa,sa,ha,ia,T,N,D,ja,ca,la,S,m,n,p,f,a,l){return D([ha],{baseClass:"jimu-featureset-chooser-core",
_middleFeatureLayer:null,_isLoading:!1,_def:null,_isDestroyed:!1,_handles:null,selectionManager:null,layerInfosObj:null,layerInfo:null,map:null,featureLayer:null,drawBox:null,updateSelection:!1,fullyWithin:!1,constructor:function(c){T.mixin(this,c);this.layerInfosObj=S.getInstanceSync();this.selectionManager=la.getInstance();this.featureLayer.getSelectionSymbol()||this.selectionManager.setSelectionSymbol(this.featureLayer);c=ja.getFeatureLayerDefinition(this.featureLayer);delete c.id;this._middleFeatureLayer=
new f({layerDefinition:c,featureSet:null},{id:"featureLayer_"+ja.getRandomString()});c=null;var h=this._middleFeatureLayer.geometryType;"esriGeometryPoint"===h?c=ca.getDefaultMarkerSymbol():"esriGeometryPolyline"===h?c=ca.getDefaultLineSymbol():"esriGeometryPolygon"===h&&(c=a.fromJson({style:"esriSFSSolid",color:[79,129,189,77],type:"esriSFS",outline:{style:"esriSLSSolid",color:[54,93,141,255],width:1.5,type:"esriSLS"}}));this._middleFeatureLayer.setSelectionSymbol(c);c=xa(this.drawBox,"user-clear",
T.hitch(this,this._onDrawBoxUserClear));h=xa(this.drawBox,"draw-end",T.hitch(this,this._onDrawEnd));this._handles=[c,h];if(this.layerInfo=this.layerInfosObj.getLayerInfoById(this.featureLayer.id))c=xa(this.layerInfo,"filterChanged",T.hitch(this,this._handleFilterChange)),this._handles.push(c)},hideMiddleFeatureLayer:function(){if(this._middleFeatureLayer){this._middleFeatureLayer.hide();var c=this.selectionManager.getDisplayLayer(this._middleFeatureLayer.id);c&&c.hide()}},showMiddleFeatureLayer:function(){if(this._middleFeatureLayer){this._middleFeatureLayer.show();
var c=this.selectionManager.getDisplayLayer(this._middleFeatureLayer.id);c&&c.show()}},clear:function(c){this.drawBox.clear();this._clearMiddleFeatureLayer();c&&this.selectionManager.clearSelection(this.featureLayer)},getFeatures:function(){var c=new ia,h=T.hitch(this,function(){var k=this.syncGetFeatures();c.resolve(k)}),e=T.hitch(this,function(k){c.reject(k)});1===this._getDeferredStatus(this._def)?this._def.then(h,e):h();return c},syncGetFeatures:function(){return(this.updateSelection?this.featureLayer:
this._middleFeatureLayer).getSelectedFeatures()},isLoading:function(){return 1===this._getDeferredStatus(this._def)},_onLoading:function(){this.drawBox.deactivate();this.emit("loading")},_onUnloading:function(){this.emit("unloading")},_getDeferredStatus:function(c){var h=0;return h=c?c.isResolved()?2:c.isRejected()?-1:1:0},_onDrawEnd:function(c,h,e,k,d,q){if(this.isLoading())throw"should not draw when loading";if(this.featureLayer.visible){var x=new ia;this._def=x;var w=f.SELECTION_NEW;k&&(w=f.SELECTION_ADD);
sa("mac")?q&&(w=f.SELECTION_SUBTRACT):d&&(w=f.SELECTION_SUBTRACT);this.emit("loading");this._getFeaturesByGeometry(c.geometry).then(T.hitch(this,function(E){this.selectionManager.updateSelectionByFeatures(this.updateSelection?this.featureLayer:this._middleFeatureLayer,E,w);this._onUnloading();x.resolve(E)}),T.hitch(this,function(E){console.error(E);this._onUnloading();x.reject(E)}))}},_addTolerance:function(c){var h=2.54*this.map.getScale()/9600;return l.buffer(c,10*h,"meters")},_getFeaturesByGeometry:function(c){"point"!==
c.type&&"polyline"!==c.type||"esriGeometryPoint"!==this.featureLayer.geometryType||(c=this._addTolerance(c));var h=new ia,e=[];if(this.featureLayer.getMap()&&this.featureLayer.mode!==f.MODE_SELECTION)c=this.selectionManager.getClientFeaturesByGeometry(this.featureLayer,c,this.fullyWithin),0<c.length&&(e=N.map(c,T.hitch(this,function(d){return new m(d.toJson())}))),h.resolve(e);else{e=new n;e.geometry=c;e.outSpatialReference=this.map.spatialReference;e.returnGeometry=!0;e.spatialRelationship=this.fullyWithin?
n.SPATIAL_REL_CONTAINS:n.SPATIAL_REL_INTERSECTS;(c=this.featureLayer.getDefinitionExpression())||(c="1\x3d1");if(this.layerInfo){var k=this.layerInfo.getFilter();k&&(c="("+c+") AND ("+k+")")}c&&(e.where=c);e.outFields=["*"];(new p(this.featureLayer.url)).execute(e).then(T.hitch(this,function(d){h.resolve(d.features)}),T.hitch(this,function(d){h.reject(d)}))}return h},_onDrawBoxUserClear:function(){this.clear()},_clearMiddleFeatureLayer:function(){this._middleFeatureLayer&&(this._middleFeatureLayer.clear(),
this.selectionManager.clearSelection(this._middleFeatureLayer))},_handleFilterChange:function(){var c=this.layerInfo.getFilter()||"1\x3d1",h=this.featureLayer.getSelectedFeatures(),e=this.featureLayer.objectIdField;if(h&&0<h.length){var k=N.map(h,function(q){return q.attributes[e]}),d=new n;d.where=e+" in ("+k.join(",")+") AND "+c;(new p(this.featureLayer.url)).executeForIds(d).then(T.hitch(this,function(q){N.forEach(h,function(x){0<=q.indexOf(x.attributes[e])?x.show():x.hide()});this.selectionManager._isLayerNeedDisplayLayer(this.featureLayer)&&
this.selectionManager._updateDisplayLayer(this.featureLayer,h,f.SELECTION_NEW);this.featureLayer.emit("selection-complete",{features:this.featureLayer.getSelectedFeatures()})}),T.hitch(this,function(q){console.error(q)}))}},destroy:function(){this._isDestroyed||(N.forEach(this._handles,T.hitch(this,function(c){c.remove()})),this._handles=null,this.clear());this._isDestroyed=!0}})})},"widgets/PublicNotification/Download_Avery":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang",
"dojo/Deferred"],function(xa,sa,ha,ia){return sa(null,{constructor:function(){this._jspdf=this._initpdf()},save:function(T,N,D,ja,ca,la){var S=T.length,m,n=Date.now(),p,f=new ia;ca=ha.mixin({canvas:{parentElem:ca,elementName:"labelCanvas"}},D,ja);ca.guidance.labelBorderBlackPercent=this._conformToRange(ca.guidance.labelBorderBlackPercent,0,100,50);ca.guidance.gridBlackPercent=this._conformToRange(ca.guidance.gridBlackPercent,0,100,50);ja=ja.useVectorFonts?null:1;D=D.numLabelsAcross*D.numLabelsDown;
ca.filenameRoot=N;!ca.useVectorFonts&&"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob&&(m=function(){confirm("Continue?")});this._createPDFLabelDocSet(ca,ja,D,S,la,m,function(a){if(0>a||a>=S)return null;var l=xa.filter(T[a],function(c){return c});++a;return l}).then(function(a){p=Date.now();console.log("Elapsed time: "+(p-n)/1E3+" sec.");f.resolve(a)});return f},_StageEnum:{START_ENV:1,FINISH_ENV:2,START_PAGE:3,FINISH_PAGE:4,START_COL:5,START_ROW:6,DRAW_LABEL:7},_createPDFLabelDocSet:function(T,
N,D,ja,ca,la,S){return this._createPDFLabelDocSetContinuation(T,N,D,ja,1,0,ca,la,S)},_createPDFLabelDocSetContinuation:function(T,N,D,ja,ca,la,S,m,n){var p=new ia;var f=-1+(N?Math.min(la+D*N,ja):ja);if(la>f)return p.resolve(!0),p;var a=N?Math.ceil(ja/(D*N)):1;this._createPDFLabelDoc(T,a,ca,la,f,D,n).then(ha.hitch(this,function(l){l?(S&&S.set({value:100*ca/a}),setTimeout(ha.hitch(this,function(){m&&ca<a&&m();this._createPDFLabelDocSetContinuation(T,N,D,ja,++ca,f+1,S,m,n).then(function(c){p.resolve(c)})}),
10)):(console.log("failure in _createPDFLabelDoc; terminate chain"),p.resolve(!1))}));return p},_createPDFLabelDoc:function(T,N,D,ja,ca,la,S){var m=0,n=new ia,p={},f=T.numLabelsDown,a=0,l=0;p.config=T;p.canvas=T.canvas;p.pageNum=0;p.totalPages=Math.ceil((ca-ja+1)/la);p.doc=this._createPDFBuilder();if(p.doc){var c="function"===typeof T.useVectorFonts?T.useVectorFonts:T.useVectorFonts?ha.hitch(this,this._drawUsingVector):ha.hitch(this,this._drawUsingRaster);for(c(this._StageEnum.START_ENV,p);ja<=ca;++ja){var h=
S(ja);Array.isArray(h)&&0!==h.length&&(0===m%la?(0<m&&(c(this._StageEnum.FINISH_PAGE,p),p.doc.addPage()),l=a=0,c(this._StageEnum.START_PAGE,p,p.pageNum++),c(this._StageEnum.START_COL,p,l)):0===m%f&&(c(this._StageEnum.START_COL,p,++l),a=0),c(this._StageEnum.START_ROW,p,a++),c(this._StageEnum.DRAW_LABEL,p,h),++m)}c(this._StageEnum.FINISH_PAGE,p);c(this._StageEnum.FINISH_ENV,p);T.filenameRoot&&(T=T.filenameRoot+(1===N?".pdf":"_"+D+"_"+N+".pdf"),console.log("Saving "+T+"..."),p.doc.save(T),console.log("Saved "+
T));n.resolve(!0);return n}n.resolve(!1)},_drawUsingVector:function(T,N,D){function ja(ca){var la=N.config.labelWidthIn-3*N.config.insetIn;if(this._getTextWidthIn(N.doc,ca)>la){do ca=ca.slice(0,-1);while(this._getTextWidthIn(N.doc,ca)>la);ca+="..."}return ca}switch(T){case this._StageEnum.START_ENV:N.vector={fontHeightIn:N.config.fontSizePx/N.doc.internal.scaleFactor};N.vector.verticalFontGapIn=.2*N.vector.fontHeightIn;break;case this._StageEnum.START_PAGE:N.doc.setFont("sans-serif","normal");N.doc.setFontSize(N.config.fontSizePx);
break;case this._StageEnum.FINISH_PAGE:this._drawFrame(N);break;case this._StageEnum.START_COL:N.vector.currentLabelLeftIn=N.config.pageLeftIn+D*(N.config.labelWidthIn+N.config.horizGapIn);break;case this._StageEnum.START_ROW:N.vector.currentLabelTopIn=N.config.pageTopIn+D*(N.config.labelHeightIn+N.config.vertGapIn);break;case this._StageEnum.DRAW_LABEL:D=D.map(ha.hitch(this,ja)),T=N.vector.currentLabelTopIn+N.config.labelHeightIn/2,N.doc.text(D,N.vector.currentLabelLeftIn+N.config.insetIn,T+(2-D.length)/
2*N.vector.fontHeightIn+(1-D.length)/2*N.vector.verticalFontGapIn)}},_drawUsingRaster:function(T,N,D){var ja=dojo.locale&&dojo.locale.substring(0,2)||"en";var ca=N.raster?N.raster.canvas:null;var la=N.raster?N.raster.canvasLabel:null;var S=N.config.rasterResolutionPxPerIn;var m=/[\u0580-\u07FF]/;switch(T){case this._StageEnum.START_ENV:ca=document.getElementById(N.canvas.elementName)||this._createCanvas(N.canvas.parentElem,N.canvas.elementName,N.config.pageWidthIn*S,N.config.pageHeightIn*S);la=document.getElementById(N.canvas.elementName+
"_label")||this._createCanvas(N.canvas.parentElem,N.canvas.elementName+"_label",N.config.labelWidthIn*S,N.config.labelHeightIn*S);N.raster={pageTopPx:N.config.pageTopIn*S,pageRightPx:N.config.pageRightIn*S,pageBottomPx:N.config.pageBottomIn*S,pageLeftPx:N.config.pageLeftIn*S,labelWidthPx:N.config.labelWidthIn*S,labelHeightPx:N.config.labelHeightIn*S,labelHorizGapPx:N.config.horizGapIn*S,labelVertGapPx:N.config.vertGapIn*S,marginPx:N.config.insetIn*S,fontHeightPx:N.config.fontSizePx*S/100*1.32};N.raster.verticalFontGapPx=
.2*N.raster.fontHeightPx;N.raster.canvas=ca;N.raster.canvasLabel=la;N.raster.ctx=ca.getContext("2d");N.raster.ctxLabel=la.getContext("2d");N.raster.ctxLabel.font="normal "+N.raster.fontHeightPx+"px sans-serif";break;case this._StageEnum.FINISH_ENV:N.canvas.parentElem.removeChild(ca);N.raster.canvas=null;N.canvas.parentElem.removeChild(la);N.raster.canvasLabel=null;break;case this._StageEnum.FINISH_PAGE:D=ca.toDataURL("image/png");N.doc.addImage(D,"png",0,0,8.5,11);N.raster.ctx.clearRect(0,0,ca.width,
ca.height);this._drawFrame(N);break;case this._StageEnum.START_COL:N.raster.currentLabelLeftPx=N.raster.pageLeftPx+D*(N.raster.labelWidthPx+N.raster.labelHorizGapPx);N.raster.currentLabelRightPx=N.raster.pageLeftPx+(D+1)*N.raster.labelWidthPx+D*N.raster.labelHorizGapPx;break;case this._StageEnum.START_ROW:N.raster.currentLabelTopPx=N.raster.pageTopPx+D*(N.raster.labelHeightPx+N.raster.labelVertGapPx);break;case this._StageEnum.DRAW_LABEL:T=N.raster.labelHeightPx/2;ca=N.raster.marginPx;T=T+(2-D.length)/
2*N.raster.fontHeightPx+(1-D.length)/2*N.raster.verticalFontGapPx;N.raster.ctxLabel.clearRect(0,0,la.width,la.height);var n=la.width-N.raster.marginPx-N.raster.marginPx;for(S=0;S<D.length;++S)0<=["ar","he"].indexOf(ja)?ca=la.width-N.raster.marginPx:m.test(D[S])&&(ca=la.width-N.raster.marginPx-N.raster.ctxLabel.measureText(D[S]).getWidth()),N.raster.ctxLabel.fillText(D[S],ca,T,n),T+=N.raster.verticalFontGapPx+N.raster.fontHeightPx;N.raster.ctx.drawImage(N.raster.canvasLabel,N.raster.currentLabelLeftPx,
N.raster.currentLabelTopPx)}},_conformToRange:function(T,N,D,ja){T=parseFloat(T);Number.isNaN(T)&&(T=ja);return Math.max(N,Math.min(D,T))},_createPDFBuilder:function(){return new this._jspdf({orientation:"portrait",unit:"in",format:"letter"})},_createCanvas:function(T,N,D,ja){var ca=document.createElement("canvas");ca.id=N;ca.style.display="none";ca.style.visibility="hidden";ca.width=D;ca.height=ja;T.appendChild(ca);return ca},_getTextWidthIn:function(T,N){return T.getStringUnitWidth(N)*T.internal.getFontSize()/
T.internal.scaleFactor},_drawFrame:function(T){var N=new Date,D=dojo.locale&&dojo.locale.substring(0,2)||"en";var ja=T.config.pageTopIn-.08;var ca=T.config.pageHeightIn-T.config.pageBottomIn+T.config.guidance.noteFontSizePx/T.doc.internal.scaleFactor+.08;T.config.showGuidance&&(T.doc.setFont("sans-serif","italic"),T.doc.setFontSize(T.config.guidance.noteFontSizePx),(D=0<="da de en es et fi fr id it nb nl pt sr sv".split(" ").indexOf(D))&&T.doc.text(T.config.guidance.printSuggestion,T.config.pageLeftIn+
.1,ja),ja=(T.config.useVectorFonts?"v":"r"+T.config.rasterResolutionPxPerIn)+"  "+T.pageNum+"/"+T.totalPages,D&&(ja+=("  "+N.toLocaleDateString()+" "+N.toLocaleTimeString()).replace(/\u200e/gi,"")),T.doc.text(ja,T.config.pageLeftIn+.1,ca),T.config.guidance.showGrid&&(T.doc.setLineWidth(.01),T.doc.setDrawColor((1-T.config.guidance.gridBlackPercent/100).toString()),this._drawMeasurementGrid(T.doc,T.config,T.config.guidance.leftIn,T.config.guidance.rightIn,.05,T.config.guidance.majorTickIn),this._drawMeasurementGrid(T.doc,
T.config,T.config.guidance.leftIn,T.config.guidance.rightIn,.015,T.config.guidance.minorTickIn)),T.config.guidance.showLabelOutlines&&(T.doc.setLineWidth(.01),T.doc.setDrawColor((1-T.config.guidance.labelBorderBlackPercent/100).toString()),this._drawLabelsGrid(T.doc,T.config.numLabelsAcross,T.config.numLabelsDown,T.config.pageLeftIn,T.config.pageTopIn,T.config.labelWidthIn,T.config.labelHeightIn,T.config.horizGapIn,T.config.vertGapIn)),T.doc.setDrawColor(0))},_drawLabelsGrid:function(T,N,D,ja,ca,
la,S,m,n){var p,f;for(p=0;p<N;++p)for(f=0;f<D;++f)T.rect(ja+p*(la+m),ca+f*(S+n),la,S)},_drawMeasurementGrid:function(T,N,D,ja,ca,la){T.rect(N.pageLeftIn,N.pageTopIn,N.pageWidthIn-N.pageLeftIn-N.pageRightIn,N.pageHeightIn-N.pageTopIn-N.pageBottomIn);this._drawVertGridTickLines(T,0,N.pageWidthIn,N.pageTopIn,ca,la);this._drawVertGridTickLines(T,0,N.pageWidthIn,N.pageHeightIn-N.pageBottomIn,-ca,la);this._drawHorizGridTickLines(T,0,N.pageHeightIn,Math.max(D,N.pageLeftIn),ca,la);this._drawHorizGridTickLines(T,
0,N.pageHeightIn,N.pageWidthIn-Math.max(ja,N.pageRightIn),-ca,la)},_drawVertGridTickLines:function(T,N,D,ja,ca,la){for(;N<=D;N+=la)this._drawPDFLine(T,N,ja,N,ja+ca)},_drawHorizGridTickLines:function(T,N,D,ja,ca,la){for(;N<=D;N+=la)this._drawPDFLine(T,ja,N,ja+ca,N)},_drawPDFLine:function(T,N,D,ja,ca){T.lines([[ja-N,ca-D]],N,D)},_initpdf:function(){var T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"===typeof Symbol&&m.constructor===
Symbol&&m!==Symbol.prototype?"symbol":typeof m};(function(){function m(p){this.value=p}function n(p){function f(h,e){try{var k=p[h](e),d=k.value;d instanceof m?Promise.resolve(d.value).then(function(q){f("next",q)},function(q){f("throw",q)}):a(k.done?"return":"normal",k.value)}catch(q){a("throw",q)}}function a(h,e){switch(h){case "return":l.resolve({value:e,done:!0});break;case "throw":l.reject(e);break;default:l.resolve({value:e,done:!1})}(l=l.next)?f(l.key,l.arg):c=null}var l,c;this._invoke=function(h,
e){return new Promise(function(k,d){k={key:h,arg:e,resolve:k,reject:d,next:null};c?c=c.next=k:(l=c=k,f(h,e))})};"function"!==typeof p.return&&(this.return=void 0)}"function"===typeof Symbol&&Symbol.asyncIterator&&(n.prototype[Symbol.asyncIterator]=function(){return this});n.prototype.next=function(p){return this._invoke("next",p)};n.prototype.throw=function(p){return this._invoke("throw",p)};n.prototype.return=function(p){return this._invoke("return",p)};return{wrap:function(p){return function(){return new n(p.apply(this,
arguments))}},await:function(p){return new m(p)}}})();var N=function(m){function n(a){var l={};this.subscribe=function(c,h,e){if("function"!==typeof h)return!1;l.hasOwnProperty(c)||(l[c]={});var k=Math.random().toString(35);l[c][k]=[h,!!e];return k};this.unsubscribe=function(c){for(var h in l)if(l[h][c])return delete l[h][c],!0;return!1};this.publish=function(c){if(l.hasOwnProperty(c)){var h=Array.prototype.slice.call(arguments,1),e=[],k;for(k in l[c]){var d=l[c][k];try{d[0].apply(a,h)}catch(q){m.console&&
console.error("jsPDF PubSub Error",q.message,q)}d[1]&&e.push(k)}e.length&&e.forEach(this.unsubscribe)}}}function p(a,l,c,h){var e={};"object"===("undefined"===typeof a?"undefined":T(a))&&(e=a,a=e.orientation,l=e.unit||l,c=e.format||c,h=e.compress||e.compressPdf||h);l=l||"mm";c=c||"a4";a=(""+(a||"P")).toLowerCase();(""+c).toLowerCase();var k=!!h&&"function"===typeof Uint8Array,d=e.textColor||"0 g",q=e.drawColor||"0 G",x=e.fontSize||16,w=e.lineHeight||1.15,E=e.lineWidth||.200025,z=2,u=!1,y=[],G={},
Q={},V,M=0,O,H=[],A=[],P=[],W=[],X=[],ba=0,na=0,da=0,Ba,qa,ya,t,v,F={title:"",subject:"",author:"",keywords:"",creator:""},C={},J=new n(C),R=function(K){return K.toFixed(2)},oa=function(K){return("0"+parseInt(K)).slice(-2)},aa=function(K){u?H[O].push(K):(da+=K.length+1,W.push(K))},wa=function(){z++;y[z]=da;aa(z+" 0 obj");return z},B=function(K){aa("stream");aa(K);aa("endstream")},I=function(K,U,ka,ta){var pa="F"+(Object.keys(G).length+1).toString(10);K=G[pa]={id:pa,PostScriptName:K,fontName:U,fontStyle:ka,
encoding:ta,metadata:{}};Q.hasOwnProperty(U)||(Q[U]={});Q[U][ka]=pa;J.publish("addFont",K);return pa},L=function(K,U){var ka,ta;U=U||{};var pa=U.sourceEncoding||"Unicode";var Aa=U.outputEncoding;if((U.autoencode||Aa)&&G[Na].metadata&&G[Na].metadata[pa]&&G[Na].metadata[pa].encoding&&(pa=G[Na].metadata[pa].encoding,!Aa&&G[Na].encoding&&(Aa=G[Na].encoding),!Aa&&pa.codePages&&(Aa=pa.codePages[0]),"string"===typeof Aa&&(Aa=pa[Aa]),Aa)){var Ga=!1;var Fa=[];pa=0;for(ka=K.length;pa<ka;pa++)(ta=Aa[K.charCodeAt(pa)])?
Fa.push(String.fromCharCode(ta)):Fa.push(K[pa]),Fa[pa].charCodeAt(0)>>8&&(Ga=!0);K=Fa.join("")}for(pa=K.length;void 0===Ga&&0!==pa;)K.charCodeAt(pa-1)>>8&&(Ga=!0),pa--;if(Ga){Fa=U.noBOM?[]:[254,255];pa=0;for(ka=K.length;pa<ka;pa++){ta=K.charCodeAt(pa);Ga=ta>>8;if(Ga>>8)throw Error("Character at position "+pa+" of string '"+K+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Fa.push(Ga);Fa.push(ta-(Ga<<8))}K=String.fromCharCode.apply(void 0,Fa)}return K.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,
"\\)")},Z=function(K,U){var ka="string"===typeof U&&U.toLowerCase();if("string"===typeof K){var ta=K.toLowerCase();f.hasOwnProperty(ta)&&(K=f[ta][0]/za,U=f[ta][1]/za)}Array.isArray(K)&&(U=K[1],K=K[0]);if(ka){switch(ka.substr(0,1)){case "l":U>K&&(ka="s");break;case "p":K>U&&(ka="s")}"s"===ka&&(V=K,K=U,U=V)}u=!0;H[++M]=[];P[M]={width:Number(K)||Ba,height:Number(U)||qa};A[M]={};va(M)},ea=function(){Z.apply(this,arguments);aa(R(E*za)+" w");aa(q);0!==ba&&aa(ba+" J");0!==na&&aa(na+" j");J.publish("addPage",
{pageNumber:M})},Y=function(K){0<K&&K<=M&&(H.splice(K,1),P.splice(K,1),M--,O>M&&(O=M),this.setPage(O))},va=function(K){0<K&&K<=M&&(O=K,Ba=P[K].width,qa=P[K].height)},ma=function(K,U){K=void 0!==K?K:G[Na].fontName;U=void 0!==U?U:G[Na].fontStyle;void 0!==K&&(K=K.toLowerCase());switch(K){case "sans-serif":case "verdana":case "arial":case "helvetica":K="helvetica";break;case "fixed":case "monospace":case "terminal":case "courier":K="courier";break;default:K="times"}try{var ka=Q[K][U]}catch(ta){}ka||(ka=
Q.times[U],null==ka&&(ka=Q.times.normal));return ka},Ea=function(){u=!1;z=2;da=0;W=[];y=[];X=[];J.publish("buildDocument");aa("%PDF-1.3");var K,U,ka=[];var ta=m.adler32cs||p.adler32cs;k&&"undefined"===typeof ta&&(k=!1);for(K=1;K<=M;K++){ka.push(wa());var pa=(Ba=P[K].width)*za;var Aa=(qa=P[K].height)*za;aa("\x3c\x3c/Type /Page");aa("/Parent 1 0 R");aa("/Resources 2 0 R");aa("/MediaBox [0 0 "+R(pa)+" "+R(Aa)+"]");J.publish("putPage",{pageNumber:K,page:H[K]});aa("/Contents "+(z+1)+" 0 R");aa("\x3e\x3e");
aa("endobj");Aa=H[K].join("\n");wa();if(k){pa=[];for(U=Aa.length;U--;)pa[U]=Aa.charCodeAt(U);U=ta.from(Aa);Aa=new ca(6);Aa.append(new Uint8Array(pa));Aa=Aa.flush();pa=new Uint8Array(Aa.length+6);pa.set(new Uint8Array([120,156]));pa.set(Aa,2);pa.set(new Uint8Array([U&255,U>>8&255,U>>16&255,U>>24&255]),Aa.length+2);Aa=String.fromCharCode.apply(null,pa);aa("\x3c\x3c/Length "+Aa.length+" /Filter [/FlateDecode]\x3e\x3e")}else aa("\x3c\x3c/Length "+Aa.length+"\x3e\x3e");B(Aa);aa("endobj")}y[1]=da;aa("1 0 obj");
aa("\x3c\x3c/Type /Pages");K="/Kids [";for(U=0;U<M;U++)K+=ka[U]+" 0 R ";aa(K+"]");aa("/Count "+M);aa("\x3e\x3e");aa("endobj");J.publish("postPutPages");J.publish("putAdditionalObjects");for(ka=0;ka<X.length;ka++)K=X[ka],y[K.objId]=da,aa(K.objId+" 0 obj"),aa(K.content),aa("endobj");z+=X.length;J.publish("postPutAdditionalObjects");for(var Ga in G)G.hasOwnProperty(Ga)&&(ka=G[Ga],ka.objectNumber=wa(),aa("\x3c\x3c/BaseFont/"+ka.PostScriptName+"/Type/Font"),"string"===typeof ka.encoding&&aa("/Encoding/"+
ka.encoding),aa("/Subtype/Type1\x3e\x3e"),aa("endobj"));J.publish("putResources");y[2]=da;aa("2 0 obj");aa("\x3c\x3c");aa("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]");aa("/Font \x3c\x3c");for(var Fa in G)G.hasOwnProperty(Fa)&&aa("/"+Fa+" "+G[Fa].objectNumber+" 0 R");aa("\x3e\x3e");aa("/XObject \x3c\x3c");J.publish("putXobjectDict");aa("\x3e\x3e");aa("\x3e\x3e");aa("endobj");J.publish("postPutResources");wa();aa("\x3c\x3c");aa("/Producer (jsPDF "+p.version+")");for(var Ka in F)F.hasOwnProperty(Ka)&&
F[Ka]&&aa("/"+Ka.substr(0,1).toUpperCase()+Ka.substr(1)+" ("+L(F[Ka])+")");Ga=new Date;Fa=Ga.getTimezoneOffset();Ka=Math.abs(Fa%60);Fa=[0>Fa?"+":"-",oa(Math.floor(Math.abs(Fa/60))),"'",oa(Ka),"'"].join("");aa(["/CreationDate (D:",Ga.getFullYear(),oa(Ga.getMonth()+1),oa(Ga.getDate()),oa(Ga.getHours()),oa(Ga.getMinutes()),oa(Ga.getSeconds()),Fa,")"].join(""));aa("\x3e\x3e");aa("endobj");wa();aa("\x3c\x3c");aa("/Type /Catalog");aa("/Pages 1 0 R");t||(t="fullwidth");switch(t){case "fullwidth":aa("/OpenAction [3 0 R /FitH null]");
break;case "fullheight":aa("/OpenAction [3 0 R /FitV null]");break;case "fullpage":aa("/OpenAction [3 0 R /Fit]");break;case "original":aa("/OpenAction [3 0 R /XYZ null null 1]");break;default:Ga=""+t,"%"===Ga.substr(Ga.length-1)&&(t=parseInt(t)/100),"number"===typeof t&&aa("/OpenAction [3 0 R /XYZ null null "+R(t)+"]")}v||(v="continuous");switch(v){case "continuous":aa("/PageLayout /OneColumn");break;case "single":aa("/PageLayout /SinglePage");break;case "two":case "twoleft":aa("/PageLayout /TwoColumnLeft");
break;case "tworight":aa("/PageLayout /TwoColumnRight")}ya&&aa("/PageMode /"+ya);J.publish("putCatalog");aa("\x3e\x3e");aa("endobj");Ga=da;aa("xref");aa("0 "+(z+1));aa("0000000000 65535 f ");for(Fa=1;Fa<=z;Fa++)"function"===typeof y[Fa]?aa(("0000000000"+y[Fa]()).slice(-10)+" 00000 n "):aa(("0000000000"+y[Fa]).slice(-10)+" 00000 n ");aa("trailer");aa("\x3c\x3c");aa("/Size "+(z+1));aa("/Root "+z+" 0 R");aa("/Info "+(z-1)+" 0 R");aa("\x3e\x3e");aa("startxref");aa(""+Ga);aa("%%EOF");u=!0;return W.join("\n")},
La=function(K){var U="S";if("F"===K)U="f";else if("FD"===K||"DF"===K)U="B";else if("f"===K||"f*"===K||"B"===K||"B*"===K)U=K;return U},Ta=function(){for(var K=Ea(),U=K.length,ka=new ArrayBuffer(U),ta=new Uint8Array(ka);U--;)ta[U]=K.charCodeAt(U);return ka},Ia=function(){return new Blob([Ta()],{type:"application/pdf"})},Ma=function(K){K.foo=function(){try{return K.apply(this,arguments)}catch(ka){var U=ka.stack||"";~U.indexOf(" at ")&&(U=U.split(" at ")[1]);U="Error in function "+U.split("\n")[0].split("\x3c")[0]+
": "+ka.message;if(m.console)m.console.error(U,ka),m.alert&&alert(U);else throw Error(U);}};K.foo.bar=K;return K.foo}(function(K,U){var ka="dataur"===(""+K).substr(0,6)?"data:application/pdf;base64,"+btoa(Ea()):0;switch(K){case void 0:return Ea();case "save":if(navigator.getUserMedia&&(void 0===m.URL||void 0===m.URL.createObjectURL))return C.output("dataurlnewwindow");ka=saveAs(Ia(),U);"function"===typeof saveAs.unload&&m.setTimeout&&setTimeout(saveAs.unload,911);return ka;case "arraybuffer":return Ta();
case "blob":return Ia();case "bloburi":case "bloburl":return m.URL&&m.URL.createObjectURL(Ia())||void 0;case "datauristring":case "dataurlstring":return ka;case "dataurlnewwindow":if((K=m.open(ka))||"undefined"===typeof safari)return K;case "datauri":case "dataurl":return m.document.location.href=ka;default:throw Error('Output type "'+K+'" is not supported.');}});switch(l){case "pt":var za=1;break;case "mm":za=72/25.4000508;break;case "cm":za=72/2.54000508;break;case "in":za=72;break;case "px":za=
96/72;break;case "pc":za=12;break;case "em":za=12;break;case "ex":za=6;break;default:throw"Invalid unit: "+l;}C.internal={pdfEscape:L,getStyle:La,getFont:function(){return G[ma.apply(C,arguments)]},getFontSize:function(){return x},getLineHeight:function(){return x*w},write:function(K){aa(1===arguments.length?K:Array.prototype.join.call(arguments," "))},getCoordinateString:function(K){return R(K*za)},getVerticalCoordinateString:function(K){return R((qa-K)*za)},collections:{},newObject:wa,newAdditionalObject:function(){var K=
2*H.length+1;K+=X.length;K={objId:K,content:""};X.push(K);return K},newObjectDeferred:function(){z++;y[z]=function(){return da};return z},newObjectDeferredBegin:function(K){y[K]=da},putStream:B,events:J,scaleFactor:za,pageSize:{getWidth:function(){return Ba},getHeight:function(){return qa}},output:function(K,U){return Ma(K,U)},getNumberOfPages:function(){return H.length-1},pages:H,out:aa,f2:R,getPageInfo:function(K){return{objId:2*(K-1)+3,pageNumber:K,pageContext:A[K]}},getCurrentPageInfo:function(){return{objId:2*
(O-1)+3,pageNumber:O,pageContext:A[O]}},getPDFVersion:function(){return"1.3"}};C.addPage=function(){ea.apply(this,arguments);return this};C.setPage=function(){va.apply(this,arguments);return this};C.insertPage=function(K){this.addPage();this.movePage(O,K);return this};C.movePage=function(K,U){if(K>U){for(var ka=H[K],ta=P[K],pa=A[K];K>U;K--)H[K]=H[K-1],P[K]=P[K-1],A[K]=A[K-1];H[U]=ka;P[U]=ta;A[U]=pa;this.setPage(U)}else if(K<U){ka=H[K];ta=P[K];for(pa=A[K];K<U;K++)H[K]=H[K+1],P[K]=P[K+1],A[K]=A[K+1];
H[U]=ka;P[U]=ta;A[U]=pa;this.setPage(U)}return this};C.deletePage=function(){Y.apply(this,arguments);return this};C.setDisplayMode=function(K,U,ka){t=K;v=U;ya=ka;if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(ka))throw Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+ka+'" is not recognized.');return this};C.text=function(K,U,ka,ta,pa,Aa){function Ga(Ha){Ha=Ha.split("\t").join(Array(e.TabLen||9).join(" "));return L(Ha,ta)}"number"===
typeof K&&(V=ka,ka=U,U=K,K=V);"string"===typeof K&&(K=K.match(/[\n\r]/)?K.split(/\r\n|\r|\n/g):[K]);"string"===typeof pa&&(Aa=pa,pa=null);"string"===typeof ta&&(Aa=ta,ta=null);"number"===typeof ta&&(pa=ta,ta=null);var Fa="",Ka="Td";pa&&(pa*=Math.PI/180,Fa=Math.cos(pa),Ka=Math.sin(pa),Fa=[R(Fa),R(Ka),R(-1*Ka),R(Fa),""].join(" "),Ka="Tm");ta=ta||{};"noBOM"in ta||(ta.noBOM=!0);"autoencode"in ta||(ta.autoencode=!0);pa="";var Ja=this.internal.getCurrentPageInfo().pageContext;!0===ta.stroke?!0!==Ja.lastTextWasStroke&&
(pa="1 Tr\n",Ja.lastTextWasStroke=!0):(Ja.lastTextWasStroke&&(pa="0 Tr\n"),Ja.lastTextWasStroke=!1);"undefined"===typeof this._runningPageHeight&&(this._runningPageHeight=0);if("string"===typeof K)K=Ga(K);else if("[object Array]"===Object.prototype.toString.call(K)){var Ra=K.concat();Ja=[];for(var Wa=Ra.length;Wa--;)Ja.push(Ga(Ra.shift()));if(Aa){var Oa=x*w,fa=K.map(function(Ha){return this.getStringUnitWidth(Ha)*x/za},this);var ra=Math.max.apply(Math,fa);if("center"===Aa)Ra=U-ra/2,U-=fa[0]/2;else if("right"===
Aa)Ra=U-ra,U-=fa[0];else throw Error('Unrecognized alignment option, use "center" or "right".');var ua=U;K=Ja[0];var Ca=1;for(Wa=Ja.length;Ca<Wa;Ca++){var Da=ra-fa[Ca];"center"===Aa&&(Da/=2);K+=") Tj\n"+(Ra-ua+Da)+" -"+Oa+" Td ("+Ja[Ca];ua=Ra+Da}}else K=Ja.join(") Tj\nT* (")}else throw Error('Type of text must be string or Array. "'+K+'" is not recognized.');ka=R((qa-ka)*za);aa("BT\n/"+Na+" "+x+" Tf\n"+x*w+" TL\n"+pa+d+"\n"+Fa+R(U*za)+" "+ka+" "+Ka+"\n("+K+") Tj\nET");return this};C.lstext=function(K,
U,ka,ta){console.warn("jsPDF.lstext is deprecated");for(var pa=0,Aa=K.length;pa<Aa;pa++,U+=ta)this.text(K[pa],U,ka);return this};C.line=function(K,U,ka,ta){return this.lines([[ka-K,ta-U]],K,U)};C.clip=function(){aa("W");aa("S")};C.clip_fixed=function(K){"evenodd"===K?aa("W*"):aa("W");aa("n")};C.lines=function(K,U,ka,ta,pa,Aa){"number"===typeof K&&(V=ka,ka=U,U=K,K=V);ta=ta||[1,1];aa((U*za).toFixed(3)+" "+((qa-ka)*za).toFixed(3)+" m ");var Ga=ta[0];ta=ta[1];var Fa=K.length;var Ka=ka;for(ka=0;ka<Fa;ka++){var Ja=
K[ka];if(2===Ja.length)U=Ja[0]*Ga+U,Ka=Ja[1]*ta+Ka,aa((U*za).toFixed(3)+" "+((qa-Ka)*za).toFixed(3)+" l");else{var Ra=Ja[0]*Ga+U;var Wa=Ja[1]*ta+Ka;var Oa=Ja[2]*Ga+U;var fa=Ja[3]*ta+Ka;U=Ja[4]*Ga+U;Ka=Ja[5]*ta+Ka;aa((Ra*za).toFixed(3)+" "+((qa-Wa)*za).toFixed(3)+" "+(Oa*za).toFixed(3)+" "+((qa-fa)*za).toFixed(3)+" "+(U*za).toFixed(3)+" "+((qa-Ka)*za).toFixed(3)+" c")}}Aa&&aa(" h");null!==pa&&aa(La(pa));return this};C.rect=function(K,U,ka,ta,pa){La(pa);aa([R(K*za),R((qa-U)*za),R(ka*za),R(-ta*za),"re"].join(" "));
null!==pa&&aa(La(pa));return this};C.triangle=function(K,U,ka,ta,pa,Aa,Ga){this.lines([[ka-K,ta-U],[pa-ka,Aa-ta],[K-pa,U-Aa]],K,U,[1,1],Ga,!0);return this};C.roundedRect=function(K,U,ka,ta,pa,Aa,Ga){var Fa=4/3*(Math.SQRT2-1);this.lines([[ka-2*pa,0],[pa*Fa,0,pa,Aa-Aa*Fa,pa,Aa],[0,ta-2*Aa],[0,Aa*Fa,-(pa*Fa),Aa,-pa,Aa],[-ka+2*pa,0],[-(pa*Fa),0,-pa,-(Aa*Fa),-pa,-Aa],[0,-ta+2*Aa],[0,-(Aa*Fa),pa*Fa,-Aa,pa,-Aa]],K+pa,U,[1,1],Ga);return this};C.ellipse=function(K,U,ka,ta,pa){var Aa=4/3*(Math.SQRT2-1)*ka,
Ga=4/3*(Math.SQRT2-1)*ta;aa([R((K+ka)*za),R((qa-U)*za),"m",R((K+ka)*za),R((qa-(U-Ga))*za),R((K+Aa)*za),R((qa-(U-ta))*za),R(K*za),R((qa-(U-ta))*za),"c"].join(" "));aa([R((K-Aa)*za),R((qa-(U-ta))*za),R((K-ka)*za),R((qa-(U-Ga))*za),R((K-ka)*za),R((qa-U)*za),"c"].join(" "));aa([R((K-ka)*za),R((qa-(U+Ga))*za),R((K-Aa)*za),R((qa-(U+ta))*za),R(K*za),R((qa-(U+ta))*za),"c"].join(" "));aa([R((K+Aa)*za),R((qa-(U+ta))*za),R((K+ka)*za),R((qa-(U+Ga))*za),R((K+ka)*za),R((qa-U)*za),"c"].join(" "));null!==pa&&aa(La(pa));
return this};C.circle=function(K,U,ka,ta){return this.ellipse(K,U,ka,ka,ta)};C.setProperties=function(K){for(var U in F)F.hasOwnProperty(U)&&K[U]&&(F[U]=K[U]);return this};C.setFontSize=function(K){x=K;return this};C.setFont=function(K,U){Na=ma(K,U);return this};C.setFontStyle=C.setFontType=function(K){Na=ma(void 0,K);return this};C.getFontList=function(){var K={},U,ka,ta;for(U in Q)if(Q.hasOwnProperty(U))for(ka in K[U]=ta=[],Q[U])Q[U].hasOwnProperty(ka)&&ta.push(ka);return K};C.addFont=function(K,
U,ka){I(K,U,ka,"StandardEncoding")};C.setLineWidth=function(K){aa((K*za).toFixed(2)+" w");return this};C.setDrawColor=function(K,U,ka,ta){K=void 0===U||void 0===ta&&K===U===ka?"string"===typeof K?K+" G":R(K/255)+" G":void 0===ta?"string"===typeof K?[K,U,ka,"RG"].join(" "):[R(K/255),R(U/255),R(ka/255),"RG"].join(" "):"string"===typeof K?[K,U,ka,ta,"K"].join(" "):[R(K),R(U),R(ka),R(ta),"K"].join(" ");aa(K);return this};C.setFillColor=function(K,U,ka,ta){void 0===U||void 0===ta&&K===U===ka?K="string"===
typeof K?K+" g":R(K/255)+" g":void 0===ta||"object"===("undefined"===typeof ta?"undefined":T(ta))?(K="string"===typeof K?[K,U,ka,"rg"].join(" "):[R(K/255),R(U/255),R(ka/255),"rg"].join(" "),ta&&0===ta.a&&(K="255 255 255 rg")):K="string"===typeof K?[K,U,ka,ta,"k"].join(" "):[R(K),R(U),R(ka),R(ta),"k"].join(" ");aa(K);return this};C.setTextColor=function(K,U,ka){"string"===typeof K&&/^#[0-9A-Fa-f]{6}$/.test(K)&&(ka=parseInt(K.substr(1),16),K=ka>>16&255,U=ka>>8&255,ka&=255);d=0===K&&0===U&&0===ka||"undefined"===
typeof U?(K/255).toFixed(3)+" g":[(K/255).toFixed(3),(U/255).toFixed(3),(ka/255).toFixed(3),"rg"].join(" ");return this};C.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2};C.setLineCap=function(K){var U=this.CapJoinStyles[K];if(void 0===U)throw Error("Line cap style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");ba=U;aa(U+" J");return this};C.setLineJoin=function(K){var U=this.CapJoinStyles[K];
if(void 0===U)throw Error("Line join style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");na=U;aa(U+" j");return this};C.output=Ma;C.save=function(K){return C.output("save",K)};for(var Ua in p.API)p.API.hasOwnProperty(Ua)&&("events"===Ua&&p.API.events.length?function(K,U){var ka;for(ka=U.length-1;-1!==ka;ka--){var ta=U[ka][0];var pa=U[ka][1];K.subscribe.apply(K,[ta].concat("function"===typeof pa?[pa]:pa))}}(J,p.API.events):C[Ua]=p.API[Ua]);(function(){for(var K=
[["Helvetica","helvetica","normal"],["Helvetica-Bold","helvetica","bold"],["Helvetica-Oblique","helvetica","italic"],["Helvetica-BoldOblique","helvetica","bolditalic"],["Courier","courier","normal"],["Courier-Bold","courier","bold"],["Courier-Oblique","courier","italic"],["Courier-BoldOblique","courier","bolditalic"],["Times-Roman","times","normal"],["Times-Bold","times","bold"],["Times-Italic","times","italic"],["Times-BoldItalic","times","bolditalic"],["ZapfDingbats","zapfdingbats"]],U=0,ka=K.length;U<
ka;U++){var ta=I(K[U][0],K[U][1],K[U][2],"StandardEncoding"),pa=K[U][0].split("-"),Aa=pa[0];pa=pa[1]||"";Q.hasOwnProperty(Aa)||(Q[Aa]={});Q[Aa][pa]=ta}J.publish("addFonts",{fonts:G,dictionary:Q})})();var Na="F1";ea(c,a);J.publish("initialized");return C}var f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,
2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,
360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.API={events:[]};p.version="1.x-master";return p}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||void 0);(window.AcroForm=function(m){var n=window.AcroForm;n.scale=function(e){return p.internal.scaleFactor/1*e};n.antiScale=function(e){return 1/p.internal.scaleFactor*e};var p={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null};N.API.acroformPlugin=p;var f=function(){for(var e in this.acroformPlugin.acroFormDictionaryRoot.Fields){var k=
this.acroformPlugin.acroFormDictionaryRoot.Fields[e];if(k.hasAnnotation){var d={type:"reference",object:k};N.API.annotationPlugin.annotations[this.internal.getPageInfo(k.page).pageNumber].push(d)}}},a=function(e){this.acroformPlugin.printedOut&&(this.acroformPlugin.printedOut=!1,this.acroformPlugin.acroFormDictionaryRoot=null);if(!this.acroformPlugin.acroFormDictionaryRoot){if(this.acroformPlugin.acroFormDictionaryRoot)throw Error("Exception while creating AcroformDictionary");this.acroformPlugin.acroFormDictionaryRoot=
new n.AcroFormDictionary;this.acroformPlugin.internal=this.internal;this.acroformPlugin.acroFormDictionaryRoot._eventID=this.internal.events.subscribe("postPutResources",c);this.internal.events.subscribe("buildDocument",f);this.internal.events.subscribe("putCatalog",l);this.internal.events.subscribe("postPutPages",h)}this.acroformPlugin.acroFormDictionaryRoot.Fields.push(e)},l=function(){"undefined"!=typeof this.acroformPlugin.acroFormDictionaryRoot?this.internal.write("/AcroForm "+this.acroformPlugin.acroFormDictionaryRoot.objId+
" 0 R"):console.log("Root missing...")},c=function(){this.internal.events.unsubscribe(this.acroformPlugin.acroFormDictionaryRoot._eventID);delete this.acroformPlugin.acroFormDictionaryRoot._eventID;this.acroformPlugin.printedOut=!0},h=function(e){var k=!e;e||(this.internal.newObjectDeferredBegin(this.acroformPlugin.acroFormDictionaryRoot.objId),this.internal.out(this.acroformPlugin.acroFormDictionaryRoot.getString()));e=e||this.acroformPlugin.acroFormDictionaryRoot.Kids;for(var d in e){var q=e[d],
x=q.Rect;q.Rect&&(q.Rect=n.internal.calculateCoordinates.call(this,q.Rect));this.internal.newObjectDeferredBegin(q.objId);var w="";w+=q.objId+" 0 obj\n";w+="\x3c\x3c\n"+q.getContent();q.Rect=x;q.hasAppearanceStream&&!q.appearanceStreamContent&&(x=n.internal.calculateAppearanceStream.call(this,q),w+="/AP \x3c\x3c /N "+x+" \x3e\x3e\n",this.acroformPlugin.xForms.push(x));if(q.appearanceStreamContent){w+="/AP \x3c\x3c ";for(var E in q.appearanceStreamContent){x=q.appearanceStreamContent[E];w+="/"+E+" ";
w+="\x3c\x3c ";if(1<=Object.keys(x).length||Array.isArray(x))for(d in x){var z=x[d];"function"===typeof z&&(z=z.call(this,q));w+="/"+d+" "+z+" ";0<=this.acroformPlugin.xForms.indexOf(z)||this.acroformPlugin.xForms.push(z)}else z=x,"function"===typeof z&&(z=z.call(this,q)),w+="/"+d+" "+z+" \n",0<=this.acroformPlugin.xForms.indexOf(z)||this.acroformPlugin.xForms.push(z);w+=" \x3e\x3e\n"}w+="\x3e\x3e\n"}w+="\x3e\x3e\nendobj\n";this.internal.out(w)}if(k){e=this.acroformPlugin.xForms;for(var u in e)k=
u,d=e[u],this.internal.newObjectDeferredBegin(d&&d.objId),q="",q+=d?d.getString():"",this.internal.out(q),delete e[k]}};m.addField=function(e){if(e instanceof n.TextField){var k=e||new n.Field;k.FT="/Tx";var d=k.Ff||0;k.multiline&&(d|=4096);k.password&&(d|=8192);k.fileSelect&&(d|=1048576);k.doNotSpellCheck&&(d|=4194304);k.doNotScroll&&(d|=8388608);k.Ff=k.Ff||d;a.call(this,k)}else e instanceof n.ChoiceField?(k=e||new n.Field,k.FT="/Ch",d=k.Ff||0,k.combo&&(d=n.internal.setBitPosition(d,18),delete k.combo),
k.edit&&(d=n.internal.setBitPosition(d,19),delete k.edit),k.sort&&(d=n.internal.setBitPosition(d,20),delete k.sort),k.multiSelect&&1.4<=this.internal.getPDFVersion()&&(d=n.internal.setBitPosition(d,22),delete k.multiSelect),k.doNotSpellCheck&&1.4<=this.internal.getPDFVersion()&&(d=n.internal.setBitPosition(d,23),delete k.doNotSpellCheck),k.Ff=d,a.call(this,k)):e instanceof n.Button?(k=e||new n.Field,k.FT="/Btn",d=k.Ff||0,k.pushbutton&&(d=n.internal.setBitPosition(d,17),delete k.pushbutton),k.radio&&
(d=n.internal.setBitPosition(d,16),delete k.radio),k.noToggleToOff&&(d=n.internal.setBitPosition(d,15)),k.Ff=d,a.call(this,k)):e instanceof n.ChildClass?a.call(this,e):e&&a.call(this,e);e.page=this.acroformPlugin.internal.getCurrentPageInfo().pageNumber;return this}})(N.API);var D=window.AcroForm;D.internal={};D.createFormXObject=function(m){var n=new D.FormXObject,p=D.Appearance.internal.getHeight(m)||0;m=D.Appearance.internal.getWidth(m)||0;n.BBox=[0,0,m,p];return n};D.Appearance={CheckBox:{createAppearanceStream:function(){return{N:{On:D.Appearance.CheckBox.YesNormal},
D:{On:D.Appearance.CheckBox.YesPushDown,Off:D.Appearance.CheckBox.OffPushDown}}},createMK:function(){return"\x3c\x3c /CA (3)\x3e\x3e"},YesPushDown:function(m){var n=D.createFormXObject(m),p="";m.Q=1;var f=D.internal.calculateX(m,"3","ZapfDingbats",50);p+="0.749023 g\n                     0 0 "+D.Appearance.internal.getWidth(m)+" "+D.Appearance.internal.getHeight(m)+" re\n                     f\n                     BMC\n                     q\n                     0 0 1 rg\n                     /F13 "+
f.fontSize+" Tf 0 g\n                     BT\n";p+=f.text;n.stream=p+"ET\n                     Q\n                     EMC\n";return n},YesNormal:function(m){var n=D.createFormXObject(m),p="";m.Q=1;var f=D.internal.calculateX(m,"3","ZapfDingbats",.9*D.Appearance.internal.getHeight(m));p+="1 g\n        0 0 "+D.Appearance.internal.getWidth(m)+" "+D.Appearance.internal.getHeight(m)+" re\n        f\n        q\n        0 0 1 rg\n        0 0 "+(D.Appearance.internal.getWidth(m)-1)+" "+(D.Appearance.internal.getHeight(m)-
1)+" re\n        W\n        n\n        0 g\n        BT\n        /F13 "+f.fontSize+" Tf 0 g\n";p+=f.text;n.stream=p+"ET\n                     Q\n";return n},OffPushDown:function(m){var n=D.createFormXObject(m);m="0.749023 g\n                    0 0 "+D.Appearance.internal.getWidth(m)+" "+D.Appearance.internal.getHeight(m)+" re\n                    f\n";n.stream=m;return n}},RadioButton:{Circle:{createAppearanceStream:function(m){var n={D:{Off:D.Appearance.RadioButton.Circle.OffPushDown},N:{}};n.N[m]=
D.Appearance.RadioButton.Circle.YesNormal;n.D[m]=D.Appearance.RadioButton.Circle.YesPushDown;return n},createMK:function(){return"\x3c\x3c /CA (l)\x3e\x3e"},YesNormal:function(m){var n=D.createFormXObject(m),p="",f=D.Appearance.internal.getWidth(m)<=D.Appearance.internal.getHeight(m)?D.Appearance.internal.getWidth(m)/4:D.Appearance.internal.getHeight(m)/4;f*=.9;var a=D.Appearance.internal.Bezier_C;p+="q\n        1 0 0 1 "+D.Appearance.internal.getWidth(m)/2+" "+D.Appearance.internal.getHeight(m)/
2+" cm\n        "+f+" 0 m\n        "+f+" "+f*a+" "+f*a+" "+f+" 0 "+f+" c\n        -"+f*a+" "+f+" -"+f+" "+f*a+" -"+f+" 0 c\n        -"+f+" -"+f*a+" -"+f*a+" -"+f+" 0 -"+f+" c\n        "+f*a+" -"+f+" "+f+" -"+f*a+" "+f+" 0 c\n        f\n        Q\n";n.stream=p;return n},YesPushDown:function(m){var n=D.createFormXObject(m),p="",f=D.Appearance.internal.getWidth(m)<=D.Appearance.internal.getHeight(m)?D.Appearance.internal.getWidth(m)/4:D.Appearance.internal.getHeight(m)/4;f*=.9;var a=2*f,l=a*D.Appearance.internal.Bezier_C,
c=f*D.Appearance.internal.Bezier_C;p+="0.749023 g\n                    q\n                   1 0 0 1 "+D.Appearance.internal.getWidth(m)/2+" "+D.Appearance.internal.getHeight(m)/2+" cm\n        "+a+" 0 m\n        "+a+" "+l+" "+l+" "+a+" 0 "+a+" c\n        -"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c\n        -"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c\n        "+l+" -"+a+" "+a+" -"+l+" "+a+" 0 c\n                    f\n                    Q\n                    0 g\n                    q\n                    1 0 0 1 "+
D.Appearance.internal.getWidth(m)/2+" "+D.Appearance.internal.getHeight(m)/2+" cm\n        "+f+" 0 m\n        "+f+" "+c+" "+c+" "+f+" 0 "+f+" c\n        -"+c+" "+f+" -"+f+" "+c+" -"+f+" 0 c\n        -"+f+" -"+c+" -"+c+" -"+f+" 0 -"+f+" c\n        "+c+" -"+f+" "+f+" -"+c+" "+f+" 0 c\n                    f\n                    Q\n";n.stream=p;return n},OffPushDown:function(m){var n=D.createFormXObject(m),p="",f=1.8*(D.Appearance.internal.getWidth(m)<=D.Appearance.internal.getHeight(m)?D.Appearance.internal.getWidth(m)/
4:D.Appearance.internal.getHeight(m)/4),a=f*D.Appearance.internal.Bezier_C;p+="0.749023 g\n                    q\n         1 0 0 1 "+D.Appearance.internal.getWidth(m)/2+" "+D.Appearance.internal.getHeight(m)/2+" cm\n        "+f+" 0 m\n        "+f+" "+a+" "+a+" "+f+" 0 "+f+" c\n        -"+a+" "+f+" -"+f+" "+a+" -"+f+" 0 c\n        -"+f+" -"+a+" -"+a+" -"+f+" 0 -"+f+" c\n        "+a+" -"+f+" "+f+" -"+a+" "+f+" 0 c\n                    f\n                    Q\n";n.stream=p;return n}},Cross:{createAppearanceStream:function(m){var n=
{D:{Off:D.Appearance.RadioButton.Cross.OffPushDown},N:{}};n.N[m]=D.Appearance.RadioButton.Cross.YesNormal;n.D[m]=D.Appearance.RadioButton.Cross.YesPushDown;return n},createMK:function(){return"\x3c\x3c /CA (8)\x3e\x3e"},YesNormal:function(m){var n=D.createFormXObject(m),p="",f=D.Appearance.internal.calculateCross(m);p+="q\n                    1 1 "+(D.Appearance.internal.getWidth(m)-2)+" "+(D.Appearance.internal.getHeight(m)-2)+" re\n                    W\n                    n\n                    "+
f.x1.x+" "+f.x1.y+" m\n                    "+f.x2.x+" "+f.x2.y+" l\n                    "+f.x4.x+" "+f.x4.y+" m\n                    "+f.x3.x+" "+f.x3.y+" l\n                    s\n                    Q\n";n.stream=p;return n},YesPushDown:function(m){var n=D.createFormXObject(m),p=D.Appearance.internal.calculateCross(m);m="0.749023 g\n                    0 0 "+D.Appearance.internal.getWidth(m)+" "+D.Appearance.internal.getHeight(m)+" re\n                    f\n                    q\n                    1 1 "+
(D.Appearance.internal.getWidth(m)-2)+" "+(D.Appearance.internal.getHeight(m)-2)+" re\n                    W\n                    n\n                    "+p.x1.x+" "+p.x1.y+" m\n                    "+p.x2.x+" "+p.x2.y+" l\n                    "+p.x4.x+" "+p.x4.y+" m\n                    "+p.x3.x+" "+p.x3.y+" l\n                    s\n                    Q\n";n.stream=m;return n},OffPushDown:function(m){var n=D.createFormXObject(m);m="0.749023 g\n                    0 0 "+D.Appearance.internal.getWidth(m)+
" "+D.Appearance.internal.getHeight(m)+" re\n                    f\n";n.stream=m;return n}}},createDefaultAppearanceStream:function(m){return"/Helv 0 Tf 0 g"}};D.Appearance.internal={Bezier_C:.551915024494,calculateCross:function(m){var n=D.Appearance.internal.getWidth(m);m=D.Appearance.internal.getHeight(m);var p=n>m?m:n;return{x1:{x:(n-p)/2,y:(m-p)/2+p},x2:{x:(n-p)/2+p,y:(m-p)/2},x3:{x:(n-p)/2,y:(m-p)/2},x4:{x:(n-p)/2+p,y:(m-p)/2+p}}}};D.Appearance.internal.getWidth=function(m){return m.Rect[2]};
D.Appearance.internal.getHeight=function(m){return m.Rect[3]};D.internal.inherit=function(m,n){m.prototype=Object.create(n.prototype);m.prototype.constructor=m};D.internal.arrayToPdfArray=function(m){if(Array.isArray(m)){var n=" [",p;for(p in m)n+=m[p].toString(),n+=p<m.length-1?" ":"";return n+"]"}};D.internal.toPdfString=function(m){m=m||"";0!==m.indexOf("(")&&(m="("+m);")"!=m.substring(m.length-1)&&(m+="(");return m};D.PDFObject=function(){var m;Object.defineProperty(this,"objId",{get:function(){m||
(this.internal?m=this.internal.newObjectDeferred():N.API.acroformPlugin.internal&&(m=N.API.acroformPlugin.internal.newObjectDeferred()));m||console.log("Couldn't create Object ID");return m},configurable:!1})};D.PDFObject.prototype.toString=function(){return this.objId+" 0 R"};D.PDFObject.prototype.getString=function(){var m=this.objId+" 0 obj\n\x3c\x3c",n=this.getContent();m+=n+"\x3e\x3e\n";this.stream&&(m=m+"stream\n"+this.stream,m+="endstream\n");return m+"endobj\n"};D.PDFObject.prototype.getContent=
function(){return""+function(m){var n="",p=Object.keys(m).filter(function(c){return"content"!=c&&"appearanceStreamContent"!=c&&"_"!=c.substring(0,1)}),f;for(f in p){var a=p[f],l=m[a];l&&(n=Array.isArray(l)?n+("/"+a+" "+D.internal.arrayToPdfArray(l)+"\n"):l instanceof D.PDFObject?n+("/"+a+" "+l.objId+" 0 R\n"):n+("/"+a+" "+l+"\n"))}return n}(this)};D.FormXObject=function(){D.PDFObject.call(this);this.Type="/XObject";this.Subtype="/Form";this.FormType=1;this.BBox;this.Matrix;this.Resources="2 0 R";
this.PieceInfo;var m;Object.defineProperty(this,"Length",{enumerable:!0,get:function(){return void 0!==m?m.length:0}});Object.defineProperty(this,"stream",{enumerable:!1,set:function(n){m=n},get:function(){return m?m:null}})};D.internal.inherit(D.FormXObject,D.PDFObject);D.AcroFormDictionary=function(){D.PDFObject.call(this);var m=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){if(0<m.length)return m}});Object.defineProperty(this,"Fields",{enumerable:!0,configurable:!0,
get:function(){return m}});this.DA};D.internal.inherit(D.AcroFormDictionary,D.PDFObject);D.Field=function(){D.PDFObject.call(this);var m;Object.defineProperty(this,"Rect",{enumerable:!0,configurable:!1,get:function(){if(m)return m},set:function(l){m=l}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,set:function(l){n=l},get:function(){return n}});var p;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,set:function(l){p=l},get:function(){return!p||1>p.length?this instanceof D.ChildClass?
void 0:"(FieldObject"+D.Field.FieldNum++ +")":"("==p.substring(0,1)&&p.substring(p.length-1)?p:"("+p+")"}});var f;Object.defineProperty(this,"DA",{enumerable:!0,get:function(){if(f)return"("+f+")"},set:function(l){f=l}});var a;Object.defineProperty(this,"DV",{enumerable:!0,configurable:!0,get:function(){if(a)return a},set:function(l){a=l}});Object.defineProperty(this,"Type",{enumerable:!0,get:function(){return this.hasAnnotation?"/Annot":null}});Object.defineProperty(this,"Subtype",{enumerable:!0,
get:function(){return this.hasAnnotation?"/Widget":null}});Object.defineProperty(this,"hasAnnotation",{enumerable:!1,get:function(){return this.Rect||this.BC||this.BG?!0:!1}});Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,configurable:!0,writable:!0});Object.defineProperty(this,"page",{enumerable:!1,configurable:!0,writable:!0})};D.Field.FieldNum=0;D.internal.inherit(D.Field,D.PDFObject);D.ChoiceField=function(){D.Field.call(this);this.FT="/Ch";this.Opt=[];this.V="()";this.TI=0;
this.combo=!1;Object.defineProperty(this,"edit",{enumerable:!0,set:function(m){1==m?this.combo=this._edit=!0:this._edit=!1},get:function(){return this._edit?this._edit:!1},configurable:!1});this.hasAppearanceStream=!0;Object.defineProperty(this,"V",{get:function(){D.internal.toPdfString()}})};D.internal.inherit(D.ChoiceField,D.Field);D.ListBox=function(){D.ChoiceField.call(this)};D.internal.inherit(D.ListBox,D.ChoiceField);D.ComboBox=function(){D.ListBox.call(this);this.combo=!0};D.internal.inherit(D.ComboBox,
D.ListBox);D.EditBox=function(){D.ComboBox.call(this);this.edit=!0};D.internal.inherit(D.EditBox,D.ComboBox);D.Button=function(){D.Field.call(this);this.FT="/Btn"};D.internal.inherit(D.Button,D.Field);D.PushButton=function(){D.Button.call(this);this.pushbutton=!0};D.internal.inherit(D.PushButton,D.Button);D.RadioButton=function(){D.Button.call(this);this.radio=!0;var m=[];Object.defineProperty(this,"Kids",{enumerable:!0,get:function(){if(0<m.length)return m}});Object.defineProperty(this,"__Kids",
{get:function(){return m}});var n;Object.defineProperty(this,"noToggleToOff",{enumerable:!1,get:function(){return n},set:function(p){n=p}})};D.internal.inherit(D.RadioButton,D.Button);D.ChildClass=function(m,n){D.Field.call(this);this.Parent=m;this._AppearanceType=D.Appearance.RadioButton.Circle;this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(n);this.F=D.internal.setBitPosition(this.F,3,1);this.MK=this._AppearanceType.createMK();this.AS="/Off";this._Name=n};D.internal.inherit(D.ChildClass,
D.Field);D.RadioButton.prototype.setAppearance=function(m){if("createAppearanceStream"in m&&"createMK"in m)for(var n in this.__Kids){var p=this.__Kids[n];p.appearanceStreamContent=m.createAppearanceStream(p._Name);p.MK=m.createMK()}else console.log("Couldn't assign Appearance to RadioButton. Appearance was Invalid!")};D.RadioButton.prototype.createOption=function(m){m=new D.ChildClass(this,m);this.__Kids.push(m);N.API.addField(m);return m};D.CheckBox=function(){D.Button.call(this);this.appearanceStreamContent=
D.Appearance.CheckBox.createAppearanceStream();this.MK=D.Appearance.CheckBox.createMK();this.V=this.AS="/On"};D.internal.inherit(D.CheckBox,D.Button);D.TextField=function(){D.Field.call(this);this.DA=D.Appearance.createDefaultAppearanceStream();this.F=4;var m;Object.defineProperty(this,"V",{get:function(){return m?"("+m+")":m},enumerable:!0,set:function(a){m=a}});var n;Object.defineProperty(this,"DV",{get:function(){return n?"("+n+")":n},enumerable:!0,set:function(a){n=a}});var p=!1;Object.defineProperty(this,
"multiline",{enumerable:!1,get:function(){return p},set:function(a){p=a}});var f=!1;Object.defineProperty(this,"MaxLen",{enumerable:!0,get:function(){return f},set:function(a){f=a}});Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,get:function(){return this.V||this.DV}})};D.internal.inherit(D.TextField,D.Field);D.PasswordField=function(){D.TextField.call(this);Object.defineProperty(this,"password",{value:!0,enumerable:!1,configurable:!1,writable:!1})};D.internal.inherit(D.PasswordField,
D.TextField);D.internal.calculateFontSpace=function(m,n,p){p=p||"helvetica";var f=D.internal.calculateFontSpace.canvas||(D.internal.calculateFontSpace.canvas=document.createElement("canvas")),a=f.getContext("2d");a.save();a.font=n+" "+p;m={width:a.measureText(m).getWidth()};a.fontcolor="black";a=f.getContext("2d");m.height=1.5*a.measureText("3").getWidth();a.restore();return m};D.internal.calculateX=function(m,n,p,f){f=f||12;p=p||"helvetica";var a={text:"",fontSize:""};n="("==n.substr(0,1)?n.substr(1):
n;n=")"==n.substr(n.length-1)?n.substr(0,n.length-1):n;var l=n.split(" "),c=D.Appearance.internal.getHeight(m)||0;c=0>c?-c:c;var h=D.Appearance.internal.getWidth(m)||0;h=0>h?-h:h;f++;a:for(;;){n="";f--;var e=D.internal.calculateFontSpace("3",f+"px",p).height,k=m.multiline?c-f:(c-e)/2;k+=2;var d=-2,q=d=0,x=0;if(0==f){f=12;n="(...) Tj\n";n+="% Width of Text: "+D.internal.calculateFontSpace(n,"1px").width+", FieldWidth:"+h+"\n";break}x=D.internal.calculateFontSpace(l[0]+" ",f+"px",p).width;var w="",
E=0,z;for(z in l){w+=l[z]+" ";w=" "==w.substr(w.length-1)?w.substr(0,w.length-1):w;var u=parseInt(z);x=D.internal.calculateFontSpace(w+" ",f+"px",p).width;x=u+1<l.length?D.internal.calculateFontSpace(w+" "+l[u+1],f+"px",p).width<=h-4:!1;var y=z>=l.length-1;if(x&&!y)w+=" ";else{if(!x&&!y)if(m.multiline){if((e+2)*(E+2)+2>c)continue a;q=u}else continue a;else if(y)q=u;else if(m.multiline&&(e+2)*(E+2)+2>c)continue a;for(w="";d<=q;d++)w+=l[d]+" ";w=" "==w.substr(w.length-1)?w.substr(0,w.length-1):w;x=
D.internal.calculateFontSpace(w,f+"px",p).width;switch(m.Q){case 2:d=h-x-2;break;case 1:d=(h-x)/2;break;default:d=2}n+=d+" "+k+" Td\n";n+="("+w+") Tj\n";n+=-d+" 0 Td\n";k=-(f+2);x=0;d=q+1;E++;w=""}}break}a.text=n;a.fontSize=f;return a};D.internal.calculateAppearanceStream=function(m){if(m.appearanceStreamContent)return m.appearanceStreamContent;if(m.V||m.DV){var n="",p=D.internal.calculateX(m,m.V||m.DV);n+="/Tx BMC\nq\n/F1 "+p.fontSize+" Tf\n1 0 0 1 0 0 Tm\n";n=n+"BT\n"+p.text;n+="ET\nQ\nEMC\n";m=
new D.createFormXObject(m);m.stream=n;return m}};D.internal.calculateCoordinates=function(m,n,p,f){if(this.internal)if(Array.isArray(m)){m[0]=D.scale(m[0]);m[1]=D.scale(m[1]);m[2]=D.scale(m[2]);m[3]=D.scale(m[3]);var a=m[0]||0;var l=this.internal.pageSize.getHeight()*this.internal.scaleFactor-m[3]-m[1]||0;p=m[0]+m[2]||0;m=this.internal.pageSize.getHeight()*this.internal.scaleFactor-m[1]||0}else m=D.scale(m),n=D.scale(n),p=D.scale(p),f=D.scale(f),a=m||0,l=this.internal.pageSize.getHeight()-n||0,p=
m+p||0,m=this.internal.pageSize.getHeight()-n+f||0;else Array.isArray(m)?(a=m[0]||0,l=m[1]||0,p=m[0]+m[2]||0,m=m[1]+m[3]||0):(a=m||0,l=n||0,p=m+p||0,m=n+f||0);return[a,l,p,m]};D.internal.calculateColor=function(m,n,p){var f=Array(3);f.r=m|0;f.g=n|0;f.b=p|0;return f};D.internal.getBitPosition=function(m,n){return(m||0)|1<<n-1};D.internal.setBitPosition=function(m,n,p){m=m||0;n=1<<n-1;return m=1==(p||1)?m|n:m&~n};(function(m){m.addHTML=function(n,p,f,a,l){if("undefined"===typeof m.html2canvas&&"undefined"===
typeof rasterizeHTML)throw Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!==typeof p&&(a=p,l=f);"function"===typeof a&&(l=a,a=null);var c=this.internal,h=c.scaleFactor,e=c.pageSize.getWidth(),k=c.pageSize.getHeight();a=a||{};a.onrendered=function(d){p=parseInt(p)||0;f=parseInt(f)||0;var q=a.dim||{},x=q.h||0,w=q.w||Math.min(e,d.width/h)-p,E="JPEG";a.format&&(E=a.format);if(d.height>k&&a.pagesplit)x=function(){for(var u=0;;){var y=
document.createElement("canvas");y.width=Math.min(e*h,d.width);y.height=Math.min(k*h,d.height-u);y.getContext("2d").drawImage(d,0,u,d.width,y.height,0,0,y.width,y.height);var G=[y,p,u?0:f,y.width/h,y.height/h,E,null,"SLOW"];this.addImage.apply(this,G);u+=y.height;if(u>=d.height)break;this.addPage()}l(w,u,null,G)}.bind(this),"CANVAS"===d.nodeName?(q=new Image,q.onload=x,q.src=d.toDataURL("image/png"),d=q):x();else{q=Math.random().toString(35);var z=[d,p,f,w,x,E,q,"SLOW"];this.addImage.apply(this,z);
l(w,x,q,z)}}.bind(this);return"undefined"===typeof m.html2canvas||a.rstz?"undefined"!==typeof rasterizeHTML?(c="drawDocument","string"===typeof n&&(c=/^http/.test(n)?"drawURL":"drawHTML"),a.width=a.width||e*h,rasterizeHTML[c](n,void 0,a).then(function(d){a.onrendered(d.image)},function(d){l(null,d)})):null:m.html2canvas(n,a)}})(N.API);(function(m){var n=["jpeg","jpg","png"],p=function k(e){var d=this.internal.newObject(),q=this.internal.write,x=this.internal.putStream;e.n=d;q("\x3c\x3c/Type /XObject");
q("/Subtype /Image");q("/Width "+e.w);q("/Height "+e.h);e.cs===this.color_spaces.INDEXED?q("/ColorSpace [/Indexed /DeviceRGB "+(e.pal.length/3-1)+" "+("smask"in e?d+2:d+1)+" 0 R]"):(q("/ColorSpace /"+e.cs),e.cs===this.color_spaces.DEVICE_CMYK&&q("/Decode [1 0 1 0 1 0 1 0]"));q("/BitsPerComponent "+e.bpc);"f"in e&&q("/Filter /"+e.f);"dp"in e&&q("/DecodeParms \x3c\x3c"+e.dp+"\x3e\x3e");if("trns"in e&&e.trns.constructor==Array){for(var w="",E=0,z=e.trns.length;E<z;E++)w+=e.trns[E]+" "+e.trns[E]+" ";
q("/Mask ["+w+"]")}"smask"in e&&q("/SMask "+(d+1)+" 0 R");q("/Length "+e.data.length+"\x3e\x3e");x(e.data);q("endobj");"smask"in e&&(d={w:e.w,h:e.h,cs:"DeviceGray",bpc:e.bpc,dp:"/Predictor "+e.p+" /Colors 1 /BitsPerComponent "+e.bpc+" /Columns "+e.w,data:e.smask},"f"in e&&(d.f=e.f),k.call(this,d));e.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),q("\x3c\x3c /Length "+e.pal.length+"\x3e\x3e"),x(this.arrayBufferToBinaryString(new Uint8Array(e.pal))),q("endobj"))},f=function(){var e=this.internal.collections.addImage_images,
k;for(k in e)p.call(this,e[k])},a=function(){var e=this.internal.collections.addImage_images,k=this.internal.write,d;for(d in e){var q=e[d];k("/I"+q.i,q.n,"0","R")}},l=function(e){return"object"===("undefined"===typeof e?"undefined":T(e))&&1===e.nodeType},c=function(e,k){if(k)for(var d in k)if(e===k[d].alias){var q=k[d];break}return q};m.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",
PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};m.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};m.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"};m.sHashCode=function(e){return Array.prototype.reduce&&e.split("").reduce(function(k,d){k=(k<<5)-
k+d.charCodeAt(0);return k&k},0)};m.isString=function(e){return"string"===typeof e};m.extractInfoFromBase64DataURI=function(e){return/^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(e)};m.supportsArrayBuffer=function(){return"undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array};m.isArrayBuffer=function(e){return this.supportsArrayBuffer()?e instanceof ArrayBuffer:!1};m.isArrayBufferView=function(e){return this.supportsArrayBuffer()&&"undefined"!==typeof Uint32Array?e instanceof Int8Array||
e instanceof Uint8Array||"undefined"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array:!1};m.binaryStringToUint8Array=function(e){for(var k=e.length,d=new Uint8Array(k),q=0;q<k;q++)d[q]=e.charCodeAt(q);return d};m.arrayBufferToBinaryString=function(e){this.isArrayBuffer(e)&&(e=new Uint8Array(e));for(var k="",d=e.byteLength,q=0;q<d;q++)k+=
String.fromCharCode(e[q]);return k};m.arrayBufferToBase64=function(e){var k="";e=new Uint8Array(e);var d=e.byteLength,q=d%3;d-=q;for(var x,w,E,z,u=0;u<d;u+=3)z=e[u]<<16|e[u+1]<<8|e[u+2],x=(z&16515072)>>18,w=(z&258048)>>12,E=(z&4032)>>6,z&=63,k+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[x]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[w]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[E]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[z];
1==q?(z=e[d],k+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(z&252)>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(z&3)<<4]+"\x3d\x3d"):2==q&&(z=e[d]<<8|e[d+1],k+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(z&64512)>>10]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(z&1008)>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(z&15)<<2]+"\x3d");return k};m.createImageInfo=function(e,k,d,
q,x,w,E,z,u,y,G,Q,V){e={alias:z,w:k,h:d,cs:q,bpc:x,i:E,data:e};w&&(e.f=w);u&&(e.dp=u);y&&(e.trns=y);G&&(e.pal=G);Q&&(e.smask=Q);V&&(e.p=V);return e};m.addImage=function(e,k,d,q,x,w,E,z,u){if("string"!==typeof k){var y=w;w=x;x=q;q=d;d=k;k=y}"object"===("undefined"===typeof e?"undefined":T(e))&&!l(e)&&"imageData"in e&&(y=e,e=y.imageData,k=y.format||k,d=y.x||d||0,q=y.y||q||0,x=y.w||x,w=y.h||w,E=y.alias||E,z=y.compression||z,u=y.rotation||y.angle||u);if(isNaN(d)||isNaN(q))throw console.error("jsPDF.addImage: Invalid coordinates",
arguments),Error("Invalid coordinates passed to jsPDF.addImage");y=this.internal.collections.addImage_images;y||(this.internal.collections.addImage_images=y={},this.internal.events.subscribe("putResources",f),this.internal.events.subscribe("putXobjectDict",a));var G;if(!(G=c(e,y))){if(l(e))a:{G=e;var Q=k,V=u;if("IMG"===G.nodeName&&G.hasAttribute("src")){var M=""+G.getAttribute("src");if(!V&&0===M.indexOf("data:image/")){e=M;break a}!Q&&/\.png(?:[?#].*)?$/i.test(M)&&(Q="png")}if("CANVAS"===G.nodeName)M=
G;else{M=document.createElement("canvas");M.width=G.clientWidth||G.width;M.height=G.clientHeight||G.height;var O=M.getContext("2d");if(!O)throw"addImage requires canvas to be supported by browser.";if(V){var H=Math.PI/180;if("object"===("undefined"===typeof V?"undefined":T(V))){var A=V.x;var P=V.y;var W=V.bg;V=V.angle}var X=V*H;V=Math.abs(Math.cos(X));H=Math.abs(Math.sin(X));var ba=M.width;var na=M.height;M.width=na*H+ba*V;M.height=na*V+ba*H;isNaN(A)&&(A=M.width/2);isNaN(P)&&(P=M.height/2);O.clearRect(0,
0,M.width,M.height);O.fillStyle=W||"white";O.fillRect(0,0,M.width,M.height);O.save();O.translate(A,P);O.rotate(X);O.drawImage(G,-(ba/2),-(na/2));O.rotate(-X);O.translate(-A,-P);O.restore()}else O.drawImage(G,0,0,M.width,M.height)}e=M.toDataURL("png"==(""+Q).toLowerCase()?"image/png":"image/jpeg")}if("undefined"===typeof E||null===E)E="string"===typeof e&&m.sHashCode(e);if(!(G=c(E,y))){this.isString(e)&&((A=this.extractInfoFromBase64DataURI(e))?(k=A[2],e=atob(A[3])):137===e.charCodeAt(0)&&80===e.charCodeAt(1)&&
78===e.charCodeAt(2)&&71===e.charCodeAt(3)&&(k="png"));k=(k||"JPEG").toLowerCase();if(-1===n.indexOf(k))throw Error("addImage currently only supports formats "+n+", not '"+k+"'");if("function"!==typeof m["process"+k.toUpperCase()])throw Error("please ensure that the plugin for '"+k+"' support is added");if(this.supportsArrayBuffer()&&!(e instanceof Uint8Array)){var da=e;e=this.binaryStringToUint8Array(e)}A=this["process"+k.toUpperCase()];P=e;W=0;if(y){if(Object.keys)var Ba=Object.keys(y).length;else{W=
0;for(Ba in y)y.hasOwnProperty(Ba)&&W++;Ba=W}W=Ba}Ba=W;W=E;(G=z)&&"string"===typeof G&&(G=G.toUpperCase());G=A.call(this,P,Ba,W,G in m.image_compression?G:m.image_compression.NONE,da);if(!G)throw Error("An unkwown error occurred whilst processing the image");}}da=d;Ba=q;A=G;P=G.i;W=x;G=w;W||G||(G=W=-96);0>W&&(W=-72*A.w/W/this.internal.scaleFactor);0>G&&(G=-72*A.h/G/this.internal.scaleFactor);0===W&&(W=G*A.w/A.h);0===G&&(G=W*A.h/A.w);M=[W,G];G=this.internal.getCoordinateString;Q=this.internal.getVerticalCoordinateString;
W=M[0];M=M[1];y[P]=A;this.internal.write("q",G(W),"0 0",G(M),G(da),Q(Ba+M),"cm /I"+A.i,"Do Q");return this};m.processJPEG=function(e,k,d,q,x){q=this.color_spaces.DEVICE_RGB;var w=this.decode.DCT_DECODE;if(this.isString(e)){a:{x=e;var E;if(255===!x.charCodeAt(0)||216===!x.charCodeAt(1)||255===!x.charCodeAt(2)||224===!x.charCodeAt(3)||74===!x.charCodeAt(6)||70===!x.charCodeAt(7)||73===!x.charCodeAt(8)||70===!x.charCodeAt(9)||0===!x.charCodeAt(10))throw Error("getJpegSize requires a binary string jpeg file");
var z=256*x.charCodeAt(4)+x.charCodeAt(5);var u=4;for(E=x.length;u<E;){u+=z;if(255!==x.charCodeAt(u))throw Error("getJpegSize could not find the size of the image");if(192===x.charCodeAt(u+1)||193===x.charCodeAt(u+1)||194===x.charCodeAt(u+1)||195===x.charCodeAt(u+1)||196===x.charCodeAt(u+1)||197===x.charCodeAt(u+1)||198===x.charCodeAt(u+1)||199===x.charCodeAt(u+1)){E=256*x.charCodeAt(u+5)+x.charCodeAt(u+6);z=256*x.charCodeAt(u+7)+x.charCodeAt(u+8);x=x.charCodeAt(u+9);u=[z,E,x];break a}else u+=2,z=
256*x.charCodeAt(u)+x.charCodeAt(u+1)}u=void 0}return this.createImageInfo(e,u[0],u[1],1==u[3]?this.color_spaces.DEVICE_GRAY:q,8,w,k,d)}this.isArrayBuffer(e)&&(e=new Uint8Array(e));if(this.isArrayBufferView(e)){a:{z=e;if(65496!==(z[0]<<8|z[1]))throw Error("Supplied data is not a JPEG");E=z.length;for(var y=(z[4]<<8)+z[5],G=4;G<E;){G+=y;u=z.subarray(G,G+5);y=(u[2]<<8)+u[3];if((192===u[1]||194===u[1])&&255===u[0]&&7<y){u=G+5;u=z.subarray(u,u+5);z=(u[2]<<8)+u[3];E=(u[0]<<8)+u[1];u=u[4];u={width:z,height:E,
numcomponents:u};break a}G+=2}throw Error("getJpegSizeFromBytes could not find the size of the image");}e=x||this.arrayBufferToBinaryString(e);return this.createImageInfo(e,u.width,u.height,1==u.numcomponents?this.color_spaces.DEVICE_GRAY:q,8,w,k,d)}return null};m.processJPG=function(){return this.processJPEG.apply(this,arguments)}})(N.API);(function(m){var n={annotations:[],f2:function(p){return p.toFixed(2)},notEmpty:function(p){if("undefined"!=typeof p&&""!=p)return!0}};N.API.annotationPlugin=
n;N.API.events.push(["addPage",function(p){this.annotationPlugin.annotations[p.pageNumber]=[]}]);m.events.push(["putPage",function(p){for(var f=this.annotationPlugin.annotations[p.pageNumber],a=!1,l=0;l<f.length&&!a;l++){var c=f[l];switch(c.type){case "link":if(n.notEmpty(c.options.url)||n.notEmpty(c.options.pageNumber)){a=!0;break}case "reference":case "text":case "freetext":a=!0}}if(0!=a){this.internal.write("/Annots [");a=this.annotationPlugin.f2;var h=this.internal.scaleFactor,e=this.internal.pageSize.getHeight(),
k=this.internal.getPageInfo(p.pageNumber);for(l=0;l<f.length;l++)switch(c=f[l],c.type){case "reference":this.internal.write(" "+c.object.objId+" 0 R ");break;case "text":var d=this.internal.newAdditionalObject(),q=this.internal.newAdditionalObject(),x=c.title||"Note",w="/Rect ["+a(c.bounds.x*h)+" "+a(e-(c.bounds.y+c.bounds.h)*h)+" "+a((c.bounds.x+c.bounds.w)*h)+" "+a((e-c.bounds.y)*h)+"] ";p="\x3c\x3c/Type /Annot /Subtype /Text "+w+"/Contents ("+c.contents+")";p+=" /Popup "+q.objId+" 0 R";p+=" /P "+
k.objId+" 0 R";p+=" /T ("+x+") \x3e\x3e";d.content=p;p=d.objId+" 0 R";w="/Rect ["+a((c.bounds.x+30)*h)+" "+a(e-(c.bounds.y+c.bounds.h)*h)+" "+a((c.bounds.x+c.bounds.w+30)*h)+" "+a((e-c.bounds.y)*h)+"] ";p="\x3c\x3c/Type /Annot /Subtype /Popup "+w+" /Parent "+p;c.open&&(p+=" /Open true");p+=" \x3e\x3e";q.content=p;this.internal.write(d.objId,"0 R",q.objId,"0 R");break;case "freetext":w="/Rect ["+a(c.bounds.x*h)+" "+a((e-c.bounds.y)*h)+" "+a(c.bounds.x+c.bounds.w*h)+" "+a(e-(c.bounds.y+c.bounds.h)*
h)+"] ";d=c.color||"#000000";p="\x3c\x3c/Type /Annot /Subtype /FreeText "+w+"/Contents ("+c.contents+")";p+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+d+")";p+=" /Border [0 0 0]";p+=" \x3e\x3e";this.internal.write(p);break;case "link":c.options.name?(w=this.annotations._nameMap[c.options.name],c.options.pageNumber=w.page,c.options.top=w.y):c.options.top||(c.options.top=0);w="/Rect ["+a(c.x*h)+" "+a((e-c.y)*h)+" "+a(c.x+c.w*h)+" "+a(e-(c.y+c.h)*h)+"] ";p="";if(c.options.url)p=
"\x3c\x3c/Type /Annot /Subtype /Link "+w+"/Border [0 0 0] /A \x3c\x3c/S /URI /URI ("+c.options.url+") \x3e\x3e";else if(c.options.pageNumber)switch(p=this.internal.getPageInfo(c.options.pageNumber),p="\x3c\x3c/Type /Annot /Subtype /Link "+w+"/Border [0 0 0] /Dest ["+p.objId+" 0 R",c.options.magFactor=c.options.magFactor||"XYZ",c.options.magFactor){case "Fit":p+=" /Fit]";break;case "FitH":p+=" /FitH "+c.options.top+"]";break;case "FitV":c.options.left=c.options.left||0;p+=" /FitV "+c.options.left+
"]";break;default:w=a((e-c.options.top)*h),c.options.left=c.options.left||0,"undefined"===typeof c.options.zoom&&(c.options.zoom=0),p+=" /XYZ "+c.options.left+" "+w+" "+c.options.zoom+"]"}""!=p&&(p+=" \x3e\x3e",this.internal.write(p))}this.internal.write("]")}}]);m.createAnnotation=function(p){switch(p.type){case "link":this.link(p.bounds.x,p.bounds.y,p.bounds.w,p.bounds.h,p);break;case "text":case "freetext":this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push(p)}};
m.link=function(p,f,a,l,c){this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push({x:p,y:f,w:a,h:l,options:c,type:"link"})};m.link=function(p,f,a,l,c){this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push({x:p,y:f,w:a,h:l,options:c,type:"link"})};m.textWithLink=function(p,f,a,l){var c=this.getTextWidth(p),h=this.internal.getLineHeight();this.text(p,f,a);a+=.2*h;this.link(f,a-h,c,h,l);return c};m.getTextWidth=function(p){var f=this.internal.getFontSize();
return this.getStringUnitWidth(p)*f/this.internal.scaleFactor};m.getLineHeight=function(){return this.internal.getLineHeight()};return this})(N.API);(function(m){m.autoPrint=function(){var n;this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject();this.internal.write("\x3c\x3c /S/Named /Type/Action /N/Print \x3e\x3e","endobj")});this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+n+" 0 R")});return this}})(N.API);(function(m){m.events.push(["initialized",
function(){this.canvas.pdf=this}]);m.canvas={getContext:function(n){this.pdf.context2d._canvas=this;return this.pdf.context2d},style:{}};Object.defineProperty(m.canvas,"width",{get:function(){return this._width},set:function(n){this._width=n;this.getContext("2d").pageWrapX=n+1}});Object.defineProperty(m.canvas,"height",{get:function(){return this._height},set:function(n){this._height=n;this.getContext("2d").pageWrapY=n+1}});return this})(N.API);(function(m){var n,p,f,a,l={x:void 0,y:void 0,w:void 0,
h:void 0,ln:void 0},c=1,h={left:0,top:0,bottom:0};m.setHeaderFunction=function(e){a=e};m.getTextDimensions=function(e){n=this.internal.getFont().fontName;p=this.table_font_size||this.internal.getFontSize();f=this.internal.getFont().fontStyle;var k=19.049976/25.4;var d=document.createElement("font");d.id="jsPDFCell";try{d.style.fontStyle=f}catch(q){d.style.fontWeight=f}d.style.fontName=n;d.style.fontSize=p+"pt";try{d.textContent=e}catch(q){d.innerText=e}document.body.appendChild(d);e={w:(d.offsetWidth+
1)*k,h:(d.offsetHeight+1)*k};document.body.removeChild(d);return e};m.cellAddPage=function(){var e=this.margins||h;this.addPage();l={x:e.left,y:e.top,w:void 0,h:void 0,ln:void 0};c+=1};m.cellInitialize=function(){l={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0};c=1};m.cell=function(e,k,d,q,x,w,E){var z=l,u=!1;void 0!==z.ln&&(z.ln===w?(e=z.x+z.w,k=z.y):(k=this.margins||h,z.y+z.h+q+13>=this.internal.pageSize.getHeight()-k.bottom&&(this.cellAddPage(),u=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(w,
!0)),k=l.y+l.h,u&&(k=23)));if(void 0!==x[0])if(this.printingHeaderRow?this.rect(e,k,d,q,"FD"):this.rect(e,k,d,q),"right"===E)for(x instanceof Array||(x=[x]),E=0;E<x.length;E++)z=x[E],u=this.getStringUnitWidth(z)*this.internal.getFontSize(),this.text(z,e+d-u-3,k+this.internal.getLineHeight()*(E+1));else this.text(x,e+3,k+this.internal.getLineHeight());l={x:e,y:k,w:d,h:q,ln:w};return this};m.arrayMax=function(e,k){var d=e[0],q;var x=0;for(q=e.length;x<q;x+=1){var w=e[x];k?-1===k(d,w)&&(d=w):w>d&&(d=
w)}return d};m.table=function(e,k,d,q,x){if(!d)throw"No data for PDF table";var w=[],E=[],z={},u={},y=[],G=[];var Q=!1;var V=!0;var M=12;var O=h;O.width=this.internal.pageSize.getWidth();x&&(!0===x.autoSize&&(Q=!0),!1===x.printHeaders&&(V=!1),x.fontSize&&(M=x.fontSize),x.css&&"undefined"!==typeof x.css["font-size"]&&(M=16*x.css["font-size"]),x.margins&&(O=x.margins));this.lnMod=0;l={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0};c=1;this.printHeaders=V;this.margins=O;this.setFontSize(M);this.table_font_size=
M;if(void 0===q||null===q)w=Object.keys(d[0]);else if(q[0]&&"string"!==typeof q[0])for(O=19.049976/25.4,x=0,M=q.length;x<M;x+=1){var H=q[x];w.push(H.name);E.push(H.prompt);u[H.name]=H.width*O}else w=q;if(Q){var A=function(W){return W[H]};x=0;for(M=w.length;x<M;x+=1){H=w[x];z[H]=d.map(A);y.push(this.getTextDimensions(E[x]||H).w);var P=z[H];q=0;for(Q=P.length;q<Q;q+=1)O=P[q],y.push(this.getTextDimensions(O).w);u[H]=m.arrayMax(y);y=[]}}if(V){z=this.calculateLineHeight(w,u,E.length?E:w);x=0;for(M=w.length;x<
M;x+=1)H=w[x],G.push([e,k,u[H],z,String(E.length?E[x]:H)]);this.setTableHeaderRow(G);this.printHeaderRow(1,!1)}x=0;for(M=d.length;x<M;x+=1)for(E=d[x],z=this.calculateLineHeight(w,u,E),q=0,G=w.length;q<G;q+=1)H=w[q],this.cell(e,k,u[H],z,E[H],x+2,H.align);this.lastCellPos=l;this.table_x=e;this.table_y=k;return this};m.calculateLineHeight=function(e,k,d){for(var q,x=0,w=0;w<e.length;w++)q=e[w],d[q]=this.splitTextToSize(String(d[q]),k[q]-3),q=this.internal.getLineHeight()*d[q].length+3,q>x&&(x=q);return x};
m.setTableHeaderRow=function(e){this.tableHeaderRow=e};m.printHeaderRow=function(e,k){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var d;this.printingHeaderRow=!0;if(void 0!==a){var q=a(this,c);l={x:q[0],y:q[1],w:q[2],h:q[3],ln:-1}}this.setFontStyle("bold");var x=[];q=0;for(d=this.tableHeaderRow.length;q<d;q+=1){this.setFillColor(200,200,200);var w=this.tableHeaderRow[q];k&&(this.margins.top=13,w[1]=this.margins&&this.margins.top||0,x.push(w));w=[].concat(w);this.cell.apply(this,
w.concat(e))}0<x.length&&this.setTableHeaderRow(x);this.setFontStyle("normal");this.printingHeaderRow=!1}})(N.API);(function(m){function n(){this._isStrokeTransparent=!1;this._strokeOpacity=1;this.fillStyle=this.strokeStyle="#000000";this._isFillTransparent=!1;this._fillOpacity=1;this.font="12pt times";this.textBaseline="alphabetic";this.textAlign="start";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this._transform=[1,0,0,1,0,0];this.globalCompositeOperation="normal";this.globalAlpha=
1;this._clip_path=[];this.ignoreClearRect=!1;this.copy=function(f){this._isStrokeTransparent=f._isStrokeTransparent;this._strokeOpacity=f._strokeOpacity;this.strokeStyle=f.strokeStyle;this._isFillTransparent=f._isFillTransparent;this._fillOpacity=f._fillOpacity;this.fillStyle=f.fillStyle;this.font=f.font;this.lineWidth=f.lineWidth;this.lineJoin=f.lineJoin;this.lineCap=f.lineCap;this.textBaseline=f.textBaseline;this.textAlign=f.textAlign;this._fontSize=f._fontSize;this._transform=f._transform.slice(0);
this.globalCompositeOperation=f.globalCompositeOperation;this.globalAlpha=f.globalAlpha;this._clip_path=f._clip_path.slice(0);this.ignoreClearRect=f.ignoreClearRect}}m.events.push(["initialized",function(){this.context2d.pdf=this;this.context2d.internal.pdf=this;this.context2d.ctx=new n;this.context2d.ctxStack=[];this.context2d.path=[]}]);m.context2d={pageWrapXEnabled:!1,pageWrapYEnabled:!1,pageWrapX:9999999,pageWrapY:9999999,ctx:new n,f2:function(f){return f.toFixed(2)},fillRect:function(f,a,l,c){this._isFillTransparent()||
(f=this._wrapX(f),a=this._wrapY(a),f=this._matrix_map_rect(this.ctx._transform,{x:f,y:a,w:l,h:c}),this.pdf.rect(f.x,f.y,f.w,f.h,"f"))},strokeRect:function(f,a,l,c){this._isStrokeTransparent()||(f=this._wrapX(f),a=this._wrapY(a),f=this._matrix_map_rect(this.ctx._transform,{x:f,y:a,w:l,h:c}),this.pdf.rect(f.x,f.y,f.w,f.h,"s"))},clearRect:function(f,a,l,c){this.ctx.ignoreClearRect||(f=this._wrapX(f),a=this._wrapY(a),f=this._matrix_map_rect(this.ctx._transform,{x:f,y:a,w:l,h:c}),this.save(),this.setFillStyle("#ffffff"),
this.pdf.rect(f.x,f.y,f.w,f.h,"f"),this.restore())},save:function(){this.ctx._fontSize=this.pdf.internal.getFontSize();var f=new n;f.copy(this.ctx);this.ctxStack.push(this.ctx);this.ctx=f},restore:function(){this.ctx=this.ctxStack.pop();this.setFillStyle(this.ctx.fillStyle);this.setStrokeStyle(this.ctx.strokeStyle);this.setFont(this.ctx.font);this.pdf.setFontSize(this.ctx._fontSize);this.setLineCap(this.ctx.lineCap);this.setLineWidth(this.ctx.lineWidth);this.setLineJoin(this.ctx.lineJoin)},rect:function(f,
a,l,c){this.moveTo(f,a);this.lineTo(f+l,a);this.lineTo(f+l,a+c);this.lineTo(f,a+c);this.lineTo(f,a);this.closePath()},beginPath:function(){this.path=[]},closePath:function(){this.path.push({type:"close"})},_getRgba:function(f){var a={};if(this.internal.rxTransparent.test(f))a.r=0,a.g=0,a.b=0,a.a=0;else{var l=this.internal.rxRgb.exec(f);null!=l?(a.r=parseInt(l[1]),a.g=parseInt(l[2]),a.b=parseInt(l[3]),a.a=1):(l=this.internal.rxRgba.exec(f),null!=l?(a.r=parseInt(l[1]),a.g=parseInt(l[2]),a.b=parseInt(l[3]),
a.a=parseFloat(l[4])):(a.a=1,"#"!=f.charAt(0)&&((f=ja.colorNameToHex(f))||(f="#000000")),4===f.length?(a.r=f.substring(1,2),a.r+=r,a.g=f.substring(2,3),a.g+=g,a.b=f.substring(3,4),a.b+=b):(a.r=f.substring(1,3),a.g=f.substring(3,5),a.b=f.substring(5,7)),a.r=parseInt(a.r,16),a.g=parseInt(a.g,16),a.b=parseInt(a.b,16)))}a.style=f;return a},setFillStyle:function(f){var a,l,c;if(this.internal.rxTransparent.test(f))var h=c=l=a=0;else h=this.internal.rxRgb.exec(f),null!=h?(a=parseInt(h[1]),l=parseInt(h[2]),
c=parseInt(h[3]),h=1):(h=this.internal.rxRgba.exec(f),null!=h?(a=parseInt(h[1]),l=parseInt(h[2]),c=parseInt(h[3]),h=parseFloat(h[4])):(h=1,"#"!=f.charAt(0)&&((f=ja.colorNameToHex(f))||(f="#000000")),4===f.length?(a=f.substring(1,2),a+=a,l=f.substring(2,3),l+=l,c=f.substring(3,4),c+=c):(a=f.substring(1,3),l=f.substring(3,5),c=f.substring(5,7)),a=parseInt(a,16),l=parseInt(l,16),c=parseInt(c,16)));this.ctx.fillStyle=f;this.ctx._isFillTransparent=0==h;this.ctx._fillOpacity=h;this.pdf.setFillColor(a,l,
c,{a:h});this.pdf.setTextColor(a,l,c,{a:h})},setStrokeStyle:function(f){f=this._getRgba(f);this.ctx.strokeStyle=f.style;this.ctx._isStrokeTransparent=0==f.a;this.ctx._strokeOpacity=f.a;0===f.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(f.r,f.g,f.b)},fillText:function(f,a,l,c){if(!this._isFillTransparent()){a=this._wrapX(a);l=this._wrapY(l);l=this._matrix_map_point(this.ctx._transform,[a,l]);a=l[0];l=l[1];c=57.2958*this._matrix_rotation(this.ctx._transform);if(0<this.ctx._clip_path.length){var h=
window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();h.push("q");var e=this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._fill(null,!0);this.ctx._clip_path=this.path;this.path=e}e=1;try{e=this._matrix_decompose(this._getTransform()).scale[0]}catch(d){console.warn(d)}if(.01>e)this.pdf.text(f,a,this._getBaseline(l),null,c);else{var k=this.pdf.internal.getFontSize();this.pdf.setFontSize(k*e);this.pdf.text(f,
a,this._getBaseline(l),null,c);this.pdf.setFontSize(k)}0<this.ctx._clip_path.length&&h.push("Q")}},strokeText:function(f,a,l,c){if(!this._isStrokeTransparent()){a=this._wrapX(a);l=this._wrapY(l);l=this._matrix_map_point(this.ctx._transform,[a,l]);a=l[0];l=l[1];c=57.2958*this._matrix_rotation(this.ctx._transform);if(0<this.ctx._clip_path.length){var h=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();h.push("q");var e=
this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._fill(null,!0);this.ctx._clip_path=this.path;this.path=e}e=1;try{e=this._matrix_decompose(this._getTransform()).scale[0]}catch(d){console.warn(d)}if(1===e)this.pdf.text(f,a,this._getBaseline(l),{stroke:!0},c);else{var k=this.pdf.internal.getFontSize();this.pdf.setFontSize(k*e);this.pdf.text(f,a,this._getBaseline(l),{stroke:!0},c);this.pdf.setFontSize(k)}0<this.ctx._clip_path.length&&h.push("Q")}},setFont:function(f){this.ctx.font=
f;var a=/\s*(\w+)\s+(\w+)\s+(\w+)\s+([\d\.]+)(px|pt|em)\s+(.*)?/;a=a.exec(f);if(null!=a){var l=a[1];f=a[3];var c=a[4],h=a[5];a=a[6];c="px"===h?Math.floor(parseFloat(c)):"em"===h?Math.floor(parseFloat(c)*this.pdf.getFontSize()):Math.floor(parseFloat(c));this.pdf.setFontSize(c);"bold"===f||"700"===f?this.pdf.setFontStyle("bold"):"italic"===l?this.pdf.setFontStyle("italic"):this.pdf.setFontStyle("normal");c=a.toLowerCase().split(/\s*,\s*/);-1!=c.indexOf("arial")?c="Arial":-1!=c.indexOf("verdana")?c=
"Verdana":-1!=c.indexOf("helvetica")?c="Helvetica":-1!=c.indexOf("sans-serif")?c="sans-serif":-1!=c.indexOf("fixed")?c="Fixed":-1!=c.indexOf("monospace")?c="Monospace":-1!=c.indexOf("terminal")?c="Terminal":-1!=c.indexOf("courier")?c="Courier":-1!=c.indexOf("times")?c="Times":-1!=c.indexOf("cursive")?c="Cursive":-1!=c.indexOf("fantasy")?c="Fantasy":(c.indexOf("serif"),c="Serif");this.pdf.setFont(c,"bold"===f?"bold":"normal")}else a=/\s*(\d+)(pt|px|em)\s+([\w "]+)\s*([\w "]+)?/,a=a.exec(f),null!=a&&
(l=a[1],f=a[3],(a=a[4])||(a="normal"),l="em"===h?Math.floor(parseFloat(c)*this.pdf.getFontSize()):Math.floor(parseFloat(l)),this.pdf.setFontSize(l),this.pdf.setFont(f,a))},setTextBaseline:function(f){this.ctx.textBaseline=f},getTextBaseline:function(){return this.ctx.textBaseline},setTextAlign:function(f){this.ctx.textAlign=f},getTextAlign:function(){return this.ctx.textAlign},setLineWidth:function(f){this.ctx.lineWidth=f;this.pdf.setLineWidth(f)},setLineCap:function(f){this.ctx.lineCap=f;this.pdf.setLineCap(f)},
setLineJoin:function(f){this.ctx.lineJoin=f;this.pdf.setLineJoin(f)},moveTo:function(f,a){f=this._wrapX(f);a=this._wrapY(a);a=this._matrix_map_point(this.ctx._transform,[f,a]);f=a[0];a=a[1];this.path.push({type:"mt",x:f,y:a})},_wrapX:function(f){return this.pageWrapXEnabled?f%this.pageWrapX:f},_wrapY:function(f){return this.pageWrapYEnabled?(this._gotoPage(this._page(f)),(f-this.lastBreak)%this.pageWrapY):f},transform:function(f,a,l,c,h,e){this.ctx._transform=[f,a,l,c,h,e]},setTransform:function(f,
a,l,c,h,e){this.ctx._transform=[f,a,l,c,h,e]},_getTransform:function(){return this.ctx._transform},lastBreak:0,pageBreaks:[],_page:function(f){if(this.pageWrapYEnabled){for(var a=this.lastBreak=0,l=0,c=0;c<this.pageBreaks.length;c++)if(f>=this.pageBreaks[c]){a++;0===this.lastBreak&&l++;var h=this.pageBreaks[c]-this.lastBreak;this.lastBreak=this.pageBreaks[c];h=Math.floor(h/this.pageWrapY);l+=h}0===this.lastBreak&&(h=Math.floor(f/this.pageWrapY)+1,l+=h);return l+a}return this.pdf.internal.getCurrentPageInfo().pageNumber},
_gotoPage:function(f){},lineTo:function(f,a){f=this._wrapX(f);a=this._wrapY(a);a=this._matrix_map_point(this.ctx._transform,[f,a]);f=a[0];a=a[1];this.path.push({type:"lt",x:f,y:a})},bezierCurveTo:function(f,a,l,c,h,e){f=this._wrapX(f);a=this._wrapY(a);l=this._wrapX(l);c=this._wrapY(c);h=this._wrapX(h);e=this._wrapY(e);var k=this._matrix_map_point(this.ctx._transform,[h,e]);h=k[0];e=k[1];k=this._matrix_map_point(this.ctx._transform,[f,a]);f=k[0];a=k[1];k=this._matrix_map_point(this.ctx._transform,
[l,c]);l=k[0];c=k[1];this.path.push({type:"bct",x1:f,y1:a,x2:l,y2:c,x:h,y:e})},quadraticCurveTo:function(f,a,l,c){f=this._wrapX(f);a=this._wrapY(a);l=this._wrapX(l);c=this._wrapY(c);var h=this._matrix_map_point(this.ctx._transform,[l,c]);l=h[0];c=h[1];h=this._matrix_map_point(this.ctx._transform,[f,a]);f=h[0];a=h[1];this.path.push({type:"qct",x1:f,y1:a,x:l,y:c})},arc:function(f,a,l,c,h,e){f=this._wrapX(f);a=this._wrapY(a);if(!this._matrix_is_identity(this.ctx._transform)){a=this._matrix_map_point(this.ctx._transform,
[f,a]);f=a[0];a=a[1];var k=this._matrix_map_point(this.ctx._transform,[0,0]);l=this._matrix_map_point(this.ctx._transform,[0,l]);l=Math.sqrt(Math.pow(l[0]-k[0],2)+Math.pow(l[1]-k[1],2))}this.path.push({type:"arc",x:f,y:a,radius:l,startAngle:c,endAngle:h,anticlockwise:e})},drawImage:function(f,a,l,c,h,e,k,d,q){void 0!==e&&(a=e,l=k,c=d,h=q);a=this._wrapX(a);l=this._wrapY(l);a=this._matrix_map_rect(this.ctx._transform,{x:a,y:l,w:c,h:h});this._matrix_map_rect(this.ctx._transform,{x:e,y:k,w:d,h:q});e=
/data:image\/(\w+).*/i.exec(f);this.pdf.addImage(f,null!=e?e[1]:"png",a.x,a.y,a.w,a.h)},_matrix_multiply:function(f,a){var l=a[0],c=a[1],h=a[2],e=a[3],k=a[4];a=a[5];var d=l*f[0]+c*f[2],q=h*f[0]+e*f[2],x=k*f[0]+a*f[2]+f[4];c=l*f[1]+c*f[3];e=h*f[1]+e*f[3];a=k*f[1]+a*f[3]+f[5];return[d,c,q,e,x,a]},_matrix_rotation:function(f){return Math.atan2(f[2],f[0])},_matrix_decompose:function(f){var a=f[0],l=f[1],c=f[2],h=f[3],e=Math.sqrt(a*a+l*l);a/=e;l/=e;var k=a*c+l*h;c-=a*k;h-=l*k;var d=Math.sqrt(c*c+h*h);
k/=d;h/d*a<c/d*l&&(a=-a,l=-l,k=-k,e=-e);return{scale:[e,0,0,d,0,0],translate:[1,0,0,1,f[4],f[5]],rotate:[a,l,-l,a,0,0],skew:[1,0,k,1,0,0]}},_matrix_map_point:function(f,a){var l=a[0];a=a[1];return[l*f[0]+a*f[2]+f[4],l*f[1]+a*f[3]+f[5]]},_matrix_map_point_obj:function(f,a){f=this._matrix_map_point(f,[a.x,a.y]);return{x:f[0],y:f[1]}},_matrix_map_rect:function(f,a){var l=this._matrix_map_point(f,[a.x,a.y]);f=this._matrix_map_point(f,[a.x+a.w,a.y+a.h]);return{x:l[0],y:l[1],w:f[0]-l[0],h:f[1]-l[1]}},_matrix_is_identity:function(f){return 1!=
f[0]||0!=f[1]||0!=f[2]||1!=f[3]||0!=f[4]||0!=f[5]?!1:!0},rotate:function(f){this.ctx._transform=this._matrix_multiply(this.ctx._transform,[Math.cos(f),Math.sin(f),-Math.sin(f),Math.cos(f),0,0])},scale:function(f,a){this.ctx._transform=this._matrix_multiply(this.ctx._transform,[f,0,0,a,0,0])},translate:function(f,a){this.ctx._transform=this._matrix_multiply(this.ctx._transform,[1,0,0,1,f,a])},stroke:function(){if(0<this.ctx._clip_path.length){var f=window.outIntercept?"group"===window.outIntercept.type?
window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();f.push("q");var a=this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._stroke(!0);this.ctx._clip_path=this.path;this.path=a;this._stroke(!1);f.push("Q")}else this._stroke(!1)},_stroke:function(f){if(f||!this._isStrokeTransparent()){for(var a=[],l=this.path,c=0;c<l.length;c++){var h=l[c];switch(h.type){case "mt":a.push({start:h,deltas:[],abs:[]});break;case "lt":var e=[h.x-l[c-1].x,h.y-l[c-1].y];a[a.length-
1].deltas.push(e);a[a.length-1].abs.push(h);break;case "bct":e=[h.x1-l[c-1].x,h.y1-l[c-1].y,h.x2-l[c-1].x,h.y2-l[c-1].y,h.x-l[c-1].x,h.y-l[c-1].y];a[a.length-1].deltas.push(e);break;case "qct":e=[l[c-1].x+2/3*(h.x1-l[c-1].x)-l[c-1].x,l[c-1].y+2/3*(h.y1-l[c-1].y)-l[c-1].y,h.x+2/3*(h.x1-h.x)-l[c-1].x,h.y+2/3*(h.y1-h.y)-l[c-1].y,h.x-l[c-1].x,h.y-l[c-1].y];a[a.length-1].deltas.push(e);break;case "arc":0==a.length&&a.push({start:{x:0,y:0},deltas:[],abs:[]}),a[a.length-1].arc=!0,a[a.length-1].abs.push(h)}}for(c=
0;c<a.length;c++)if(l=c==a.length-1?"s":null,a[c].arc)for(h=a[c].abs,e=0;e<h.length;e++){var k=h[e],d=k.x,q=k.y;this.internal.arc2(this,d,q,k.radius,360*k.startAngle/(2*Math.PI),360*k.endAngle/(2*Math.PI),k.anticlockwise,l,f)}else d=a[c].start.x,q=a[c].start.y,f?(this.pdf.lines(a[c].deltas,d,q,null,null),this.pdf.clip_fixed()):this.pdf.lines(a[c].deltas,d,q,null,l)}},_isFillTransparent:function(){return this.ctx._isFillTransparent||0==this.globalAlpha},_isStrokeTransparent:function(){return this.ctx._isStrokeTransparent||
0==this.globalAlpha},fill:function(f){if(0<this.ctx._clip_path.length){var a=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();a.push("q");var l=this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._fill(f,!0);this.ctx._clip_path=this.path;this.path=l;this._fill(f,!1);a.push("Q")}else this._fill(f,!1)},_fill:function(f,a){if(!this._isFillTransparent()){var l="function"===typeof this.pdf.internal.newObject2;
var c=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();var h=[],e=window.outIntercept;if(l)switch(this.ctx.globalCompositeOperation){case "normal":case "source-over":break;case "destination-in":case "destination-out":var k=this.pdf.internal.newStreamObject(),d=this.pdf.internal.newObject2();d.push("\x3c\x3c/Type /ExtGState");d.push("/SMask \x3c\x3c/S /Alpha /G "+k.objId+" 0 R\x3e\x3e");d.push("\x3e\x3e");var q="MASK"+
d.objId;this.pdf.internal.addGraphicsState(q,d.objId);q="/"+q+" gs";c.splice(0,0,"q");c.splice(1,0,q);c.push("Q");window.outIntercept=k;break;default:(c="/"+this.pdf.internal.blendModeMap[this.ctx.globalCompositeOperation.toUpperCase()])&&this.pdf.internal.out(c+" gs")}c=this.ctx.globalAlpha;1>this.ctx._fillOpacity&&(c=this.ctx._fillOpacity);l&&(l=this.pdf.internal.newObject2(),l.push("\x3c\x3c/Type /ExtGState"),l.push("/CA "+c),l.push("/ca "+c),l.push("\x3e\x3e"),q="GS_O_"+l.objId,this.pdf.internal.addGraphicsState(q,
l.objId),this.pdf.internal.out("/"+q+" gs"));c=this.path;for(l=0;l<c.length;l++)switch(k=c[l],k.type){case "mt":h.push({start:k,deltas:[],abs:[]});break;case "lt":q=[k.x-c[l-1].x,k.y-c[l-1].y];h[h.length-1].deltas.push(q);h[h.length-1].abs.push(k);break;case "bct":q=[k.x1-c[l-1].x,k.y1-c[l-1].y,k.x2-c[l-1].x,k.y2-c[l-1].y,k.x-c[l-1].x,k.y-c[l-1].y];h[h.length-1].deltas.push(q);break;case "qct":q=[c[l-1].x+2/3*(k.x1-c[l-1].x)-c[l-1].x,c[l-1].y+2/3*(k.y1-c[l-1].y)-c[l-1].y,k.x+2/3*(k.x1-k.x)-c[l-1].x,
k.y+2/3*(k.y1-k.y)-c[l-1].y,k.x-c[l-1].x,k.y-c[l-1].y];h[h.length-1].deltas.push(q);break;case "arc":0===h.length&&h.push({deltas:[],abs:[]});h[h.length-1].arc=!0;h[h.length-1].abs.push(k);break;case "close":h.push({close:!0})}for(l=0;l<h.length;l++)if(l==h.length-1?(q="f","evenodd"===f&&(q+="*")):q=null,h[l].close)this.pdf.internal.out("h"),this.pdf.internal.out("f");else if(h[l].arc)for(h[l].start&&this.internal.move2(this,h[l].start.x,h[l].start.y),q=h[l].abs,d=0;d<q.length;d++){var x=q[d];if("undefined"!==
typeof x.startAngle){var w=360*x.startAngle/(2*Math.PI),E=360*x.endAngle/(2*Math.PI);c=x.x;k=x.y;0===d&&this.internal.move2(this,c,k);this.internal.arc2(this,c,k,x.radius,w,E,x.anticlockwise,null,a);d===q.length-1&&h[l].start&&(c=h[l].start.x,k=h[l].start.y,this.internal.line2(p,c,k))}else this.internal.line2(p,x.x,x.y)}else c=h[l].start.x,k=h[l].start.y,a?(this.pdf.lines(h[l].deltas,c,k,null,null),this.pdf.clip_fixed()):this.pdf.lines(h[l].deltas,c,k,null,q);window.outIntercept=e}},pushMask:function(){if("function"!==
typeof this.pdf.internal.newObject2)console.log("jsPDF v2 not enabled");else{var f=this.pdf.internal.newStreamObject(),a=this.pdf.internal.newObject2();a.push("\x3c\x3c/Type /ExtGState");a.push("/SMask \x3c\x3c/S /Alpha /G "+f.objId+" 0 R\x3e\x3e");a.push("\x3e\x3e");f="MASK"+a.objId;this.pdf.internal.addGraphicsState(f,a.objId);this.pdf.internal.out("/"+f+" gs")}},clip:function(){if(0<this.ctx._clip_path.length)for(var f=0;f<this.path.length;f++)this.ctx._clip_path.push(this.path[f]);else this.ctx._clip_path=
this.path;this.path=[]},measureText:function(f){var a=this.pdf;return{getWidth:function(){var l=a.internal.getFontSize();return a.getStringUnitWidth(f)*l/a.internal.scaleFactor*1.3333}}},_getBaseline:function(f){var a=parseInt(this.pdf.internal.getFontSize()),l=.25*a;switch(this.ctx.textBaseline){case "bottom":return f-l;case "top":return f+a;case "hanging":return f+a-l;case "middle":return f+a/2-l;case "ideographic":return f;default:return f}}};var p=m.context2d;Object.defineProperty(p,"fillStyle",
{set:function(f){this.setFillStyle(f)},get:function(){return this.ctx.fillStyle}});Object.defineProperty(p,"strokeStyle",{set:function(f){this.setStrokeStyle(f)},get:function(){return this.ctx.strokeStyle}});Object.defineProperty(p,"lineWidth",{set:function(f){this.setLineWidth(f)},get:function(){return this.ctx.lineWidth}});Object.defineProperty(p,"lineCap",{set:function(f){this.setLineCap(f)},get:function(){return this.ctx.lineCap}});Object.defineProperty(p,"lineJoin",{set:function(f){this.setLineJoin(f)},
get:function(){return this.ctx.lineJoin}});Object.defineProperty(p,"miterLimit",{set:function(f){this.ctx.miterLimit=f},get:function(){return this.ctx.miterLimit}});Object.defineProperty(p,"textBaseline",{set:function(f){this.setTextBaseline(f)},get:function(){return this.getTextBaseline()}});Object.defineProperty(p,"textAlign",{set:function(f){this.setTextAlign(f)},get:function(){return this.getTextAlign()}});Object.defineProperty(p,"font",{set:function(f){this.setFont(f)},get:function(){return this.ctx.font}});
Object.defineProperty(p,"globalCompositeOperation",{set:function(f){this.ctx.globalCompositeOperation=f},get:function(){return this.ctx.globalCompositeOperation}});Object.defineProperty(p,"globalAlpha",{set:function(f){this.ctx.globalAlpha=f},get:function(){return this.ctx.globalAlpha}});Object.defineProperty(p,"ignoreClearRect",{set:function(f){this.ctx.ignoreClearRect=f},get:function(){return this.ctx.ignoreClearRect}});p.internal={};p.internal.rxRgb=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/;
p.internal.rxRgba=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/;p.internal.rxTransparent=/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/;p.internal.arc=function(f,a,l,c,h,e,k,d){var q=this.pdf.internal.scaleFactor,x=this.pdf.internal.pageSize.getHeight(),w=this.pdf.internal.f2;c=this.createArc(c,Math.PI/180*h,Math.PI/180*e,k);for(h=0;h<c.length;h++)e=c[h],0===h?this.pdf.internal.out([w((e.x1+a)*q),w((x-(e.y1+l))*q),"m",w((e.x2+a)*q),w((x-(e.y2+l))*q),w((e.x3+
a)*q),w((x-(e.y3+l))*q),w((e.x4+a)*q),w((x-(e.y4+l))*q),"c"].join(" ")):this.pdf.internal.out([w((e.x2+a)*q),w((x-(e.y2+l))*q),w((e.x3+a)*q),w((x-(e.y3+l))*q),w((e.x4+a)*q),w((x-(e.y4+l))*q),"c"].join(" ")),f._lastPoint={x:a,y:l};null!==d&&this.pdf.internal.out(this.pdf.internal.getStyle(d))};p.internal.arc2=function(f,a,l,c,h,e,k,d,q){q?(this.arc(f,a,l,c,h,e,k,null),this.pdf.clip_fixed()):this.arc(f,a,l,c,h,e,k,d)};p.internal.move2=function(f,a,l){var c=this.pdf.internal.scaleFactor,h=this.pdf.internal.pageSize.getHeight(),
e=this.pdf.internal.f2;this.pdf.internal.out([e(a*c),e((h-l)*c),"m"].join(" "));f._lastPoint={x:a,y:l}};p.internal.line2=function(f,a,l){var c=this.pdf.internal.scaleFactor,h=this.pdf.internal.pageSize.getHeight(),e=this.pdf.internal.f2;a={x:a,y:l};this.pdf.internal.out([e(a.x*c),e((h-a.y)*c),"l"].join(" "));f._lastPoint=a};p.internal.createArc=function(f,a,l,c){var h=2*Math.PI,e=Math.PI/2,k=a;if(k<h||k>h)k%=h;for(0>k&&(k=h+k);a>l;)a-=h;a=Math.abs(l-a);a<h&&c&&(a=h-a);h=[];for(c=c?-1:1;1E-5<a;)l=
k+c*Math.min(a,e),h.push(this.createSmallArc(f,k,l)),a-=Math.abs(l-k),k=l;return h};p.internal.getCurrentPage=function(){return this.pdf.internal.pages[this.pdf.internal.getCurrentPageInfo().pageNumber]};p.internal.createSmallArc=function(f,a,l){var c=(l-a)/2,h=f*Math.cos(c),e=f*Math.sin(c),k=-e,d=h*h+k*k,q=d+h*h+k*e;d=4/3*(Math.sqrt(2*d*q)-q)/(h*e-k*h);e=h-d*k;h=k+d*h;k=-h;d=c+a;c=Math.cos(d);d=Math.sin(d);return{x1:f*Math.cos(a),y1:f*Math.sin(a),x2:e*c-h*d,y2:e*d+h*c,x3:e*c-k*d,y3:e*d+k*c,x4:f*
Math.cos(l),y4:f*Math.sin(l)}};return this})(N.API);(function(m){var n=function(){function H(){}return function(A){H.prototype=A;return new H}}();var p=function(H){var A,P;var W=0;var X=H.length;var ba=void 0;for(P=A=!1;!A&&W!==X;)(ba=H[W]=H[W].trimLeft())&&(A=!0),W++;for(W=X-1;X&&!P&&-1!==W;)(ba=H[W]=H[W].trimRight())&&(P=!0),W--;A=/\s+$/g;P=!0;for(W=0;W!==X;)"\u2028"!=H[W]&&(ba=H[W].replace(/\s+/g," "),P&&(ba=ba.trimLeft()),ba&&(P=A.test(ba)),H[W]=ba),W++;return H};var f=function(H,A,P,W){this.pdf=
H;this.x=A;this.y=P;this.settings=W;this.watchFunctions=[];this.init();return this};var a=function(H){var A=void 0;var P=H.split(",");for(H=P.shift();!A&&H;)A=u[H.trim().toLowerCase()],H=P.shift();return A};var l=function(H){H="auto"===H?"0px":H;-1<H.indexOf("em")&&!isNaN(Number(H.replace("em","")))&&(H=18.719*Number(H.replace("em",""))+"px");-1<H.indexOf("pt")&&!isNaN(Number(H.replace("pt","")))&&(H=1.333*Number(H.replace("pt",""))+"px");var A;if(A=O[H])return A;A={"xx-small":9,"x-small":11,small:13,
medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[{css_line_height_string:H}];if(void 0!==A||(A=parseFloat(H)))return O[H]=A/16;A=H.match(/([\d\.]+)(px)/);return 3===A.length?O[H]=parseFloat(A[1])/16:O[H]=1};var c=function(H){var A=function(W){var X=function(ba){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(ba,null):ba.currentStyle?ba.currentStyle:ba.style}(W);return function(ba){ba=ba.replace(/-\D/g,function(na){return na.charAt(1).toUpperCase()});
return X[ba]}}(H);H={};var P=void 0;H["font-family"]=a(A("font-family"))||"times";H["font-style"]=G[A("font-style")]||"normal";H["text-align"]=Q[A("text-align")]||"left";P=y[A("font-weight")]||"normal";"bold"===P&&(H["font-style"]="normal"===H["font-style"]?P:P+H["font-style"]);H["font-size"]=l(A("font-size"))||1;H["line-height"]=l(A("line-height"))||1;H.display="inline"===A("display")?"inline":"block";P="block"===H.display;H["margin-top"]=P&&l(A("margin-top"))||0;H["margin-bottom"]=P&&l(A("margin-bottom"))||
0;H["padding-top"]=P&&l(A("padding-top"))||0;H["padding-bottom"]=P&&l(A("padding-bottom"))||0;H["margin-left"]=P&&l(A("margin-left"))||0;H["margin-right"]=P&&l(A("margin-right"))||0;H["padding-left"]=P&&l(A("padding-left"))||0;H["padding-right"]=P&&l(A("padding-right"))||0;H["page-break-before"]=A("page-break-before")||"auto";H["float"]=V[A("cssFloat")]||"none";H.clear=M[A("clear")]||"none";H.color=A("color");return H};var h=function(H,A,P){var W,X;var ba=!1;var na=X=void 0;if(W=P["#"+H.id])if("function"===
typeof W)ba=W(H,A);else for(X=0,na=W.length;!ba&&X!==na;)ba=W[X](H,A),X++;W=P[H.nodeName];if(!ba&&W)if("function"===typeof W)ba=W(H,A);else for(X=0,na=W.length;!ba&&X!==na;)ba=W[X](H,A),X++;return ba};var e=function(H,A){var P;var W=[];var X=[];var ba=0;var na=H.rows[0].cells.length;for(P=H.clientWidth;ba<na;){var da=H.rows[0].cells[ba];X[ba]={name:da.textContent.toLowerCase().replace(/\s+/g,""),prompt:da.textContent.replace(/\r?\n/g,""),width:da.clientWidth/P*A.pdf.internal.pageSize.getWidth()};
ba++}for(ba=1;ba<H.rows.length;){da=H.rows[ba];P={};for(A=0;A<da.cells.length;)P[X[A].name]=da.cells[A].textContent.replace(/\r?\n/g,""),A++;W.push(P);ba++}return{rows:W,headers:X}};var k={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},d=1;var q=function(H,A,P){var W,X,ba;var na=H.childNodes;var da=void 0;H=c(H);if(W="block"===H.display)A.setBlockBoundary(),A.setBlockStyle(H);var Ba=0;for(X=na.length;Ba<X;){da=na[Ba];if("object"===("undefined"===typeof da?"undefined":T(da))){A.executeWatchFunctions(da);
if(1===da.nodeType&&"HEADER"===da.nodeName){var qa=da,ya=A.pdf.margins_doc.top;A.pdf.internal.events.subscribe("addPage",function(I){A.y=ya;q(qa,A,P);A.pdf.margins_doc.top=A.y+10;A.y+=10},!1)}if(8===da.nodeType&&"#comment"===da.nodeName)~da.textContent.indexOf("ADD_PAGE")&&(A.pdf.addPage(),A.y=A.pdf.margins_doc.top);else if(1!==da.nodeType||k[da.nodeName])if(3===da.nodeType){if((ba=da.nodeValue)&&"LI"===da.parentNode.nodeName)if("OL"===da.parentNode.parentNode.nodeName)ba=d++ +". "+ba;else{var t=
H["font-size"];var v=(3-.75*t)*A.pdf.internal.scaleFactor,F=.75*t*A.pdf.internal.scaleFactor,C=1.74*t/A.pdf.internal.scaleFactor;t=function(I,L){this.pdf.circle(I+v,L+F,C,"FD")}}da.ownerDocument.body.compareDocumentPosition(da)&16&&A.addText(ba,H)}else"string"===typeof da&&A.addText(da,H);else{if("IMG"===da.nodeName){var J=da.getAttribute("src");J=x[A.pdf.sHashCode(J)||J]}if(J){A.pdf.internal.pageSize.getHeight()-A.pdf.margins_doc.bottom<A.y+da.height&&A.y>A.pdf.margins_doc.top&&(A.pdf.addPage(),
A.y=A.pdf.margins_doc.top,A.executeWatchFunctions(da));ba=c(da);var R=A.x,oa=12/A.pdf.internal.scaleFactor,aa=(ba["margin-left"]+ba["padding-left"])*oa,wa=(ba["margin-right"]+ba["padding-right"])*oa,B=(ba["margin-top"]+ba["padding-top"])*oa;oa*=ba["margin-bottom"]+ba["padding-bottom"];R=void 0!==ba["float"]&&"right"===ba["float"]?R+(A.settings.width-da.width-wa):R+aa;A.pdf.addImage(J,R,A.y+B,da.width,da.height);J=void 0;"right"===ba["float"]||"left"===ba["float"]?(A.watchFunctions.push(function(I,
L,Z,ea){return A.y>=L?(A.x+=I,A.settings.width+=Z,!0):ea&&1===ea.nodeType&&!k[ea.nodeName]&&A.x+ea.width>A.pdf.margins_doc.left+A.pdf.margins_doc.width?(A.x+=I,A.y=L,A.settings.width+=Z,!0):!1}.bind(this,"left"===ba["float"]?-da.width-aa-wa:0,A.y+da.height+B+oa,da.width)),A.watchFunctions.push(function(I,L,Z){return A.y<I&&L===A.pdf.internal.getNumberOfPages()?1===Z.nodeType&&"both"===c(Z).clear?(A.y=I,!0):!1:!0}.bind(this,A.y+da.height,A.pdf.internal.getNumberOfPages())),A.settings.width-=da.width+
aa+wa,"left"===ba["float"]&&(A.x+=da.width+aa+wa)):A.y+=da.height+B+oa}else"TABLE"===da.nodeName?(ba=e(da,A),A.y+=10,A.pdf.table(A.x,A.y,ba.rows,ba.headers,{autoSize:!1,printHeaders:P.printHeaders,margins:A.pdf.margins_doc,css:c(da)}),A.y=A.pdf.lastCellPos.y+A.pdf.lastCellPos.h+20):"OL"===da.nodeName||"UL"===da.nodeName?(d=1,h(da,A,P)||q(da,A,P),A.y+=10):"LI"===da.nodeName?(ba=A.x,A.x+=20/A.pdf.internal.scaleFactor,A.y+=3,h(da,A,P)||q(da,A,P),A.x=ba):"BR"===da.nodeName?(A.y+=H["font-size"]*A.pdf.internal.scaleFactor,
A.addText("\u2028",n(H))):h(da,A,P)||q(da,A,P)}}Ba++}P.outY=A.y;if(W)return A.setBlockBoundary(t)};var x={};var w=function(H,A,P,W){function X(){A.pdf.internal.events.publish("imagesLoaded");W(na)}function ba(Ba,qa,ya){if(Ba){var t=new Image;na=++da;t.crossOrigin="";t.onerror=t.onload=function(){if(t.complete&&(0===t.src.indexOf("data:image/")&&(t.width=qa||t.width||0,t.height=ya||t.height||0),t.width+t.height)){var v=A.pdf.sHashCode(Ba)||Ba;x[v]=x[v]||t}--da||X()};t.src=Ba}}H=H.getElementsByTagName("img");
P=H.length;for(var na,da=0;P--;)ba(H[P].getAttribute("src"),H[P].width,H[P].height);return da||X()};var E=function(H,A,P){var W=H.getElementsByTagName("footer");if(0<W.length){W=W[0];H=A.pdf.internal.write;var X=A.y;A.pdf.internal.write=function(){};q(W,A,P);var ba=Math.ceil(A.y-X)+5;A.y=X;A.pdf.internal.write=H;A.pdf.margins_doc.bottom+=ba;H=function(da){da=void 0!==da?da.pageNumber:1;var Ba=A.y;A.y=A.pdf.internal.pageSize.getHeight()-A.pdf.margins_doc.bottom;A.pdf.margins_doc.bottom-=ba;for(var qa=
W.getElementsByTagName("span"),ya=0;ya<qa.length;++ya)-1<(" "+qa[ya].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")&&(qa[ya].innerHTML=da),-1<(" "+qa[ya].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&(qa[ya].innerHTML="###jsPDFVarTotalPages###");q(W,A,P);A.pdf.margins_doc.bottom+=ba;A.y=Ba};X=W.getElementsByTagName("span");for(var na=0;na<X.length;++na)-1<(" "+X[na].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&A.pdf.internal.events.subscribe("htmlRenderingFinished",
A.pdf.putTotalPages.bind(A.pdf,"###jsPDFVarTotalPages###"),!0);A.pdf.internal.events.subscribe("addPage",H,!1);H();k.FOOTER=1}};var z=function(H,A,P,W,X,ba){if(!A)return!1;"string"===typeof A||A.parentNode||(A=""+A.innerHTML);"string"===typeof A&&(A=function(Ba){var qa="jsPDFhtmlText"+Date.now().toString()+(1E3*Math.random()).toFixed(0);var ya=document.createElement("div");ya.style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;";
ya.innerHTML='\x3ciframe style\x3d"height:1px;width:1px" name\x3d"'+qa+'" /\x3e';document.body.appendChild(ya);ya=window.frames[qa];ya.document.open();ya.document.writeln(Ba);ya.document.close();return ya.document.body}(A.replace(/<\/?script[^>]*?>/gi,"")));var na=new f(H,P,W,X),da;w.call(this,A,na,X.elementHandlers,function(Ba){E(A,na,X.elementHandlers);q(A,na,X.elementHandlers);na.pdf.internal.events.publish("htmlRenderingFinished");da=na.dispose();"function"===typeof ba?ba(da):Ba&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")});
return da||{x:na.x,y:na.y}};f.prototype.init=function(){this.paragraph={text:[],style:[]};return this.pdf.internal.write("q")};f.prototype.dispose=function(){this.pdf.internal.write("Q");return{x:this.x,y:this.y,ready:!0}};f.prototype.executeWatchFunctions=function(H){var A=!1,P=[];if(0<this.watchFunctions.length){for(var W=0;W<this.watchFunctions.length;++W)!0===this.watchFunctions[W](H)?A=!0:P.push(this.watchFunctions[W]);this.watchFunctions=P}return A};f.prototype.splitFragmentsIntoLines=function(H,
A){var P,W,X,ba,na,da;var Ba=this.pdf.internal.scaleFactor;var qa={};var ya=W=P=da=X=W=ba=P=void 0;var t=[];var v=[t];ya=0;for(na=this.settings.width;H.length;)if(X=H.shift(),da=A.shift(),X)if(P=da["font-family"],ba=da["font-style"],W=qa[P+ba],W||(W=this.pdf.internal.getFont(P,ba).metadata.Unicode,qa[P+ba]=W),P={widths:W.widths,kerning:W.kerning,fontSize:12*da["font-size"],textIndent:ya},W=this.pdf.getStringUnitWidth(X,P)*P.fontSize/Ba,"\u2028"==X)t=[],v.push(t);else if(ya+W>na){ya=this.pdf.splitTextToSize(X,
na,P);for(t.push([ya.shift(),da]);ya.length;)t=[[ya.shift(),da]],v.push(t);ya=this.pdf.getStringUnitWidth(t[0][0],P)*P.fontSize/Ba}else t.push([X,da]),ya+=W;if(void 0!==da["text-align"]&&("center"===da["text-align"]||"right"===da["text-align"]||"justify"===da["text-align"]))for(H=0;H<v.length;++H)A=this.pdf.getStringUnitWidth(v[H][0][0],P)*P.fontSize/Ba,0<H&&(v[H][0][1]=n(v[H][0][1])),A=na-A,"right"===da["text-align"]?v[H][0][1]["margin-left"]=A:"center"===da["text-align"]?v[H][0][1]["margin-left"]=
A/2:"justify"===da["text-align"]&&(qa=v[H][0][0].split(" ").length-1,v[H][0][1]["word-spacing"]=A/qa,H===v.length-1&&(v[H][0][1]["word-spacing"]=0));return v};f.prototype.RenderTextFragment=function(H,A){var P=0;this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),
A.color,"Td"),P=Math.max(P,A["line-height"],A["font-size"]),this.pdf.internal.write(0,(-12*P).toFixed(2),"Td"));P=this.pdf.internal.getFont(A["font-family"],A["font-style"]);var W=this.getPdfColor(A.color);W!==this.lastTextColor&&(this.pdf.internal.write(W),this.lastTextColor=W);void 0!==A["word-spacing"]&&0<A["word-spacing"]&&this.pdf.internal.write(A["word-spacing"].toFixed(2),"Tw");this.pdf.internal.write("/"+P.id,(12*A["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(H)+") Tj");void 0!==
A["word-spacing"]&&this.pdf.internal.write(0,"Tw")};f.prototype.getPdfColor=function(H){var A=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(H);if(null!=A){var P=parseInt(A[1]);var W=parseInt(A[2]);H=parseInt(A[3])}else"#"!=H.charAt(0)&&((H=ja.colorNameToHex(H))||(H="#000000")),P=H.substring(1,3),P=parseInt(P,16),W=H.substring(3,5),W=parseInt(W,16),H=H.substring(5,7),H=parseInt(H,16);"string"===typeof P&&/^#[0-9A-Fa-f]{6}$/.test(P)&&(H=parseInt(P.substr(1),16),P=H>>16&255,W=H>>8&255,H&=255);A=this.f3;
return 0===P&&0===W&&0===H||"undefined"===typeof W?A(P/255)+" g":[A(P/255),A(W/255),A(H/255),"rg"].join(" ")};f.prototype.f3=function(H){return H.toFixed(3)};f.prototype.renderParagraph=function(H){var A,P;var W=p(this.paragraph.text);var X=this.paragraph.style;var ba=this.paragraph.blockstyle;this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:ba};if(W.join("").trim()){X=this.splitFragmentsIntoLines(W,X);var na=P=void 0;W=12/this.pdf.internal.scaleFactor;this.priorMarginBottom=this.priorMarginBottom||
0;P=(Math.max((ba["margin-top"]||0)-this.priorMarginBottom,0)+(ba["padding-top"]||0))*W;var da=((ba["margin-bottom"]||0)+(ba["padding-bottom"]||0))*W;this.priorMarginBottom=ba["margin-bottom"]||0;"always"===ba["page-break-before"]&&(this.pdf.addPage(),this.y=0,P=((ba["margin-top"]||0)+(ba["padding-top"]||0))*W);var Ba=this.pdf.internal.write;var qa=A=void 0;this.y+=P;Ba("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var ya=
0;X.length;){P=X.shift();A=na=0;for(qa=P.length;A!==qa;){if(P[A][0].trim()){na=Math.max(na,P[A][1]["line-height"],P[A][1]["font-size"]);var t=7*P[A][1]["font-size"]}A++}qa=A=0;void 0!==P[0][1]["margin-left"]&&0<P[0][1]["margin-left"]&&(qa=this.pdf.internal.getCoordinateString(P[0][1]["margin-left"]),A=qa-ya,ya=qa);Ba(A+Math.max(ba["margin-left"]||0,0)*W,(-12*na).toFixed(2),"Td");A=0;for(qa=P.length;A!==qa;)P[A][0]&&this.RenderTextFragment(P[A][0],P[A][1]),A++;this.y+=na*W;if(this.executeWatchFunctions(P[0][1])&&
0<X.length){var v=[],F=[];X.forEach(function(C){for(var J=0,R=C.length;J!==R;)C[J][0]&&(v.push(C[J][0]+" "),F.push(C[J][1])),++J});X=this.splitFragmentsIntoLines(p(v),F);Ba("ET","Q");Ba("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}H&&"function"===typeof H&&H.call(this,this.x-9,this.y-t/2);Ba("ET","Q");return this.y+=da}};f.prototype.setBlockBoundary=function(H){return this.renderParagraph(H)};f.prototype.setBlockStyle=function(H){return this.paragraph.blockstyle=
H};f.prototype.addText=function(H,A){this.paragraph.text.push(H);return this.paragraph.style.push(A)};var u={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"};var y={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"};var G={normal:"normal",italic:"italic",oblique:"italic"};var Q={left:"left",right:"right",
center:"center",justify:"justify"};var V={none:"none",right:"right",left:"left"};var M={none:"none",both:"both"};var O={normal:1};m.fromHTML=function(H,A,P,W,X,ba){this.margins_doc=ba||{top:0,bottom:0};W||(W={});W.elementHandlers||(W.elementHandlers={});return z(this,H,isNaN(A)?4:A,isNaN(P)?4:P,W,X)}})(N.API);(function(m){var n,p,f;m.addJS=function(a){f=a;this.internal.events.subscribe("postPutResources",function(l){n=this.internal.newObject();this.internal.write("\x3c\x3c /Names [(EmbeddedJS) "+
(n+1)+" 0 R] \x3e\x3e","endobj");p=this.internal.newObject();this.internal.write("\x3c\x3c /S /JavaScript /JS (",f,") \x3e\x3e","endobj")});this.internal.events.subscribe("putCatalog",function(){void 0!==n&&void 0!==p&&this.internal.write("/Names \x3c\x3c/JavaScript "+n+" 0 R\x3e\x3e")});return this}})(N.API);(function(m){m.events.push(["postPutResources",function(){var n=/^(\d+) 0 obj$/;if(0<this.outline.root.children.length)for(var p=this.outline.render().split(/\r\n/),f=0;f<p.length;f++){var a=
p[f],l=n.exec(a);null!=l&&this.internal.newObjectDeferredBegin(l[1]);this.internal.write(a)}if(this.outline.createNamedDestinations){p=this.internal.pages.length;n=[];for(f=0;f<p;f++)a=this.internal.newObject(),n.push(a),a=this.internal.getPageInfo(f+1),this.internal.write("\x3c\x3c /D["+a.objId+" 0 R /XYZ null null null]\x3e\x3e endobj");p=this.internal.newObject();this.internal.write("\x3c\x3c /Names [ ");for(f=0;f<n.length;f++)this.internal.write("(page_"+(f+1)+")"+n[f]+" 0 R");this.internal.write(" ] \x3e\x3e",
"endobj");this.internal.newObject();this.internal.write("\x3c\x3c /Dests "+p+" 0 R");this.internal.write("\x3e\x3e","endobj")}}]);m.events.push(["putCatalog",function(){0<this.outline.root.children.length&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+namesOid+" 0 R"))}]);m.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}};n.outline.add=function(p,
f,a){f={title:f,options:a,children:[]};null==p&&(p=this.root);p.children.push(f);return f};n.outline.render=function(){this.ctx={};this.ctx.val="";this.ctx.pdf=n;this.genIds_r(this.root);this.renderRoot(this.root);this.renderItems(this.root);return this.ctx.val};n.outline.genIds_r=function(p){p.id=n.internal.newObjectDeferred();for(var f=0;f<p.children.length;f++)this.genIds_r(p.children[f])};n.outline.renderRoot=function(p){this.objStart(p);this.line("/Type /Outlines");0<p.children.length&&(this.line("/First "+
this.makeRef(p.children[0])),this.line("/Last "+this.makeRef(p.children[p.children.length-1])));this.line("/Count "+this.count_r({count:0},p));this.objEnd()};n.outline.renderItems=function(p){for(var f=0;f<p.children.length;f++){var a=p.children[f];this.objStart(a);this.line("/Title "+this.makeString(a.title));this.line("/Parent "+this.makeRef(p));0<f&&this.line("/Prev "+this.makeRef(p.children[f-1]));f<p.children.length-1&&this.line("/Next "+this.makeRef(p.children[f+1]));0<a.children.length&&(this.line("/First "+
this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);0<l&&this.line("/Count "+l);a.options&&a.options.pageNumber&&(a=n.internal.getPageInfo(a.options.pageNumber),this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+this.ctx.pdf.internal.pageSize.getHeight()+" 0]"));this.objEnd()}for(f=0;f<p.children.length;f++)a=p.children[f],this.renderItems(a)};n.outline.line=function(p){this.ctx.val+=p+"\r\n"};n.outline.makeRef=function(p){return p.id+
" 0 R"};n.outline.makeString=function(p){return"("+n.internal.pdfEscape(p)+")"};n.outline.objStart=function(p){this.ctx.val+="\r\n"+p.id+" 0 obj\r\n\x3c\x3c\r\n"};n.outline.objEnd=function(p){this.ctx.val+="\x3e\x3e \r\nendobj\r\n"};n.outline.count_r=function(p,f){for(var a=0;a<f.children.length;a++)p.count++,this.count_r(p,f.children[a]);return p.count}}]);return this})(N.API);(function(m){var n=function(h,e,k,d){var q=5,x=a;switch(d){case m.image_compression.FAST:q=3;x=f;break;case m.image_compression.MEDIUM:q=
6;x=l;break;case m.image_compression.SLOW:q=9,x=c}d=h.length/e;for(var w=new Uint8Array(h.length+d),E=[p,f,a,l,c],z=0,u,y,G;z<d;z++){G=z*e;u=h.subarray(G,G+e);if(x)w.set(x(u,k,y),G+z);else{for(var Q=0,V=E.length,M=[];Q<V;Q++)M[Q]=E[Q](u,k,y);var O=Q=y=void 0;V=M.concat();for(var H=0,A=V.length;H<A;){O=V[H].slice(1);for(var P=0,W=O.length,X=0;P<W;)X+=Math.abs(O[P++]);O=X;if(O<Q||!Q)Q=O,y=H;H++}w.set(M[y],G+z)}y=u}h=w;e=Uint8Array;k=Math.LOG2E*Math.log(32768)-8<<4|8;x=k<<8|0;x+=31-x%31;e=new e([k,x&
255]);k=1;x=0;d=h.length;for(E=0;0<d;){w=void 0<d?void 0:d;d-=w;do k+=h[E++],x+=k;while(--w);k%=65521;x%=65521}k=(x<<16|k)>>>0;x=new ca(q);q=x.append(h);h=x.flush();x=e.length+q.length+h.length;d=new Uint8Array(x+4);d.set(e);d.set(q,e.length);d.set(h,e.length+q.length);d[x++]=k>>>24&255;d[x++]=k>>>16&255;d[x++]=k>>>8&255;d[x++]=k&255;return m.arrayBufferToBinaryString(d)},p=function(h,e,k){h=Array.apply([],h);h.unshift(0);return h},f=function(h,e,k){k=[];var d=0,q=h.length;for(k[0]=1;d<q;d++){var x=
h[d-e]||0;k[d+1]=h[d]-x+256&255}return k},a=function(h,e,k){e=[];var d=0,q=h.length;for(e[0]=2;d<q;d++){var x=k&&k[d]||0;e[d+1]=h[d]-x+256&255}return e},l=function(h,e,k){var d=[],q=0,x=h.length;for(d[0]=3;q<x;q++){var w=h[q-e]||0;var E=k&&k[q]||0;d[q+1]=h[q]+256-(w+E>>>1)&255}return d},c=function(h,e,k){var d=[],q=0,x=h.length;for(d[0]=4;q<x;q++){var w=h[q-e]||0;var E=k&&k[q]||0;var z=k&&k[q-e]||0;var u=w+E-z,y=Math.abs(u-w),G=Math.abs(u-E);u=Math.abs(u-z);w=y<=G&&y<=u?w:G<=u?E:z;d[q+1]=h[q]-w+256&
255}return d};m.processPNG=function(h,e,k,d,q){q=this.color_spaces.DEVICE_RGB;var x=this.decode.FLATE_DECODE,w=8;this.isArrayBuffer(h)&&(h=new Uint8Array(h));if(this.isArrayBufferView(h)){if("function"!==typeof D.PNG||"function"!==typeof S)throw Error("PNG support requires png.js and zlib.js");var E=new D.PNG(h);h=E.imgData;w=E.bits;q=E.colorSpace;var z=E.colors;if(-1!==[4,6].indexOf(E.colorType)){if(8===E.bits){var u=32==E.pixelBitlength?new Uint32Array(E.decodePixels().buffer):16==E.pixelBitlength?
new Uint16Array(E.decodePixels().buffer):new Uint8Array(E.decodePixels().buffer);var y=u.length,G=new Uint8Array(y*E.colors),Q=new Uint8Array(y),V=E.pixelBitlength-E.bits,M=0;h=0;for(var O,H;M<y;M++){O=u[M];for(H=0;H<V;)G[h++]=O>>>H&255,H+=E.bits;Q[M]=O>>>H&255}}if(16===E.bits){u=new Uint32Array(E.decodePixels().buffer);y=u.length;G=new Uint8Array(32/E.pixelBitlength*y*E.colors);Q=new Uint8Array(32/E.pixelBitlength*y);w=1<E.colors;for(V=h=M=0;M<y;)O=u[M++],G[h++]=O>>>0&255,w&&(G[h++]=O>>>16&255,O=
u[M++],G[h++]=O>>>0&255),Q[V++]=O>>>16&255;w=8}if(y=d!==m.image_compression.NONE)if(y="function"===typeof ca,!y)throw Error("requires deflate.js for compression");y?(h=n(G,E.width*E.colors,E.colors,d),u=n(Q,E.width,1,d)):(h=G,u=Q,x=null)}if(3===E.colorType){q=this.color_spaces.INDEXED;var A=E.palette;if(E.transparency.indexed){G=E.transparency.indexed;M=Q=0;for(y=G.length;M<y;++M)Q+=G[M];Q/=255;if(Q===y-1&&-1!==G.indexOf(0))var P=[G.indexOf(0)];else if(Q!==y){u=E.decodePixels();Q=new Uint8Array(u.length);
M=0;for(y=u.length;M<y;M++)Q[M]=G[u[M]];u=n(Q,E.width,1)}}}switch(d){case m.image_compression.FAST:d=11;break;case m.image_compression.MEDIUM:d=13;break;case m.image_compression.SLOW:d=14;break;default:d=12}z=x===this.decode.FLATE_DECODE?"/Predictor "+d+" /Colors "+z+" /BitsPerComponent "+w+" /Columns "+E.width:"/Colors "+z+" /BitsPerComponent "+w+" /Columns "+E.width;if(this.isArrayBuffer(h)||this.isArrayBufferView(h))h=this.arrayBufferToBinaryString(h);if(u&&this.isArrayBuffer(u)||this.isArrayBufferView(u))u=
this.arrayBufferToBinaryString(u);return this.createImageInfo(h,E.width,E.height,q,w,x,e,k,z,P,A,u,d)}throw Error("Unsupported PNG image data, try using JPEG instead.");}})(N.API);(function(m){var n=m.getCharWidthsArray=function(c,h){h||(h={});var e=h.widths?h.widths:this.internal.getFont().metadata.Unicode.widths,k=e.fof?e.fof:1;h=h.kerning?h.kerning:this.internal.getFont().metadata.Unicode.kerning;var d=h.fof?h.fof:1,q,x=0,w=e[0]||k,E=[];var z=0;for(q=c.length;z<q;z++){var u=c.charCodeAt(z);E.push((e[u]||
w)/k+(h[u]&&h[u][x]||0)/d);x=u}return E},p=function(c){for(var h=c.length,e=0;h;)h--,e+=c[h];return e},f=m.getStringUnitWidth=function(c,h){return p(n.call(this,c,h))},a=function(c,h,e,k){for(var d=[],q=0,x=c.length,w=0;q!==x&&w+h[q]<e;)w+=h[q],q++;d.push(c.slice(0,q));e=q;for(w=0;q!==x;)w+h[q]>k&&(d.push(c.slice(e,q)),w=0,e=q),w+=h[q],q++;e!==q&&d.push(c.slice(e,q));return d},l=function(c,h,e){e||(e={});var k=[],d=[k],q=e.textIndent||0,x=0,w=0,E=c.split(" "),z=n(" ",e)[0],u,y;if(y=-1===e.lineIndent?
E[0].length+2:e.lineIndent||0){var G=Array(y).join(" "),Q=[];E.map(function(H){H=H.split(/\s*\n/);1<H.length?Q=Q.concat(H.map(function(A,P){return(P&&A.length?"\n":"")+A})):Q.push(H[0])});E=Q;y=f(G,e)}var V=0;for(u=E.length;V<u;V++){var M=0;c=E[V];y&&"\n"==c[0]&&(c=c.substr(1),M=1);var O=n(c,e);w=p(O);if(q+x+w>h||M){if(w>h){q=a(c,O,h-(q+x),h);k.push(q.shift());for(k=[q.pop()];q.length;)d.push([q.shift()]);w=p(O.slice(c.length-k[0].length))}else k=[c];d.push(k);q=w+y}else k.push(c),q+=x+w;x=z}return d.map(y?
function(H,A){return(A?G:"")+H.join(" ")}:function(H){return H.join(" ")})};m.splitTextToSize=function(c,h,e){e||(e={});var k=e.fontSize||this.internal.getFontSize();var d=e;var q={0:1};var x={};d.widths&&d.kerning?q={widths:d.widths,kerning:d.kerning}:(d=this.internal.getFont(d.fontName,d.fontStyle),q=d.metadata.Unicode?{widths:d.metadata.Unicode.widths||q,kerning:d.metadata.Unicode.kerning||x}:{widths:q,kerning:x});c=Array.isArray(c)?c:c.split(/\r?\n/);h=1*this.internal.scaleFactor*h/k;q.textIndent=
e.textIndent?1*e.textIndent*this.internal.scaleFactor/k:0;q.lineIndent=e.lineIndent;x=[];e=0;for(k=c.length;e<k;e++)x=x.concat(l(c[e],h,q));return x}})(N.API);(function(m){var n=function(l){for(var c={},h=0;16>h;h++)c["klmnopqrstuvwxyz"[h]]="0123456789abcdef"[h];var e={},k=1,d=e,q=[],x="",w="",E=l.length-1;for(h=1;h!=E;){var z=l[h];h+=1;if("'"==z)if(y){var u=y.join("");var y=void 0}else y=[];else y?y.push(z):"{"==z?(q.push([d,u]),d={},u=void 0):"}"==z?(z=q.pop(),z[0][z[1]]=d,u=void 0,d=z[0]):"-"==
z?k=-1:void 0===u?c.hasOwnProperty(z)?(x+=c[z],u=parseInt(x,16)*k,k=1,x=""):x+=z:c.hasOwnProperty(z)?(w+=c[z],d[u]=parseInt(w,16)*k,k=1,u=void 0,w=""):w+=z}return e},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:n("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,
"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},a={Unicode:{"Courier-Oblique":n("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":n("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),
"Helvetica-Bold":n("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),
Courier:n("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":n("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":n("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),
Helvetica:n("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),
"Helvetica-BoldOblique":n("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),
"Courier-Bold":n("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":n("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),
"Times-Roman":n("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),
"Helvetica-Oblique":n("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};
m.events.push(["addFont",function(l){var c;if(c=a.Unicode[l.PostScriptName]){var h=l.metadata.Unicode?l.metadata.Unicode:l.metadata.Unicode={};h.widths=c.widths;h.kerning=c.kerning}if(c=f.Unicode[l.PostScriptName])h=l.metadata.Unicode?l.metadata.Unicode:l.metadata.Unicode={},h.encoding=c,c.codePages&&c.codePages.length&&(l.encoding=c.codePages[0])}])})(N.API);(function(m){m.addSVG=function(n,p,f,a,l){function c(d){for(var q=parseFloat(d[1]),x=parseFloat(d[2]),w=[],E=3,z=d.length;E<z;)"c"===d[E]?(w.push([parseFloat(d[E+
1]),parseFloat(d[E+2]),parseFloat(d[E+3]),parseFloat(d[E+4]),parseFloat(d[E+5]),parseFloat(d[E+6])]),E+=7):"l"===d[E]?(w.push([parseFloat(d[E+1]),parseFloat(d[E+2])]),E+=3):E+=1;return[q,x,w]}if(void 0===p||void 0===f)throw Error("addSVG needs values for 'x' and 'y'");var h=function(d){var q=d.createElement("iframe"),x=d.createElement("style");x.type="text/css";x.styleSheet?x.styleSheet.cssText=".jsPDF_sillysvg_iframe {display:none;position:absolute;}":x.appendChild(d.createTextNode(".jsPDF_sillysvg_iframe {display:none;position:absolute;}"));
d.getElementsByTagName("head")[0].appendChild(x);q.name="childframe";q.setAttribute("width",0);q.setAttribute("height",0);q.setAttribute("frameborder","0");q.setAttribute("scrolling","no");q.setAttribute("seamless","seamless");q.setAttribute("class","jsPDF_sillysvg_iframe");d.body.appendChild(q);return q}(document);h=function(d,q){q=(q.contentWindow||q.contentDocument).document;q.write(d);q.close();return q.getElementsByTagName("svg")[0]}(n,h);n=[1,1];var e=parseFloat(h.getAttribute("width")),k=parseFloat(h.getAttribute("height"));
e&&k&&(a&&l?n=[a/e,l/k]:a?n=[a/e,a/e]:l&&(n=[l/k,l/k]));h=h.childNodes;a=0;for(l=h.length;a<l;a++)e=h[a],e.tagName&&"PATH"===e.tagName.toUpperCase()&&(e=c(e.getAttribute("d").split(" ")),e[0]=e[0]*n[0]+p,e[1]=e[1]*n[1]+f,this.lines.call(this,e[2],e[0],e[1],n));return this}})(N.API);(function(m){m.putTotalPages=function(n){n=new RegExp(n,"g");for(var p=1;p<=this.internal.getNumberOfPages();p++)for(var f=0;f<this.internal.pages[p].length;f++)this.internal.pages[p][f]=this.internal.pages[p][f].replace(n,
this.internal.getNumberOfPages());return this}})(N.API);(function(m){var n="",p="",f="";m.addMetadata=function(a,l){p=l||"http://jspdf.default.namespaceuri/";n=a;this.internal.events.subscribe("postPutResources",function(){if(n){var c='\x3crdf:RDF xmlns:rdf\x3d"http://www.w3.org/1999/02/22-rdf-syntax-ns#"\x3e\x3crdf:Description rdf:about\x3d"" xmlns:jspdf\x3d"'+p+'"\x3e\x3cjspdf:metadata\x3e',h=unescape(encodeURIComponent('\x3cx:xmpmeta xmlns:x\x3d"adobe:ns:meta/"\x3e'));c=unescape(encodeURIComponent(c));
var e=unescape(encodeURIComponent(n)),k=unescape(encodeURIComponent("\x3c/jspdf:metadata\x3e\x3c/rdf:Description\x3e\x3c/rdf:RDF\x3e")),d=unescape(encodeURIComponent("\x3c/x:xmpmeta\x3e")),q=c.length+e.length+k.length+h.length+d.length;f=this.internal.newObject();this.internal.write("\x3c\x3c /Type /Metadata /Subtype /XML /Length "+q+" \x3e\x3e");this.internal.write("stream");this.internal.write(h+c+e+k+d);this.internal.write("endstream");this.internal.write("endobj")}else f=""});this.internal.events.subscribe("putCatalog",
function(){f&&this.internal.write("/Metadata "+f+" 0 R")});return this}})(N.API);N.adler32cs=function(){var m="function"===typeof ArrayBuffer&&"function"===typeof Uint8Array,n=null,p=function(){if(!m)return function(){return!1};try{var e={};"function"===typeof e.Buffer&&(n=e.Buffer)}catch(k){}return function(k){return k instanceof ArrayBuffer||null!==n&&k instanceof n}}(),f=function(){return null!==n?function(e){return(new n(e,"utf8")).toString("binary")}:function(e){return unescape(encodeURIComponent(e))}}(),
a=function(e,k){var d=e&65535;e>>>=16;for(var q=0,x=k.length;q<x;q++)d=(d+(k.charCodeAt(q)&255))%65521,e=(e+d)%65521;return(e<<16|d)>>>0},l=function(e,k){var d=e&65535;e>>>=16;for(var q=0,x=k.length;q<x;q++)d=(d+k[q])%65521,e=(e+d)%65521;return(e<<16|d)>>>0},c={},h=c.Adler32=function(){var e=function(d){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(d=null==d?1:+d))throw Error("First arguments needs to be a finite number.");this.checksum=d>>>
0},k=e.prototype={};k.constructor=e;e.from=function(d){d.prototype=k;return d}(function(d){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(null==d)throw Error("First argument needs to be a string.");this.checksum=a(1,d.toString())});e.fromUtf8=function(d){d.prototype=k;return d}(function(d){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(null==d)throw Error("First argument needs to be a string.");d=f(d.toString());
this.checksum=a(1,d)});m&&(e.fromBuffer=function(d){d.prototype=k;return d}(function(d){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(!p(d))throw Error("First argument needs to be ArrayBuffer.");d=new Uint8Array(d);return this.checksum=l(1,d)}));k.update=function(d){if(null==d)throw Error("First argument needs to be a string.");d=d.toString();return this.checksum=a(this.checksum,d)};k.updateUtf8=function(d){if(null==d)throw Error("First argument needs to be a string.");
d=f(d.toString());return this.checksum=a(this.checksum,d)};m&&(k.updateBuffer=function(d){if(!p(d))throw Error("First argument needs to be ArrayBuffer.");d=new Uint8Array(d);return this.checksum=l(this.checksum,d)});k.clone=function(){return new h(this.checksum)};return e}();c.from=function(e){if(null==e)throw Error("First argument needs to be a string.");return a(1,e.toString())};c.fromUtf8=function(e){if(null==e)throw Error("First argument needs to be a string.");e=f(e.toString());return a(1,e)};
m&&(c.fromBuffer=function(e){if(!p(e))throw Error("First argument need to be ArrayBuffer.");e=new Uint8Array(e);return l(1,e)});return c};var ja={_colorsTable:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",
cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",
floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",
lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",
mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",
seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},colorNameToHex:function(m){m=m.toLowerCase();return"undefined"!=typeof this._colorsTable[m]?this._colorsTable[m]:!1}},ca=
function(m){function n(){var d=this;d.build_tree=function(q){var x=d.dyn_tree,w=d.stat_desc.static_tree,E=d.stat_desc.elems,z,u=-1;q.heap_len=0;q.heap_max=573;for(z=0;z<E;z++)0!==x[2*z]?(q.heap[++q.heap_len]=u=z,q.depth[z]=0):x[2*z+1]=0;for(;2>q.heap_len;){var y=q.heap[++q.heap_len]=2>u?++u:0;x[2*y]=1;q.depth[y]=0;q.opt_len--;w&&(q.static_len-=w[2*y+1])}d.max_code=u;for(z=Math.floor(q.heap_len/2);1<=z;z--)q.pqdownheap(x,z);y=E;do z=q.heap[1],q.heap[1]=q.heap[q.heap_len--],q.pqdownheap(x,1),w=q.heap[1],
q.heap[--q.heap_max]=z,q.heap[--q.heap_max]=w,x[2*y]=x[2*z]+x[2*w],q.depth[y]=Math.max(q.depth[z],q.depth[w])+1,x[2*z+1]=x[2*w+1]=y,q.heap[1]=y++,q.pqdownheap(x,1);while(2<=q.heap_len);q.heap[--q.heap_max]=q.heap[1];z=d.dyn_tree;u=d.stat_desc.static_tree;var G=d.stat_desc.extra_bits,Q=d.stat_desc.extra_base,V=d.stat_desc.max_length,M=0;for(E=0;15>=E;E++)q.bl_count[E]=0;z[2*q.heap[q.heap_max]+1]=0;for(y=q.heap_max+1;573>y;y++)if(w=q.heap[y],E=z[2*z[2*w+1]+1]+1,E>V&&(E=V,M++),z[2*w+1]=E,!(w>d.max_code)){q.bl_count[E]++;
var O=0;w>=Q&&(O=G[w-Q]);var H=z[2*w];q.opt_len+=H*(E+O);u&&(q.static_len+=H*(u[2*w+1]+O))}if(0!==M){do{for(E=V-1;0===q.bl_count[E];)E--;q.bl_count[E]--;q.bl_count[E+1]+=2;q.bl_count[V]--;M-=2}while(0<M);for(E=V;0!==E;E--)for(w=q.bl_count[E];0!==w;)u=q.heap[--y],u>d.max_code||(z[2*u+1]!=E&&(q.opt_len+=(E-z[2*u+1])*z[2*u],z[2*u+1]=E),w--)}z=d.max_code;y=q.bl_count;q=[];w=0;for(E=1;15>=E;E++)q[E]=w=w+y[E-1]<<1;for(y=0;y<=z;y++)if(u=x[2*y+1],0!==u){w=2*y;E=q[u]++;G=0;do G|=E&1,E>>>=1,G<<=1;while(0<--u);
x[w]=G>>>1}}}function p(d,q,x,w,E){this.static_tree=d;this.extra_bits=q;this.extra_base=x;this.elems=w;this.max_length=E}function f(d,q,x,w,E){this.good_length=d;this.max_lazy=q;this.nice_length=x;this.max_chain=w;this.func=E}function a(d,q,x,w){var E=d[2*q];d=d[2*x];return E<d||E==d&&w[q]<=w[x]}function l(){function d(){var fa;for(fa=0;286>fa;fa++)Ra[2*fa]=0;for(fa=0;30>fa;fa++)Wa[2*fa]=0;for(fa=0;19>fa;fa++)Oa[2*fa]=0;Ra[512]=1;pa=Ga=X.opt_len=X.static_len=0}function q(fa,ra){var ua,Ca=-1,Da=fa[1],
Ha=0,Pa=7,Va=4;0===Da&&(Pa=138,Va=3);fa[2*(ra+1)+1]=65535;for(ua=0;ua<=ra;ua++){var Qa=Da;Da=fa[2*(ua+1)+1];++Ha<Pa&&Qa==Da||(Ha<Va?Oa[2*Qa]+=Ha:0!==Qa?(Qa!=Ca&&Oa[2*Qa]++,Oa[32]++):10>=Ha?Oa[34]++:Oa[36]++,Ha=0,Ca=Qa,0===Da?(Pa=138,Va=3):Qa==Da?(Pa=6,Va=3):(Pa=7,Va=4))}}function x(fa){X.pending_buf[X.pending++]=fa}function w(fa){x(fa&255);x(fa>>>8&255)}function E(fa,ra){Ja>16-ra?(Ka|=fa<<Ja&65535,w(Ka),Ka=fa>>>16-Ja,Ja+=ra-16):(Ka|=fa<<Ja&65535,Ja+=ra)}function z(fa,ra){fa*=2;E(ra[fa]&65535,ra[fa+
1]&65535)}function u(fa,ra){var ua,Ca=-1,Da=fa[1],Ha=0,Pa=7,Va=4;0===Da&&(Pa=138,Va=3);for(ua=0;ua<=ra;ua++){var Qa=Da;Da=fa[2*(ua+1)+1];if(!(++Ha<Pa&&Qa==Da)){if(Ha<Va){do z(Qa,Oa);while(0!==--Ha)}else 0!==Qa?(Qa!=Ca&&(z(Qa,Oa),Ha--),z(16,Oa),E(Ha-3,2)):10>=Ha?(z(17,Oa),E(Ha-3,3)):(z(18,Oa),E(Ha-11,7));Ha=0;Ca=Qa;0===Da?(Pa=138,Va=3):Qa==Da?(Pa=6,Va=3):(Pa=7,Va=4)}}}function y(){16==Ja?(w(Ka),Ja=Ka=0):8<=Ja&&(x(Ka&255),Ka>>>=8,Ja-=8)}function G(fa,ra){var ua;X.pending_buf[Aa+2*pa]=fa>>>8&255;X.pending_buf[Aa+
2*pa+1]=fa&255;X.pending_buf[ka+pa]=ra&255;pa++;0===fa?Ra[2*ra]++:(Ga++,fa--,Ra[2*(n._length_code[ra]+256+1)]++,Wa[2*n.d_code(fa)]++);if(0===(pa&8191)&&2<Ia){fa=8*pa;ra=Y-I;for(ua=0;30>ua;ua++)fa+=Wa[2*ua]*(5+n.extra_dbits[ua]);if(Ga<Math.floor(pa/2)&&fa>>>3<Math.floor(ra/2))return!0}return pa==ta-1}function Q(fa,ra){var ua=0;if(0!==pa){do{var Ca=X.pending_buf[Aa+2*ua]<<8&65280|X.pending_buf[Aa+2*ua+1]&255;var Da=X.pending_buf[ka+ua]&255;ua++;if(0===Ca)z(Da,fa);else{var Ha=n._length_code[Da];z(Ha+
256+1,fa);var Pa=n.extra_lbits[Ha];0!==Pa&&(Da-=n.base_length[Ha],E(Da,Pa));Ca--;Ha=n.d_code(Ca);z(Ha,ra);Pa=n.extra_dbits[Ha];0!==Pa&&(Ca-=n.base_dist[Ha],E(Ca,Pa))}}while(ua<pa)}z(256,fa);Fa=fa[513]}function V(){8<Ja?w(Ka):0<Ja&&x(Ka&255);Ja=Ka=0}function M(fa,ra,ua){V();Fa=8;ua&&(w(ra),w(~ra));X.pending_buf.set(v.subarray(fa,fa+ra),X.pending);X.pending+=ra}function O(fa){var ra=0<=I?I:-1,ua=Y-I,Ca=0;if(0<Ia){Na.build_tree(X);K.build_tree(X);q(Ra,Na.max_code);q(Wa,K.max_code);U.build_tree(X);for(Ca=
18;3<=Ca&&0===Oa[2*n.bl_order[Ca]+1];Ca--);X.opt_len+=3*(Ca+1)+14;var Da=X.opt_len+3+7>>>3;var Ha=X.static_len+3+7>>>3;Ha<=Da&&(Da=Ha)}else Da=Ha=ua+5;if(ua+4<=Da&&-1!=ra)E(fa?1:0,3),M(ra,ua,!0);else if(Ha==Da)E(2+(fa?1:0),3),Q(p.static_ltree,p.static_dtree);else{E(4+(fa?1:0),3);ra=Na.max_code+1;ua=K.max_code+1;Ca+=1;E(ra-257,5);E(ua-1,5);E(Ca-4,4);for(Da=0;Da<Ca;Da++)E(Oa[2*n.bl_order[Da]+1],3);u(Ra,ra-1);u(Wa,ua-1);Q(Ra,Wa)}d();fa&&V();I=Y;ba.flush_pending()}function H(){var fa;do{var ra=F-ma-Y;
if(0===ra&&0===Y&&0===ma)ra=qa;else if(-1==ra)ra--;else if(Y>=qa+qa-262){v.set(v.subarray(qa,qa+qa),0);va-=qa;Y-=qa;I-=qa;var ua=fa=oa;do{var Ca=J[--ua]&65535;J[ua]=Ca>=qa?Ca-qa:0}while(0!==--fa);ua=fa=qa;do Ca=C[--ua]&65535,C[ua]=Ca>=qa?Ca-qa:0;while(0!==--fa);ra+=qa}if(0===ba.avail_in)break;fa=ba.read_buf(v,Y+ma,ra);ma+=fa;3<=ma&&(R=v[Y]&255,R=(R<<B^v[Y+1]&255)&wa)}while(262>ma&&0!==ba.avail_in)}function A(fa){var ra=65535;for(ra>da-5&&(ra=da-5);;){if(1>=ma){H();if(0===ma&&0==fa)return 0;if(0===
ma)break}Y+=ma;ma=0;var ua=I+ra;if(0===Y||Y>=ua)if(ma=Y-ua,Y=ua,O(!1),0===ba.avail_out)return 0;if(Y-I>=qa-262&&(O(!1),0===ba.avail_out))return 0}O(4==fa);return 0===ba.avail_out?4==fa?2:0:4==fa?3:1}function P(fa){var ra=La,ua=Y,Ca=Ea,Da=Y>qa-262?Y-(qa-262):0,Ha=Ua,Pa=t,Va=Y+258,Qa=v[ua+Ca-1],Xa=v[ua+Ca];Ea>=za&&(ra>>=2);Ha>ma&&(Ha=ma);do{var Sa=fa;if(v[Sa+Ca]==Xa&&v[Sa+Ca-1]==Qa&&v[Sa]==v[ua]&&v[++Sa]==v[ua+1]){ua+=2;for(Sa++;v[++ua]==v[++Sa]&&v[++ua]==v[++Sa]&&v[++ua]==v[++Sa]&&v[++ua]==v[++Sa]&&
v[++ua]==v[++Sa]&&v[++ua]==v[++Sa]&&v[++ua]==v[++Sa]&&v[++ua]==v[++Sa]&&ua<Va;);Sa=258-(Va-ua);ua=Va-258;if(Sa>Ca){va=fa;Ca=Sa;if(Sa>=Ha)break;Qa=v[ua+Ca-1];Xa=v[ua+Ca]}}}while((fa=C[fa&Pa]&65535)>Da&&0!==--ra);return Ca<=ma?Ca:ma}function W(fa){for(var ra=0,ua,Ca;;){if(262>ma){H();if(262>ma&&0==fa)return 0;if(0===ma)break}3<=ma&&(R=(R<<B^v[Y+2]&255)&wa,ra=J[R]&65535,C[Y&t]=J[R],J[R]=Y);Ea=L;Z=va;L=2;0!==ra&&Ea<Ta&&(Y-ra&65535)<=qa-262&&(2!=Ma&&(L=P(ra)),5>=L&&(1==Ma||3==L&&4096<Y-va)&&(L=2));if(3<=
Ea&&L<=Ea){Ca=Y+ma-3;ua=G(Y-1-Z,Ea-3);ma-=Ea-1;Ea-=2;do++Y<=Ca&&(R=(R<<B^v[Y+2]&255)&wa,ra=J[R]&65535,C[Y&t]=J[R],J[R]=Y);while(0!==--Ea);ea=0;L=2;Y++;if(ua&&(O(!1),0===ba.avail_out))return 0}else if(0!==ea){if((ua=G(0,v[Y-1]&255))&&O(!1),Y++,ma--,0===ba.avail_out)return 0}else ea=1,Y++,ma--}0!==ea&&(ua=G(0,v[Y-1]&255),ea=0);O(4==fa);return 0===ba.avail_out?4==fa?2:0:4==fa?3:1}var X=this,ba,na,da,Ba,qa,ya,t,v,F,C,J,R,oa,aa,wa,B,I,L,Z,ea,Y,va,ma,Ea,La,Ta,Ia,Ma,za,Ua,Na=new n,K=new n,U=new n;X.depth=
[];var ka,ta,pa,Aa,Ga,Fa,Ka,Ja;X.bl_count=[];X.heap=[];var Ra=[];var Wa=[];var Oa=[];X.pqdownheap=function(fa,ra){for(var ua=X.heap,Ca=ua[ra],Da=ra<<1;Da<=X.heap_len;){Da<X.heap_len&&a(fa,ua[Da+1],ua[Da],X.depth)&&Da++;if(a(fa,Ca,ua[Da],X.depth))break;ua[ra]=ua[Da];ra=Da;Da<<=1}ua[ra]=Ca};X.deflateInit=function(fa,ra,ua,Ca,Da,Ha){Ca||(Ca=8);Da||(Da=8);Ha||(Ha=0);fa.msg=null;-1==ra&&(ra=6);if(1>Da||9<Da||8!=Ca||9>ua||15<ua||0>ra||9<ra||0>Ha||2<Ha)return-2;fa.dstate=X;ya=ua;qa=1<<ya;t=qa-1;aa=Da+7;
oa=1<<aa;wa=oa-1;B=Math.floor((aa+3-1)/3);v=new Uint8Array(2*qa);C=[];J=[];ta=1<<Da+6;X.pending_buf=new Uint8Array(4*ta);da=4*ta;Aa=Math.floor(ta/2);ka=3*ta;Ia=ra;Ma=Ha;fa.total_in=fa.total_out=0;fa.msg=null;X.pending=0;X.pending_out=0;na=113;Ba=0;Na.dyn_tree=Ra;Na.stat_desc=p.static_l_desc;K.dyn_tree=Wa;K.stat_desc=p.static_d_desc;U.dyn_tree=Oa;U.stat_desc=p.static_bl_desc;Ja=Ka=0;Fa=8;d();F=2*qa;for(fa=J[oa-1]=0;fa<oa-1;fa++)J[fa]=0;Ta=e[Ia].max_lazy;za=e[Ia].good_length;Ua=e[Ia].nice_length;La=
e[Ia].max_chain;ma=I=Y=0;L=Ea=2;return R=ea=0};X.deflateEnd=function(){if(42!=na&&113!=na&&666!=na)return-2;v=C=J=X.pending_buf=null;X.dstate=null;return 113==na?-3:0};X.deflateParams=function(fa,ra,ua){var Ca=0;-1==ra&&(ra=6);if(0>ra||9<ra||0>ua||2<ua)return-2;e[Ia].func!=e[ra].func&&0!==fa.total_in&&(Ca=fa.deflate(1));Ia!=ra&&(Ia=ra,Ta=e[Ia].max_lazy,za=e[Ia].good_length,Ua=e[Ia].nice_length,La=e[Ia].max_chain);Ma=ua;return Ca};X.deflateSetDictionary=function(fa,ra,ua){fa=ua;var Ca=0;if(!ra||42!=
na)return-2;if(3>fa)return 0;fa>qa-262&&(fa=qa-262,Ca=ua-fa);v.set(ra.subarray(Ca,Ca+fa),0);I=Y=fa;R=v[0]&255;R=(R<<B^v[1]&255)&wa;for(ra=0;ra<=fa-3;ra++)R=(R<<B^v[ra+2]&255)&wa,C[ra&t]=J[R],J[R]=ra;return 0};X.deflate=function(fa,ra){if(4<ra||0>ra)return-2;if(!fa.next_out||!fa.next_in&&0!==fa.avail_in||666==na&&4!=ra)return fa.msg=k[4],-2;if(0===fa.avail_out)return fa.msg=k[7],-5;ba=fa;var ua=Ba;Ba=ra;if(42==na){var Ca=8+(ya-8<<4)<<8;var Da=(Ia-1&255)>>1;3<Da&&(Da=3);Ca|=Da<<6;0!==Y&&(Ca|=32);na=
113;Ca+=31-Ca%31;x(Ca>>8&255);x(Ca&255)}if(0!==X.pending){if(ba.flush_pending(),0===ba.avail_out)return Ba=-1,0}else if(0===ba.avail_in&&ra<=ua&&4!=ra)return ba.msg=k[7],-5;if(666==na&&0!==ba.avail_in)return fa.msg=k[7],-5;if(0!==ba.avail_in||0!==ma||0!=ra&&666!=na){fa=-1;switch(e[Ia].func){case 0:fa=A(ra);break;case 1:a:{for(fa=0;;){if(262>ma){H();if(262>ma&&0==ra){fa=0;break a}if(0===ma)break}3<=ma&&(R=(R<<B^v[Y+2]&255)&wa,fa=J[R]&65535,C[Y&t]=J[R],J[R]=Y);0!==fa&&(Y-fa&65535)<=qa-262&&2!=Ma&&(L=
P(fa));if(3<=L)if(ua=G(Y-va,L-3),ma-=L,L<=Ta&&3<=ma){L--;do Y++,R=(R<<B^v[Y+2]&255)&wa,fa=J[R]&65535,C[Y&t]=J[R],J[R]=Y;while(0!==--L);Y++}else Y+=L,L=0,R=v[Y]&255,R=(R<<B^v[Y+1]&255)&wa;else ua=G(0,v[Y]&255),ma--,Y++;if(ua&&(O(!1),0===ba.avail_out)){fa=0;break a}}O(4==ra);fa=0===ba.avail_out?4==ra?2:0:4==ra?3:1}break;case 2:fa=W(ra)}if(2==fa||3==fa)na=666;if(0==fa||2==fa)return 0===ba.avail_out&&(Ba=-1),0;if(1==fa){if(1==ra)E(2,3),z(256,p.static_ltree),y(),9>1+Fa+10-Ja&&(E(2,3),z(256,p.static_ltree),
y()),Fa=7;else if(E(0,3),M(0,0,!0),3==ra)for(fa=0;fa<oa;fa++)J[fa]=0;ba.flush_pending();if(0===ba.avail_out)return Ba=-1,0}}return 4!=ra?0:1}}function c(){this.total_out=this.avail_out=this.total_in=this.avail_in=this.next_out_index=this.next_in_index=0}var h=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,
12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,
17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,
28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];n._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,
21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,
27,27,27,27,27,27,27,27,28];n.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0];n.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576];n.d_code=function(d){return 256>d?h[d]:h[256+(d>>>7)]};n.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];n.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];n.extra_blbits=[0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,2,3,7];n.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];p.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,
158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,
9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,
9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8];p.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5];p.static_l_desc=new p(p.static_ltree,n.extra_lbits,257,286,15);p.static_d_desc=new p(p.static_dtree,n.extra_dbits,0,30,15);p.static_bl_desc=
new p(null,n.extra_blbits,0,19,7);var e=[new f(0,0,0,0,0),new f(4,4,8,4,1),new f(4,5,16,8,1),new f(4,6,32,32,1),new f(4,4,16,16,2),new f(8,16,32,32,2),new f(8,16,128,128,2),new f(8,32,128,256,2),new f(32,128,258,1024,2),new f(32,258,258,4096,2)],k="need dictionary;stream end;;;stream error;data error;;buffer error;;".split(";");c.prototype={deflateInit:function(d,q){this.dstate=new l;q||(q=15);return this.dstate.deflateInit(this,d,q)},deflate:function(d){return this.dstate?this.dstate.deflate(this,
d):-2},deflateEnd:function(){if(!this.dstate)return-2;var d=this.dstate.deflateEnd();this.dstate=null;return d},deflateParams:function(d,q){return this.dstate?this.dstate.deflateParams(this,d,q):-2},deflateSetDictionary:function(d,q){return this.dstate?this.dstate.deflateSetDictionary(this,d,q):-2},read_buf:function(d,q,x){var w=this.avail_in;w>x&&(w=x);if(0===w)return 0;this.avail_in-=w;d.set(this.next_in.subarray(this.next_in_index,this.next_in_index+w),q);this.next_in_index+=w;this.total_in+=w;
return w},flush_pending:function(){var d=this.dstate.pending;d>this.avail_out&&(d=this.avail_out);0!==d&&(this.next_out.set(this.dstate.pending_buf.subarray(this.dstate.pending_out,this.dstate.pending_out+d),this.next_out_index),this.next_out_index+=d,this.dstate.pending_out+=d,this.total_out+=d,this.avail_out-=d,this.dstate.pending-=d,0===this.dstate.pending&&(this.dstate.pending_out=0))}};return function(d){var q=new c,x=new Uint8Array(512);"undefined"==typeof d&&(d=-1);q.deflateInit(d);q.next_out=
x;this.append=function(w,E){var z=[],u=0,y=0,G=0;if(w.length){q.next_in_index=0;q.next_in=w;q.avail_in=w.length;do{q.next_out_index=0;q.avail_out=512;w=q.deflate(0);if(0!=w)throw"deflating: "+q.msg;q.next_out_index&&(512==q.next_out_index?z.push(new Uint8Array(x)):z.push(new Uint8Array(x.subarray(0,q.next_out_index))));G+=q.next_out_index;E&&0<q.next_in_index&&q.next_in_index!=u&&(E(q.next_in_index),u=q.next_in_index)}while(0<q.avail_in||0===q.avail_out);var Q=new Uint8Array(G);z.forEach(function(V){Q.set(V,
y);y+=V.length});return Q}};this.flush=function(){var w=[],E=0,z=0;do{q.next_out_index=0;q.avail_out=512;var u=q.deflate(4);if(1!=u&&0!=u)throw"deflating: "+q.msg;0<512-q.avail_out&&w.push(new Uint8Array(x.subarray(0,q.next_out_index)));z+=q.next_out_index}while(0<q.avail_in||0===q.avail_out);q.deflateEnd();var y=new Uint8Array(z);w.forEach(function(G){y.set(G,E);E+=G.length});return y}}}(void 0);N.API.html2canvas=function(){return function a(n,p,f){function l(e,k){if(!p[e]){if(!n[e]){var d="function"==
typeof require&&require;if(!k&&d)return d(e,!0);if(c)return c(e,!0);k=Error("Cannot find module '"+e+"'");throw k.code="MODULE_NOT_FOUND",k;}k=p[e]={exports:{}};n[e][0].call(k.exports,function(q){var x=n[e][1][q];return l(x?x:q)},k,k.exports,a,n,p,f)}return p[e].exports}for(var c="function"==typeof require&&require,h=0;h<f.length;h++)l(f[h]);return l}({1:[function(n,p,f){(function(a){(function(l){function c(A){throw RangeError(V[A]);}function h(A,P){for(var W=A.length;W--;)A[W]=P(A[W]);return A}function e(A,
P){return h(A.split(Q),P).join(".")}function k(A){for(var P=[],W=0,X=A.length,ba,na;W<X;)ba=A.charCodeAt(W++),55296<=ba&&56319>=ba&&W<X?(na=A.charCodeAt(W++),56320==(na&64512)?P.push(((ba&1023)<<10)+(na&1023)+65536):(P.push(ba),W--)):P.push(ba);return P}function d(A){return h(A,function(P){var W="";65535<P&&(P-=65536,W+=O(P>>>10&1023|55296),P=56320|P&1023);return W+=O(P)}).join("")}function q(A,P,W){var X=0;A=W?M(A/700):A>>1;for(A+=M(A/P);455<A;X+=36)A=M(A/35);return M(X+36*A/(A+38))}function x(A){var P=
[],W=A.length,X=0,ba=128,na=72,da,Ba;var qa=A.lastIndexOf("-");0>qa&&(qa=0);for(da=0;da<qa;++da)128<=A.charCodeAt(da)&&c("not-basic"),P.push(A.charCodeAt(da));for(qa=0<qa?qa+1:0;qa<W;){da=X;var ya=1;for(Ba=36;;Ba+=36){qa>=W&&c("invalid-input");var t=A.charCodeAt(qa++);t=10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:36;(36<=t||t>M((2147483647-X)/ya))&&c("overflow");X+=t*ya;var v=Ba<=na?1:Ba>=na+26?26:Ba-na;if(t<v)break;t=36-v;ya>M(2147483647/t)&&c("overflow");ya*=t}ya=P.length+1;na=q(X-da,ya,0==da);M(X/ya)>
2147483647-ba&&c("overflow");ba+=M(X/ya);X%=ya;P.splice(X++,0,ba)}return d(P)}function w(A){var P,W,X,ba=[];A=k(A);var na=A.length;var da=128;var Ba=0;var qa=72;for(X=0;X<na;++X){var ya=A[X];128>ya&&ba.push(O(ya))}for((P=W=ba.length)&&ba.push("-");P<na;){var t=2147483647;for(X=0;X<na;++X)ya=A[X],ya>=da&&ya<t&&(t=ya);var v=P+1;t-da>M((2147483647-Ba)/v)&&c("overflow");Ba+=(t-da)*v;da=t;for(X=0;X<na;++X)if(ya=A[X],ya<da&&2147483647<++Ba&&c("overflow"),ya==da){var F=Ba;for(t=36;;t+=36){ya=t<=qa?1:t>=
qa+26?26:t-qa;if(F<ya)break;var C=F-ya;F=36-ya;var J=ba;ya+=C%F;J.push.call(J,O(ya+22+75*(26>ya)-0));F=M(C/F)}ba.push(O(F+22+75*(26>F)-0));qa=q(Ba,v,P==W);Ba=0;++P}++Ba;++da}return ba.join("")}var E="object"==typeof f&&f,z="object"==typeof p&&p&&p.exports==E&&p,u="object"==typeof a&&a;if(u.global===u||u.window===u)l=u;var y=/^xn--/,G=/[^ -~]/,Q=/\x2E|\u3002|\uFF0E|\uFF61/g,V={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input \x3e\x3d 0x80 (not a basic code point)",
"invalid-input":"Invalid input"},M=Math.floor,O=String.fromCharCode,H;u={version:"1.2.4",ucs2:{decode:k,encode:d},decode:x,encode:w,toASCII:function(A){return e(A,function(P){return G.test(P)?"xn--"+w(P):P})},toUnicode:function(A){return e(A,function(P){return y.test(P)?x(P.slice(4).toLowerCase()):P})}};if(E&&!E.nodeType)if(z)z.exports=u;else for(H in u)u.hasOwnProperty(H)&&(E[H]=u[H]);else l.punycode=u})(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==
typeof window?window:{})},{}],2:[function(n,p,f){function a(h,e){for(var k=3===h.nodeType?document.createTextNode(h.nodeValue):h.cloneNode(!1),d=h.firstChild;d;)!0!==e&&1===d.nodeType&&"SCRIPT"===d.nodeName||k.appendChild(a(d,e)),d=d.nextSibling;if(1===h.nodeType)if(k._scrollTop=h.scrollTop,k._scrollLeft=h.scrollLeft,"CANVAS"===h.nodeName)try{k&&(k.width=h.width,k.height=h.height,k.getContext("2d").putImageData(h.getContext("2d").getImageData(0,0,h.width,h.height),0,0))}catch(q){c("Unable to copy canvas content from",
h,q)}else if("TEXTAREA"===h.nodeName||"SELECT"===h.nodeName)k.value=h.value;return k}function l(h){if(1===h.nodeType)for(h.scrollTop=h._scrollTop,h.scrollLeft=h._scrollLeft,h=h.firstChild;h;)l(h),h=h.nextSibling}var c=n("./log");p.exports=function(h,e,k,d,q,x,w){var E=a(h.documentElement,q.javascriptEnabled),z=e.createElement("iframe");z.className="html2canvas-container";z.style.visibility="hidden";z.style.position="fixed";z.style.left="-10000px";z.style.top="0px";z.style.border="0";z.width=k;z.height=
d;z.scrolling="no";e.body.appendChild(z);return new Promise(function(u){var y=z.contentWindow.document;z.contentWindow.onload=z.onload=function(){var G=setInterval(function(){0<y.body.childNodes.length&&(l(y.documentElement),clearInterval(G),"view"===q.type&&(z.contentWindow.scrollTo(x,w),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||z.contentWindow.scrollY===w&&z.contentWindow.scrollX===x||(y.documentElement.style.top=-w+"px",y.documentElement.style.left=-x+"px",y.documentElement.style.position=
"absolute")),u(z))},50)};y.open();y.write("\x3c!DOCTYPE html\x3e\x3chtml\x3e\x3c/html\x3e");!h.defaultView||x===h.defaultView.pageXOffset&&w===h.defaultView.pageYOffset||h.defaultView.scrollTo(x,w);y.replaceChild(y.adoptNode(E),y.documentElement);y.close()})}},{"./log":13}],3:[function(n,p,f){function a(d){this.b=this.g=this.r=0;this.a=null;this.fromArray(d)||this.namedColor(d)||this.rgb(d)||this.rgba(d)||this.hex6(d)||this.hex3(d)}a.prototype.darken=function(d){d=1-d;return new a([Math.round(this.r*
d),Math.round(this.g*d),Math.round(this.b*d),this.a])};a.prototype.isTransparent=function(){return 0===this.a};a.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b};a.prototype.fromArray=function(d){Array.isArray(d)&&(this.r=Math.min(d[0],255),this.g=Math.min(d[1],255),this.b=Math.min(d[2],255),3<d.length&&(this.a=d[3]));return Array.isArray(d)};var l=/^#([a-f0-9]{3})$/i;a.prototype.hex3=function(d){var q=null;null!==(q=d.match(l))&&(this.r=parseInt(q[1][0]+q[1][0],16),this.g=
parseInt(q[1][1]+q[1][1],16),this.b=parseInt(q[1][2]+q[1][2],16));return null!==q};var c=/^#([a-f0-9]{6})$/i;a.prototype.hex6=function(d){var q=null;null!==(q=d.match(c))&&(this.r=parseInt(q[1].substring(0,2),16),this.g=parseInt(q[1].substring(2,4),16),this.b=parseInt(q[1].substring(4,6),16));return null!==q};var h=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;a.prototype.rgb=function(d){var q=null;null!==(q=d.match(h))&&(this.r=Number(q[1]),this.g=Number(q[2]),this.b=Number(q[3]));return null!==
q};var e=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;a.prototype.rgba=function(d){var q=null;null!==(q=d.match(e))&&(this.r=Number(q[1]),this.g=Number(q[2]),this.b=Number(q[3]),this.a=Number(q[4]));return null!==q};a.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join()+")":"rgb("+[this.r,this.g,this.b].join()+")"};a.prototype.namedColor=function(d){d=d.toLowerCase();var q=k[d];if(q)this.r=q[0],this.g=q[1],this.b=
q[2];else if("transparent"===d)return this.r=this.g=this.b=this.a=0,!0;return!!q};a.prototype.isColor=!0;var k={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,
237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,
0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,
140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],
lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],
olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,
164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};p.exports=a},{}],4:[function(n,
p,f){function a(M,O){var H=V++;O=O||{};O.logging&&(z.options.logging=!0,z.options.start=Date.now());O.async="undefined"===typeof O.async?!0:O.async;O.allowTaint="undefined"===typeof O.allowTaint?!1:O.allowTaint;O.removeContainer="undefined"===typeof O.removeContainer?!0:O.removeContainer;O.javascriptEnabled="undefined"===typeof O.javascriptEnabled?!1:O.javascriptEnabled;O.imageTimeout="undefined"===typeof O.imageTimeout?1E4:O.imageTimeout;O.renderer="function"===typeof O.renderer?O.renderer:x;O.strict=
!!O.strict;if("string"===typeof M){if("string"!==typeof O.proxy)return Promise.reject("Proxy must be used when rendering url");var A=null!=O.width?O.width:window.innerWidth,P=null!=O.height?O.height:window.innerHeight;return G(d(M),O.proxy,document,A,P,O).then(function(W){return c(W.contentWindow.document.documentElement,W,O,A,P)})}M=(void 0===M?[document.documentElement]:M.length?M:[M])[0];M.setAttribute("data-html2canvas-node"+H,H);return l(M.ownerDocument,O,M.ownerDocument.defaultView.innerWidth,
M.ownerDocument.defaultView.innerHeight,H).then(function(W){"function"===typeof O.onrendered&&(z("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),O.onrendered(W));return W})}function l(M,O,H,A,P){return y(M,M,H,A,O,M.defaultView.pageXOffset,M.defaultView.pageYOffset).then(function(W){z("Document cloned");var X="data-html2canvas-node"+P,ba="["+X+"\x3d'"+P+"']";M.querySelector(ba).removeAttribute(X);X=W.contentWindow;var na=X.document.querySelector(ba);return("function"===
typeof O.onclone?Promise.resolve(O.onclone(X.document)):Promise.resolve(!0)).then(function(){return c(na,W,O,H,A)})})}function c(M,O,H,A,P){var W=O.contentWindow,X=new q(W.document),ba=new w(H,X),na=Q(M);A="view"===H.type?A:e(W.document);P="view"===H.type?P:k(W.document);var da=new H.renderer(A,P,ba,H,document);return(new E(M,da,X,ba,H)).ready.then(function(){z("Finished rendering");var Ba="view"===H.type?h(da.canvas,{width:da.canvas.width,height:da.canvas.height,top:0,left:0,x:0,y:0}):M===W.document.body||
M===W.document.documentElement||null!=H.canvas?da.canvas:h(da.canvas,{width:null!=H.width?H.width:na.width,height:null!=H.height?H.height:na.height,top:na.top,left:na.left,x:0,y:0});H.removeContainer&&(O.parentNode.removeChild(O),z("Cleaned up container"));return Ba})}function h(M,O){var H=document.createElement("canvas"),A=Math.min(M.width-1,Math.max(0,O.left)),P=Math.min(M.width,Math.max(1,O.left+O.width)),W=Math.min(M.height-1,Math.max(0,O.top)),X=Math.min(M.height,Math.max(1,O.top+O.height));
H.width=O.width;H.height=O.height;P-=A;X-=W;z("Cropping canvas at:","left:",O.left,"top:",O.top,"width:",P,"height:",X);z("Resulting crop with width",O.width,"and height",O.height,"with x",A,"and y",W);H.getContext("2d").drawImage(M,A,W,P,X,O.x,O.y,P,X);return H}function e(M){return Math.max(Math.max(M.body.scrollWidth,M.documentElement.scrollWidth),Math.max(M.body.offsetWidth,M.documentElement.offsetWidth),Math.max(M.body.clientWidth,M.documentElement.clientWidth))}function k(M){return Math.max(Math.max(M.body.scrollHeight,
M.documentElement.scrollHeight),Math.max(M.body.offsetHeight,M.documentElement.offsetHeight),Math.max(M.body.clientHeight,M.documentElement.clientHeight))}function d(M){var O=document.createElement("a");O.href=M;O.href=O.href;return O}var q=n("./support"),x=n("./renderers/canvas"),w=n("./imageloader"),E=n("./nodeparser");f=n("./nodecontainer");var z=n("./log"),u=n("./utils"),y=n("./clone"),G=n("./proxy").loadUrlDocument,Q=u.getBounds,V=0;a.CanvasRenderer=x;a.NodeContainer=f;a.log=z;a.utils=u;n="undefined"===
typeof document||"function"!==typeof Object.create||"function"!==typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:a;p.exports=n},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(n,p,f){function a(h){this.src=h;l("DummyImageContainer for",h);if(!this.promise||!this.image){l("Initiating DummyImageContainer");a.prototype.image=new Image;
var e=this.image;a.prototype.promise=new Promise(function(k,d){e.onload=k;e.onerror=d;e.src=c();!0===e.complete&&k(e)})}}var l=n("./log"),c=n("./utils").smallImage;p.exports=a},{"./log":13,"./utils":26}],6:[function(n,p,f){var a=n("./utils").smallImage;p.exports=function(l,c){var h=document.createElement("div"),e=document.createElement("img"),k=document.createElement("span");h.style.visibility="hidden";h.style.fontFamily=l;h.style.fontSize=c;h.style.margin=0;h.style.padding=0;document.body.appendChild(h);
e.src=a();e.width=1;e.height=1;e.style.margin=0;e.style.padding=0;e.style.verticalAlign="baseline";k.style.fontFamily=l;k.style.fontSize=c;k.style.margin=0;k.style.padding=0;k.appendChild(document.createTextNode("Hidden Text"));h.appendChild(k);h.appendChild(e);l=e.offsetTop-k.offsetTop+1;h.removeChild(k);h.appendChild(document.createTextNode("Hidden Text"));h.style.lineHeight="normal";e.style.verticalAlign="super";e=e.offsetTop-h.offsetTop+1;document.body.removeChild(h);this.baseline=l;this.lineWidth=
1;this.middle=e}},{"./utils":26}],7:[function(n,p,f){function a(){this.data={}}var l=n("./font");a.prototype.getMetrics=function(c,h){void 0===this.data[c+"-"+h]&&(this.data[c+"-"+h]=new l(c,h));return this.data[c+"-"+h]};p.exports=a},{"./font":6}],8:[function(n,p,f){function a(h,e,k){this.image=null;this.src=h;var d=this,q=l(h);this.promise=(e?new Promise(function(x){"about:blank"===h.contentWindow.document.URL||null==h.contentWindow.document.documentElement?h.contentWindow.onload=h.onload=function(){x(h)}:
x(h)}):this.proxyLoad(k.proxy,q,k)).then(function(x){return n("./core")(x.contentWindow.document.documentElement,{type:"view",width:x.width,height:x.height,proxy:k.proxy,javascriptEnabled:k.javascriptEnabled,removeContainer:k.removeContainer,allowTaint:k.allowTaint,imageTimeout:k.imageTimeout/2})}).then(function(x){return d.image=x})}var l=n("./utils").getBounds,c=n("./proxy").loadUrlDocument;a.prototype.proxyLoad=function(h,e,k){var d=this.src;return c(d.src,h,d.ownerDocument,e.width,e.height,k)};
p.exports=a},{"./core":4,"./proxy":16,"./utils":26}],9:[function(n,p,f){function a(l){this.src=l.value;this.colorStops=[];this.type=null;this.y1=this.x1=this.y0=this.x0=.5;this.promise=Promise.resolve(!0)}a.TYPES={LINEAR:1,RADIAL:2};a.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i;p.exports=a},{}],10:[function(n,p,f){p.exports=function(a,l){this.src=a;this.image=new Image;var c=this;this.tainted=
null;this.promise=new Promise(function(h,e){c.image.onload=h;c.image.onerror=e;l&&(c.image.crossOrigin="anonymous");c.image.src=a;!0===c.image.complete&&h(c.image)})}},{}],11:[function(n,p,f){function a(z,u){this.link=null;this.options=z;this.support=u;this.origin=this.getOrigin(window.location.href)}var l=n("./log"),c=n("./imagecontainer"),h=n("./dummyimagecontainer"),e=n("./proxyimagecontainer"),k=n("./framecontainer"),d=n("./svgcontainer"),q=n("./svgnodecontainer"),x=n("./lineargradientcontainer"),
w=n("./webkitgradientcontainer"),E=n("./utils").bind;a.prototype.findImages=function(z){var u=[];z.reduce(function(y,G){switch(G.node.nodeName){case "IMG":return y.concat([{args:[G.node.src],method:"url"}]);case "svg":case "IFRAME":return y.concat([{args:[G.node],method:G.node.nodeName}])}return y},[]).forEach(this.addImage(u,this.loadImage),this);return u};a.prototype.findBackgroundImage=function(z,u){u.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(z,this.loadImage),
this);return z};a.prototype.addImage=function(z,u){return function(y){y.args.forEach(function(G){this.imageExists(z,G)||(z.splice(0,0,u.call(this,y)),l("Added image #"+z.length,"string"===typeof G?G.substring(0,100):G))},this)}};a.prototype.hasImageBackground=function(z){return"none"!==z.method};a.prototype.loadImage=function(z){return"url"===z.method?(z=z.args[0],!this.isSVG(z)||this.support.svg||this.options.allowTaint?z.match(/data:image\/.*;base64,/i)?new c(z.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,
""),!1):this.isSameOrigin(z)||!0===this.options.allowTaint||this.isSVG(z)?new c(z,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new c(z,!0):this.options.proxy?new e(z,this.options.proxy):new h(z):new d(z)):"linear-gradient"===z.method?new x(z):"gradient"===z.method?new w(z):"svg"===z.method?new q(z.args[0],this.support.svg):"IFRAME"===z.method?new k(z.args[0],this.isSameOrigin(z.args[0].src),this.options):new h(z)};a.prototype.isSVG=function(z){return"svg"===z.substring(z.length-
3).toLowerCase()||d.prototype.isInline(z)};a.prototype.imageExists=function(z,u){return z.some(function(y){return y.src===u})};a.prototype.isSameOrigin=function(z){return this.getOrigin(z)===this.origin};a.prototype.getOrigin=function(z){var u=this.link||(this.link=document.createElement("a"));u.href=z;u.href=u.href;return u.protocol+u.hostname+u.port};a.prototype.getPromise=function(z){return this.timeout(z,this.options.imageTimeout)["catch"](function(){return(new h(z.src)).promise.then(function(u){z.image=
u})})};a.prototype.get=function(z){var u=null;return this.images.some(function(y){return(u=y).src===z})?u:null};a.prototype.fetch=function(z){this.images=z.reduce(E(this.findBackgroundImage,this),this.findImages(z));this.images.forEach(function(u,y){u.promise.then(function(){l("Succesfully loaded image #"+(y+1),u)},function(G){l("Failed loading image #"+(y+1),u,G)})});this.ready=Promise.all(this.images.map(this.getPromise,this));l("Finished searching images");return this};a.prototype.timeout=function(z,
u){var y,G=Promise.race([z.promise,new Promise(function(Q,V){y=setTimeout(function(){l("Timed out loading image",z);V(z)},u)})]).then(function(Q){clearTimeout(y);return Q});G["catch"](function(){clearTimeout(y)});return G};p.exports=a},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(n,p,f){function a(h){l.apply(this,
arguments);this.type=l.TYPES.LINEAR;var e=a.REGEXP_DIRECTION.test(h.args[0])||!l.REGEXP_COLORSTOP.test(h.args[0]);e?h.args[0].split(/\s+/).reverse().forEach(function(k,d){switch(k){case "left":this.x0=0;this.x1=1;break;case "top":this.y0=0;this.y1=1;break;case "right":this.x0=1;this.x1=0;break;case "bottom":this.y0=1;this.y1=0;break;case "to":d=this.y0;k=this.x0;this.y0=this.y1;this.x0=this.x1;this.x1=k;this.y1=d;break;case "center":break;default:k=.01*parseFloat(k,10),isNaN(k)||(0===d?(this.y0=k,
this.y1=1-this.y0):(this.x0=k,this.x1=1-this.x0))}},this):(this.y0=0,this.y1=1);this.colorStops=h.args.slice(e?1:0).map(function(k){k=k.match(l.REGEXP_COLORSTOP);var d=+k[2],q=0===d?"%":k[3];return{color:new c(k[1]),stop:"%"===q?d/100:null}});null===this.colorStops[0].stop&&(this.colorStops[0].stop=0);null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1);this.colorStops.forEach(function(k,d){null===k.stop&&this.colorStops.slice(d).some(function(q,
x){return null!==q.stop?(k.stop=(q.stop-this.colorStops[d-1].stop)/(x+1)+this.colorStops[d-1].stop,!0):!1},this)},this)}var l=n("./gradientcontainer"),c=n("./color");a.prototype=Object.create(l.prototype);a.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i;p.exports=a},{"./color":3,"./gradientcontainer":9}],13:[function(n,p,f){var a=function(){a.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,
[Date.now()-a.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};a.options={logging:!1};p.exports=a},{}],14:[function(n,p,f){function a(w,E){this.node=w;this.parent=E;this.borders=this.bounds=this.stack=null;this.clip=[];this.backgroundClip=[];this.computedStyles=this.visible=this.offsetBounds=null;this.colors={};this.styles={};this.transformMatrix=this.transformData=this.backgroundImages=null;this.isPseudoElement=!1;this.opacity=null}function l(w){if(w&&"matrix"===w[1])return w[2].split(",").map(function(E){return parseFloat(E.trim())});
if(w&&"matrix3d"===w[1])return w=w[2].split(",").map(function(E){return parseFloat(E.trim())}),[w[0],w[1],w[4],w[5],w[12],w[13]]}function c(w){return-1!==w.toString().indexOf("%")}function h(w){return w.replace("px","")}function e(w){return parseFloat(w)}var k=n("./color");n=n("./utils");var d=n.getBounds,q=n.parseBackgrounds,x=n.offsetBounds;a.prototype.cloneTo=function(w){w.visible=this.visible;w.borders=this.borders;w.bounds=this.bounds;w.clip=this.clip;w.backgroundClip=this.backgroundClip;w.computedStyles=
this.computedStyles;w.styles=this.styles;w.backgroundImages=this.backgroundImages;w.opacity=this.opacity};a.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity};a.prototype.assignStack=function(w){this.stack=w;w.children.push(this)};a.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&
("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))};a.prototype.css=function(w){this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null));return this.styles[w]||(this.styles[w]=this.computedStyles[w])};a.prototype.prefixedCss=function(w){var E=["webkit","moz","ms","o"],z=this.css(w);void 0===z&&E.some(function(u){z=this.css(u+w.substr(0,1).toUpperCase()+w.substr(1));return void 0!==z},this);
return void 0===z?null:z};a.prototype.computedStyle=function(w){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,w)};a.prototype.cssInt=function(w){w=parseInt(this.css(w),10);return isNaN(w)?0:w};a.prototype.color=function(w){return this.colors[w]||(this.colors[w]=new k(this.css(w)))};a.prototype.cssFloat=function(w){w=parseFloat(this.css(w));return isNaN(w)?0:w};a.prototype.fontWeight=function(){var w=this.css("fontWeight");switch(parseInt(w,10)){case 401:w="bold";break;case 400:w=
"normal"}return w};a.prototype.parseClip=function(){var w=this.css("clip").match(this.CLIP);return w?{top:parseInt(w[1],10),right:parseInt(w[2],10),bottom:parseInt(w[3],10),left:parseInt(w[4],10)}:null};a.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=q(this.css("backgroundImage")))};a.prototype.cssList=function(w,E){w=(this.css(w)||"").split(",");w=w[E||0]||w[0]||"auto";w=w.trim().split(" ");1===w.length&&(w=[w[0],c(w[0])?"auto":w[0]]);return w};a.prototype.parseBackgroundSize=
function(w,E,z){z=this.cssList("backgroundSize",z);if(c(z[0]))var u=w.width*parseFloat(z[0])/100;else{if(/contain|cover/.test(z[0]))return E=E.width/E.height,w.width/w.height<E^"contain"===z[0]?{width:w.height*E,height:w.height}:{width:w.width,height:w.width/E};u=parseInt(z[0],10)}w="auto"===z[0]&&"auto"===z[1]?E.height:"auto"===z[1]?u/E.width*E.height:c(z[1])?w.height*parseFloat(z[1])/100:parseInt(z[1],10);"auto"===z[0]&&(u=w/E.height*E.width);return{width:u,height:w}};a.prototype.parseBackgroundPosition=
function(w,E,z,u){z=this.cssList("backgroundPosition",z);var y=c(z[0])?(w.width-(u||E).width)*(parseFloat(z[0])/100):parseInt(z[0],10);w="auto"===z[1]?y/E.width*E.height:c(z[1])?(w.height-(u||E).height)*parseFloat(z[1])/100:parseInt(z[1],10);"auto"===z[0]&&(y=w/E.height*E.width);return{left:y,top:w}};a.prototype.parseBackgroundRepeat=function(w){return this.cssList("backgroundRepeat",w)[0]};a.prototype.parseTextShadows=function(){var w=this.css("textShadow"),E=[];if(w&&"none"!==w){w=w.match(this.TEXT_SHADOW_PROPERTY);
for(var z=0;w&&z<w.length;z++){var u=w[z].match(this.TEXT_SHADOW_VALUES);E.push({color:new k(u[0]),offsetX:u[1]?parseFloat(u[1].replace("px","")):0,offsetY:u[2]?parseFloat(u[2].replace("px","")):0,blur:u[3]?u[3].replace("px",""):0})}}return E};a.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var w=this.parseBounds(),E=this.prefixedCss("transformOrigin").split(" ").map(h).map(e);E[0]+=w.left;E[1]+=w.top;this.transformData={origin:E,matrix:this.parseTransformMatrix()}}else this.transformData=
{origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData};a.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var w=this.prefixedCss("transform");this.transformMatrix=(w=w?l(w.match(this.MATRIX_PROPERTY)):null)?w:[1,0,0,1,0,0]}return this.transformMatrix};a.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?x(this.node):d(this.node))};a.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&
this.parent.hasTransform()};a.prototype.getValue=function(){var w=this.node.value||"";"SELECT"===this.node.tagName?(w=this.node,w=(w=w.options[w.selectedIndex||0])?w.text||"":""):"password"===this.node.type&&(w=Array(w.length+1).join("\u2022"));return 0===w.length?this.node.placeholder||"":w};a.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/;a.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g;a.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;a.prototype.CLIP=
/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/;p.exports=a},{"./color":3,"./utils":26}],15:[function(n,p,f){function a(B,I,L,Z,ea){da("Starting NodeParser");this.renderer=I;this.options=ea;this.range=null;this.support=L;this.renderQueue=[];this.stack=new C(!0,1,B.ownerDocument,null);L=new qa(B,null);ea.background&&I.rectangle(0,0,I.width,I.height,new F(ea.background));if(B===B.ownerDocument.documentElement){var Y=new qa(L.color("backgroundColor").isTransparent()?B.ownerDocument.body:B.ownerDocument.documentElement,
null);I.rectangle(0,0,I.width,I.height,Y.color("backgroundColor"))}L.visibile=L.isElementVisible();this.createPseudoHideStyles(B.ownerDocument);this.disableAnimations(B.ownerDocument);this.nodes=[].concat.apply([],[L].concat(this.getChildren(L)).filter(function(va){return va.visible=va.isElementVisible()}).map(this.getPseudoElements,this));this.fontMetrics=new v;da("Fetched nodes, total:",this.nodes.length);da("Calculate overflow clips");this.calculateOverflowClips();da("Start fetching images");this.images=
Z.fetch(this.nodes.filter(H));this.ready=this.images.ready.then(J(function(){da("Images loaded, starting parsing");da("Creating stacking contexts");this.createStackingContexts();da("Sorting stacking contexts");this.sortStackingContexts(this.stack);this.parse(this.stack);da("Render queue created with "+this.renderQueue.length+" items");return new Promise(J(function(va){ea.async?"function"===typeof ea.async?ea.async.call(this,this.renderQueue,va):0<this.renderQueue.length?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,
va)):va():(this.renderQueue.forEach(this.paint,this),va())},this))},this))}function l(B){return B.replace(/(\-[a-z])/g,function(I){return I.toUpperCase().replace("-","")})}function c(){}function h(B,I,L,Z){return B.map(function(ea,Y){if(0<ea.width){var va=I.left,ma=I.top,Ea=I.width,La=I.height-B[2].width;switch(Y){case 0:La=B[0].width;ea.args=q({c1:[va,ma],c2:[va+Ea,ma],c3:[va+Ea-B[1].width,ma+La],c4:[va+B[3].width,ma+La]},Z[0],Z[1],L.topLeftOuter,L.topLeftInner,L.topRightOuter,L.topRightInner);break;
case 1:va=I.left+I.width-B[1].width;Ea=B[1].width;ea.args=q({c1:[va+Ea,ma],c2:[va+Ea,ma+La+B[2].width],c3:[va,ma+La],c4:[va,ma+B[0].width]},Z[1],Z[2],L.topRightOuter,L.topRightInner,L.bottomRightOuter,L.bottomRightInner);break;case 2:ma=ma+I.height-B[2].width;La=B[2].width;ea.args=q({c1:[va+Ea,ma+La],c2:[va,ma+La],c3:[va+B[3].width,ma],c4:[va+Ea-B[3].width,ma]},Z[2],Z[3],L.bottomRightOuter,L.bottomRightInner,L.bottomLeftOuter,L.bottomLeftInner);break;case 3:Ea=B[3].width,ea.args=q({c1:[va,ma+La+B[2].width],
c2:[va,ma],c3:[va+Ea,ma+B[0].width],c4:[va+Ea,ma+La]},Z[3],Z[0],L.bottomLeftOuter,L.bottomLeftInner,L.topLeftOuter,L.topLeftInner)}}return ea})}function e(B,I,L,Z){var ea=(Math.sqrt(2)-1)/3*4,Y=L*ea;ea*=Z;L=B+L;Z=I+Z;return{topLeft:d({x:B,y:Z},{x:B,y:Z-ea},{x:L-Y,y:I},{x:L,y:I}),topRight:d({x:B,y:I},{x:B+Y,y:I},{x:L,y:Z-ea},{x:L,y:Z}),bottomRight:d({x:L,y:I},{x:L,y:I+ea},{x:B+Y,y:Z},{x:B,y:Z}),bottomLeft:d({x:L,y:Z},{x:L-Y,y:Z},{x:B,y:I+ea},{x:B,y:I})}}function k(B,I,L){var Z=B.left,ea=B.top,Y=B.width;
B=B.height;var va=I[0][0]<Y/2?I[0][0]:Y/2,ma=I[0][1]<B/2?I[0][1]:B/2,Ea=I[1][0]<Y/2?I[1][0]:Y/2,La=I[1][1]<B/2?I[1][1]:B/2,Ta=I[2][0]<Y/2?I[2][0]:Y/2,Ia=I[2][1]<B/2?I[2][1]:B/2,Ma=I[3][0]<Y/2?I[3][0]:Y/2;I=I[3][1]<B/2?I[3][1]:B/2;var za=Y-Ea,Ua=B-Ia,Na=Y-Ta,K=B-I;return{topLeftOuter:e(Z,ea,va,ma).topLeft.subdivide(.5),topLeftInner:e(Z+L[3].width,ea+L[0].width,Math.max(0,va-L[3].width),Math.max(0,ma-L[0].width)).topLeft.subdivide(.5),topRightOuter:e(Z+za,ea,Ea,La).topRight.subdivide(.5),topRightInner:e(Z+
Math.min(za,Y+L[3].width),ea+L[0].width,za>Y+L[3].width?0:Ea-L[3].width,La-L[0].width).topRight.subdivide(.5),bottomRightOuter:e(Z+Na,ea+Ua,Ta,Ia).bottomRight.subdivide(.5),bottomRightInner:e(Z+Math.min(Na,Y-L[3].width),ea+Math.min(Ua,B+L[0].width),Math.max(0,Ta-L[1].width),Ia-L[2].width).bottomRight.subdivide(.5),bottomLeftOuter:e(Z,ea+K,Ma,I).bottomLeft.subdivide(.5),bottomLeftInner:e(Z+L[3].width,ea+K,Math.max(0,Ma-L[3].width),I-L[2].width).bottomLeft.subdivide(.5)}}function d(B,I,L,Z){var ea=
function(Y,va,ma){return{x:Y.x+(va.x-Y.x)*ma,y:Y.y+(va.y-Y.y)*ma}};return{start:B,startControl:I,endControl:L,end:Z,subdivide:function(Y){var va=ea(B,I,Y),ma=ea(I,L,Y),Ea=ea(L,Z,Y),La=ea(va,ma,Y);ma=ea(ma,Ea,Y);Y=ea(La,ma,Y);return[d(B,va,La,Y),d(Y,ma,Ea,Z)]},curveTo:function(Y){Y.push(["bezierCurve",I.x,I.y,L.x,L.y,Z.x,Z.y])},curveToReversed:function(Y){Y.push(["bezierCurve",L.x,L.y,I.x,I.y,B.x,B.y])}}}function q(B,I,L,Z,ea,Y,va){var ma=[];0<I[0]||0<I[1]?(ma.push(["line",Z[1].start.x,Z[1].start.y]),
Z[1].curveTo(ma)):ma.push(["line",B.c1[0],B.c1[1]]);0<L[0]||0<L[1]?(ma.push(["line",Y[0].start.x,Y[0].start.y]),Y[0].curveTo(ma),ma.push(["line",va[0].end.x,va[0].end.y]),va[0].curveToReversed(ma)):(ma.push(["line",B.c2[0],B.c2[1]]),ma.push(["line",B.c3[0],B.c3[1]]));0<I[0]||0<I[1]?(ma.push(["line",ea[1].end.x,ea[1].end.y]),ea[1].curveToReversed(ma)):ma.push(["line",B.c4[0],B.c4[1]]);return ma}function x(B,I,L,Z,ea,Y,va){0<I[0]||0<I[1]?(B.push(["line",Z[0].start.x,Z[0].start.y]),Z[0].curveTo(B),Z[1].curveTo(B)):
B.push(["line",Y,va]);(0<L[0]||0<L[1])&&B.push(["line",ea[0].start.x,ea[0].start.y])}function w(B){return 0>B.cssInt("zIndex")}function E(B){return 0<B.cssInt("zIndex")}function z(B){return 0===B.cssInt("zIndex")}function u(B){return-1!==["inline","inline-block","inline-table"].indexOf(B.css("display"))}function y(B){return 0<B.node.data.trim().length}function G(B){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(I){I=B.css("border"+I+"Radius").split(" ");1>=I.length&&(I[1]=I[0]);
return I.map(W)})}function Q(B){return B.nodeType===Node.TEXT_NODE||B.nodeType===Node.ELEMENT_NODE}function V(B){return"static"!==B.css("position")}function M(B){return"none"!==B.css("float")}function O(B){var I=this;return function(){return!B.apply(I,arguments)}}function H(B){return B.node.nodeType===Node.ELEMENT_NODE}function A(B){return B.node.nodeType===Node.TEXT_NODE}function P(B){return function(I,L){return I.cssInt("zIndex")+B.indexOf(I)/B.length-(L.cssInt("zIndex")+B.indexOf(L)/B.length)}}
function W(B){return parseInt(B,10)}function X(B){return B.width}function ba(B){return B.node.nodeType!==Node.ELEMENT_NODE||-1==="SCRIPT HEAD TITLE OBJECT BR OPTION".split(" ").indexOf(B.node.nodeName)}function na(B){for(var I=[],L=0,Z=!1,ea;B.length;)-1!==[32,13,10,9,45].indexOf(B[L])===Z?(ea=B.splice(0,L),ea.length&&I.push(Ba.ucs2.encode(ea)),Z=!Z,L=0):L++,L>=B.length&&(ea=B.splice(0,L),ea.length&&I.push(Ba.ucs2.encode(ea)));return I}var da=n("./log"),Ba=n("punycode"),qa=n("./nodecontainer"),ya=
n("./textcontainer"),t=n("./pseudoelementcontainer"),v=n("./fontmetrics"),F=n("./color"),C=n("./stackingcontext");n=n("./utils");var J=n.bind,R=n.getBounds,oa=n.parseBackgrounds,aa=n.offsetBounds;a.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(B){if(H(B)){!0===B.isPseudoElement&&B.appendToDOM();B.borders=this.parseBorders(B);var I="hidden"===B.css("overflow")?[B.borders.clip]:[],L=B.parseClip();L&&-1!==["absolute","fixed"].indexOf(B.css("position"))&&I.push([["rect",B.bounds.left+
L.left,B.bounds.top+L.top,L.right-L.left,L.bottom-L.top]]);B.clip=B.parent&&B.parent.clip.length?B.parent.clip.concat(I):I;B.backgroundClip="hidden"!==B.css("overflow")?B.clip.concat([B.borders.clip]):B.clip;!0===B.isPseudoElement&&B.cleanDOM()}else A(B)&&(B.clip=B.parent&&B.parent.clip.length?B.parent.clip:[]);!0!==B.isPseudoElement&&(B.bounds=null)},this)};a.prototype.asyncRenderer=function(B,I,L){L=L||Date.now();this.paint(B[this.renderIndex++]);B.length===this.renderIndex?I():L+20>Date.now()?
this.asyncRenderer(B,I,L):setTimeout(J(function(){this.asyncRenderer(B,I)},this),0)};a.prototype.createPseudoHideStyles=function(B){this.createStyles(B,"."+t.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+t.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')};a.prototype.disableAnimations=function(B){this.createStyles(B,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")};
a.prototype.createStyles=function(B,I){var L=B.createElement("style");L.innerHTML=I;B.body.appendChild(L)};a.prototype.getPseudoElements=function(B){var I=[[B]];if(B.node.nodeType===Node.ELEMENT_NODE){var L=this.getPseudoElement(B,":before");B=this.getPseudoElement(B,":after");L&&I.push(L);B&&I.push(B)}return[].concat.apply([],I)};a.prototype.getPseudoElement=function(B,I){var L=B.computedStyle(I);if(!L||!L.content||"none"===L.content||"-moz-alt-content"===L.content||"none"===L.display)return null;
var Z=L.content;var ea=Z.substr(0,1);ea=ea===Z.substr(Z.length-1)&&ea.match(/'|"/)?Z.substr(1,Z.length-2):Z;var Y="url"===ea.substr(0,3);Z=document.createElement(Y?"img":"html2canvaspseudoelement");B=new t(Z,B,I);for(I=L.length-1;0<=I;I--){var va=l(L.item(I));Z.style[va]=L[va]}Z.className=t.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+t.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER;if(Y)return Z.src=oa(ea)[0].args[0],[B];L=document.createTextNode(ea);Z.appendChild(L);return[B,new ya(L,B)]};a.prototype.getChildren=
function(B){return[].concat.apply([],[].filter.call(B.node.childNodes,Q).map(function(I){var L=[I.nodeType===Node.TEXT_NODE?new ya(I,B):new qa(I,B)].filter(ba);return I.nodeType===Node.ELEMENT_NODE&&L.length&&"TEXTAREA"!==I.tagName?L[0].isElementVisible()?L.concat(this.getChildren(L[0])):[]:L},this))};a.prototype.newStackingContext=function(B,I){var L=new C(I,B.getOpacity(),B.node,B.parent);B.cloneTo(L);(I?L.getParentStack(this):L.parent.stack).contexts.push(L);B.stack=L};a.prototype.createStackingContexts=
function(){this.nodes.forEach(function(B){var I;if(I=H(B))(I=this.isRootElement(B)||1>B.getOpacity())||(I=B.css("position"),I="auto"!==(-1!==["absolute","relative","fixed"].indexOf(I)?B.css("zIndex"):"auto")),I=I||this.isBodyWithTransparentRoot(B)||B.hasTransform();I?this.newStackingContext(B,!0):H(B)&&(V(B)&&z(B)||-1!==["inline-block","inline-table"].indexOf(B.css("display"))||M(B))?this.newStackingContext(B,!1):B.assignStack(B.parent.stack)},this)};a.prototype.isBodyWithTransparentRoot=function(B){return"BODY"===
B.node.nodeName&&B.parent.color("backgroundColor").isTransparent()};a.prototype.isRootElement=function(B){return null===B.parent};a.prototype.sortStackingContexts=function(B){B.contexts.sort(P(B.contexts.slice(0)));B.contexts.forEach(this.sortStackingContexts,this)};a.prototype.parseTextBounds=function(B){return function(I,L,Z){if("none"!==B.parent.css("textDecoration").substr(0,4)||0!==I.trim().length){if(this.support.rangeBounds&&!B.parent.hasTransform())return L=Z.slice(0,L).join("").length,this.getRangeBounds(B.node,
L,I.length);if(B.node&&"string"===typeof B.node.data)return I=B.node.splitText(I.length),L=this.getWrapperBounds(B.node,B.parent.hasTransform()),B.node=I,L}else if(!this.support.rangeBounds||B.parent.hasTransform())B.node=B.node.splitText(I.length);return{}}};a.prototype.getWrapperBounds=function(B,I){var L=B.ownerDocument.createElement("html2canvaswrapper"),Z=B.parentNode,ea=B.cloneNode(!0);L.appendChild(B.cloneNode(!0));Z.replaceChild(L,B);B=I?aa(L):R(L);Z.replaceChild(ea,L);return B};a.prototype.getRangeBounds=
function(B,I,L){var Z=this.range||(this.range=B.ownerDocument.createRange());Z.setStart(B,I);Z.setEnd(B,I+L);return Z.getBoundingClientRect()};a.prototype.parse=function(B){var I=B.contexts.filter(w),L=B.children.filter(H),Z=L.filter(O(M)),ea=Z.filter(O(V)).filter(O(u));L=L.filter(O(V)).filter(M);var Y=Z.filter(O(V)).filter(u);Z=B.contexts.concat(Z.filter(V)).filter(z);var va=B.children.filter(A).filter(y);B=B.contexts.filter(E);I.concat(ea).concat(L).concat(Y).concat(Z).concat(va).concat(B).forEach(function(ma){this.renderQueue.push(ma);
ma instanceof C&&(this.parse(ma),this.renderQueue.push(new c))},this)};a.prototype.paint=function(B){try{B instanceof c?this.renderer.ctx.restore():A(B)?(!0===B.parent.isPseudoElement&&B.parent.appendToDOM(),this.paintText(B),!0===B.parent.isPseudoElement&&B.parent.cleanDOM()):this.paintNode(B)}catch(I){if(da(I),this.options.strict)throw I;}};a.prototype.paintNode=function(B){B instanceof C&&(this.renderer.setOpacity(B.opacity),this.renderer.ctx.save(),B.hasTransform()&&this.renderer.setTransform(B.parseTransform()));
"INPUT"===B.node.nodeName&&"checkbox"===B.node.type?this.paintCheckbox(B):"INPUT"===B.node.nodeName&&"radio"===B.node.type?this.paintRadio(B):this.paintElement(B)};a.prototype.paintElement=function(B){var I=B.parseBounds();this.renderer.clip(B.backgroundClip,function(){this.renderer.renderBackground(B,I,B.borders.borders.map(X))},this);this.renderer.clip(B.clip,function(){this.renderer.renderBorders(B.borders.borders)},this);this.renderer.clip(B.backgroundClip,function(){switch(B.node.nodeName){case "svg":case "IFRAME":var L=
this.images.get(B.node);L?this.renderer.renderImage(B,I,B.borders,L):da("Error loading \x3c"+B.node.nodeName+"\x3e",B.node);break;case "IMG":(L=this.images.get(B.node.src))?this.renderer.renderImage(B,I,B.borders,L):da("Error loading \x3cimg\x3e",B.node.src);break;case "CANVAS":this.renderer.renderImage(B,I,B.borders,{image:B.node});break;case "SELECT":case "INPUT":case "TEXTAREA":this.paintFormValue(B)}},this)};a.prototype.paintCheckbox=function(B){var I=B.parseBounds(),L=Math.min(I.width,I.height),
Z={width:L-1,height:L-1,top:I.top,left:I.left};I=[3,3];var ea=[I,I,I,I],Y=[1,1,1,1].map(function(ma){return{color:new F("#A5A5A5"),width:ma}}),va=k(Z,ea,Y);this.renderer.clip(B.backgroundClip,function(){this.renderer.rectangle(Z.left+1,Z.top+1,Z.width-2,Z.height-2,new F("#DEDEDE"));this.renderer.renderBorders(h(Y,Z,va,ea));B.node.checked&&(this.renderer.font(new F("#424242"),"normal","normal","bold",L-3+"px","arial"),this.renderer.text("\u2714",Z.left+L/6,Z.top+L-1))},this)};a.prototype.paintRadio=
function(B){var I=B.parseBounds(),L=Math.min(I.width,I.height)-2;this.renderer.clip(B.backgroundClip,function(){this.renderer.circleStroke(I.left+1,I.top+1,L,new F("#DEDEDE"),1,new F("#A5A5A5"));B.node.checked&&this.renderer.circle(Math.ceil(I.left+L/4)+1,Math.ceil(I.top+L/4)+1,Math.floor(L/2),new F("#424242"))},this)};a.prototype.paintFormValue=function(B){var I=B.getValue();if(0<I.length){var L=B.node.ownerDocument,Z=L.createElement("html2canvaswrapper");"lineHeight textAlign fontFamily fontWeight fontSize color paddingLeft paddingTop paddingRight paddingBottom width height borderLeftStyle borderTopStyle borderLeftWidth borderTopWidth boxSizing whiteSpace wordWrap".split(" ").forEach(function(Y){try{Z.style[Y]=
B.css(Y)}catch(va){da("html2canvas: Parse: Exception caught in renderFormValue: "+va.message)}});var ea=B.parseBounds();Z.style.position="fixed";Z.style.left=ea.left+"px";Z.style.top=ea.top+"px";Z.textContent=I;L.body.appendChild(Z);this.paintText(new ya(Z.firstChild,B));L.body.removeChild(Z)}};a.prototype.paintText=function(B){B.applyTextTransform();var I=Ba.ucs2.decode(B.node.data),L=this.options.letterRendering&&!/^(normal|none|0px)$/.test(B.parent.css("letterSpacing"))||/[^\u0000-\u00ff]/.test(B.node.data)?
I.map(function(va){return Ba.ucs2.encode([va])}):na(I);I=B.parent.fontWeight();var Z=B.parent.css("fontSize"),ea=B.parent.css("fontFamily"),Y=B.parent.parseTextShadows();this.renderer.font(B.parent.color("color"),B.parent.css("fontStyle"),B.parent.css("fontVariant"),I,Z,ea);Y.length?this.renderer.fontShadow(Y[0].color,Y[0].offsetX,Y[0].offsetY,Y[0].blur):this.renderer.clearShadow();this.renderer.clip(B.parent.clip,function(){L.map(this.parseTextBounds(B),this).forEach(function(va,ma){va&&(this.renderer.text(L[ma],
va.left,va.bottom),this.renderTextDecoration(B.parent,va,this.fontMetrics.getMetrics(ea,Z)))},this)},this)};a.prototype.renderTextDecoration=function(B,I,L){switch(B.css("textDecoration").split(" ")[0]){case "underline":this.renderer.rectangle(I.left,Math.round(I.top+L.baseline+L.lineWidth),I.width,1,B.color("color"));break;case "overline":this.renderer.rectangle(I.left,Math.round(I.top),I.width,1,B.color("color"));break;case "line-through":this.renderer.rectangle(I.left,Math.ceil(I.top+L.middle+
L.lineWidth),I.width,1,B.color("color"))}};var wa={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};a.prototype.parseBorders=function(B){var I=B.parseBounds(),L=G(B),Z=["Top","Right","Bottom","Left"].map(function(Y,va){var ma=B.css("border"+Y+"Style"),Ea=B.color("border"+Y+"Color");"inset"===ma&&Ea.isBlack()&&(Ea=new F([255,255,255,Ea.a]));va=wa[ma]?wa[ma][va]:null;return{width:B.cssInt("border"+Y+"Width"),color:va?Ea[va[0]](va[1]):Ea,args:null}}),ea=k(I,L,Z);return{clip:this.parseBackgroundClip(B,
ea,Z,L,I),borders:h(Z,I,ea,L)}};a.prototype.parseBackgroundClip=function(B,I,L,Z,ea){var Y=[];switch(B.css("backgroundClip")){case "content-box":case "padding-box":x(Y,Z[0],Z[1],I.topLeftInner,I.topRightInner,ea.left+L[3].width,ea.top+L[0].width);x(Y,Z[1],Z[2],I.topRightInner,I.bottomRightInner,ea.left+ea.width-L[1].width,ea.top+L[0].width);x(Y,Z[2],Z[3],I.bottomRightInner,I.bottomLeftInner,ea.left+ea.width-L[1].width,ea.top+ea.height-L[2].width);x(Y,Z[3],Z[0],I.bottomLeftInner,I.topLeftInner,ea.left+
L[3].width,ea.top+ea.height-L[2].width);break;default:x(Y,Z[0],Z[1],I.topLeftOuter,I.topRightOuter,ea.left,ea.top),x(Y,Z[1],Z[2],I.topRightOuter,I.bottomRightOuter,ea.left+ea.width,ea.top),x(Y,Z[2],Z[3],I.bottomRightOuter,I.bottomLeftOuter,ea.left+ea.width,ea.top+ea.height),x(Y,Z[3],Z[0],I.bottomLeftOuter,I.topLeftOuter,ea.left,ea.top+ea.height)}return Y};p.exports=a},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,
"./utils":26,punycode:1}],16:[function(n,p,f){function a(E,z,u){var y="withCredentials"in new XMLHttpRequest;if(!z)return Promise.reject("No proxy configured");var G=c(y);E=h(z,E,G);return y?k(E):l(u,E,G).then(function(Q){return x(Q.content)})}function l(E,z,u){return new Promise(function(y,G){var Q=E.createElement("script"),V=function(){delete window.html2canvas.proxy[u];E.body.removeChild(Q)};window.html2canvas.proxy[u]=function(M){V();y(M)};Q.src=z;Q.onerror=function(M){V();G(M)};E.body.appendChild(Q)})}
function c(E){return E?"":"html2canvas_"+Date.now()+"_"+ ++w+"_"+Math.round(1E5*Math.random())}function h(E,z,u){return E+"?url\x3d"+encodeURIComponent(z)+(u.length?"\x26callback\x3dhtml2canvas.proxy."+u:"")}function e(E){return function(z){var u=new DOMParser;try{var y=u.parseFromString(z,"text/html")}catch(G){d("DOMParser not supported, falling back to createHTMLDocument");y=document.implementation.createHTMLDocument("");try{y.open(),y.write(z),y.close()}catch(Q){d("createHTMLDocument write not supported, falling back to document.body.innerHTML"),
y.body.innerHTML=z}}z=y.querySelector("base");z&&z.href.host||(z=y.createElement("base"),z.href=E,y.head.insertBefore(z,y.head.firstChild));return y}}var k=n("./xhr");p=n("./utils");var d=n("./log"),q=n("./clone"),x=p.decode64,w=0;f.Proxy=a;f.ProxyURL=function(E,z,u){var y="crossOrigin"in new Image,G=c(y);E=h(z,E,G);return y?Promise.resolve(E):l(u,E,G).then(function(Q){return"data:"+Q.type+";base64,"+Q.content})};f.loadUrlDocument=function(E,z,u,y,G,Q){return(new a(E,z,window.document)).then(e(E)).then(function(V){return q(V,
u,y,G,Q,0,0)})}},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(n,p,f){var a=n("./proxy").ProxyURL;p.exports=function(l,c){var h=document.createElement("a");h.href=l;this.src=l=h.href;this.image=new Image;var e=this;this.promise=new Promise(function(k,d){e.image.crossOrigin="Anonymous";e.image.onload=k;e.image.onerror=d;(new a(l,c,document)).then(function(q){e.image.src=q})["catch"](d)})}},{"./proxy":16}],18:[function(n,p,f){function a(c,h,e){l.call(this,c,h);this.isPseudoElement=
!0;this.before=":before"===e}var l=n("./nodecontainer");a.prototype.cloneTo=function(c){a.prototype.cloneTo.call(this,c);c.isPseudoElement=!0;c.before=this.before};a.prototype=Object.create(l.prototype);a.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node);this.parent.node.className+=" "+this.getHideClass()};a.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node);this.parent.node.className=
this.parent.node.className.replace(this.getHideClass(),"")};a.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]};a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before";a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after";p.exports=a},{"./nodecontainer":14}],19:[function(n,p,f){function a(c,h,e,k,d){this.width=c;this.height=h;this.images=e;this.options=k;this.document=d}var l=n("./log");
a.prototype.renderImage=function(c,h,e,k){var d=c.cssInt("paddingLeft"),q=c.cssInt("paddingTop"),x=c.cssInt("paddingRight");c=c.cssInt("paddingBottom");e=e.borders;x=h.width-(e[1].width+e[3].width+d+x);c=h.height-(e[0].width+e[2].width+q+c);this.drawImage(k,0,0,k.image.width||x,k.image.height||c,h.left+d+e[3].width,h.top+q+e[0].width,x,c)};a.prototype.renderBackground=function(c,h,e){0<h.height&&0<h.width&&(this.renderBackgroundColor(c,h),this.renderBackgroundImage(c,h,e))};a.prototype.renderBackgroundColor=
function(c,h){c=c.color("backgroundColor");c.isTransparent()||this.rectangle(h.left,h.top,h.width,h.height,c)};a.prototype.renderBorders=function(c){c.forEach(this.renderBorder,this)};a.prototype.renderBorder=function(c){c.color.isTransparent()||null===c.args||this.drawShape(c.args,c.color)};a.prototype.renderBackgroundImage=function(c,h,e){c.parseBackgroundImages().reverse().forEach(function(k,d,q){switch(k.method){case "url":var x=this.images.get(k.args[0]);x?this.renderBackgroundRepeating(c,h,
x,q.length-(d+1),e):l("Error loading background-image",k.args[0]);break;case "linear-gradient":case "gradient":(d=this.images.get(k.value))?this.renderBackgroundGradient(d,h,e):l("Error loading background-image",k.args[0]);break;case "none":break;default:l("Unknown background-image type",k.args[0])}},this)};a.prototype.renderBackgroundRepeating=function(c,h,e,k,d){var q=c.parseBackgroundSize(h,e.image,k),x=c.parseBackgroundPosition(h,e.image,k,q);switch(c.parseBackgroundRepeat(k)){case "repeat-x":case "repeat no-repeat":this.backgroundRepeatShape(e,
x,q,h,h.left+d[3],h.top+x.top+d[0],99999,q.height,d);break;case "repeat-y":case "no-repeat repeat":this.backgroundRepeatShape(e,x,q,h,h.left+x.left+d[3],h.top+d[0],q.width,99999,d);break;case "no-repeat":this.backgroundRepeatShape(e,x,q,h,h.left+x.left+d[3],h.top+x.top+d[0],q.width,q.height,d);break;default:this.renderBackgroundRepeat(e,x,q,{top:h.top,left:h.left},d[3],d[0])}};p.exports=a},{"./log":13}],20:[function(n,p,f){function a(k,d){c.apply(this,arguments);this.canvas=this.options.canvas||this.document.createElement("canvas");
this.options.canvas||(this.canvas.width=k,this.canvas.height=d);this.ctx=this.canvas.getContext("2d");this.taintCtx=this.document.createElement("canvas").getContext("2d");this.ctx.textBaseline="bottom";this.variables={};e("Initialized CanvasRenderer with size",k,"x",d)}function l(k){return 0<k.length}var c=n("../renderer"),h=n("../lineargradientcontainer"),e=n("../log");a.prototype=Object.create(c.prototype);a.prototype.setFillStyle=function(k){this.ctx.fillStyle="object"===typeof k&&k.isColor?k.toString():
k;return this.ctx};a.prototype.rectangle=function(k,d,q,x,w){this.setFillStyle(w).fillRect(k,d,q,x)};a.prototype.circle=function(k,d,q,x){this.setFillStyle(x);this.ctx.beginPath();this.ctx.arc(k+q/2,d+q/2,q/2,0,2*Math.PI,!0);this.ctx.closePath();this.ctx.fill()};a.prototype.circleStroke=function(k,d,q,x,w,E){this.circle(k,d,q,x);this.ctx.strokeStyle=E.toString();this.ctx.stroke()};a.prototype.drawShape=function(k,d){this.shape(k);this.setFillStyle(d).fill()};a.prototype.taints=function(k){if(null===
k.tainted){this.taintCtx.drawImage(k.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),k.tainted=!1}catch(d){this.taintCtx=document.createElement("canvas").getContext("2d"),k.tainted=!0}}return k.tainted};a.prototype.drawImage=function(k,d,q,x,w,E,z,u,y){this.taints(k)&&!this.options.allowTaint||this.ctx.drawImage(k.image,d,q,x,w,E,z,u,y)};a.prototype.clip=function(k,d,q){this.ctx.save();k.filter(l).forEach(function(x){this.shape(x).clip()},this);d.call(q);this.ctx.restore()};a.prototype.shape=function(k){this.ctx.beginPath();
k.forEach(function(d,q){"rect"===d[0]?this.ctx.rect.apply(this.ctx,d.slice(1)):this.ctx[0===q?"moveTo":d[0]+"To"].apply(this.ctx,d.slice(1))},this);this.ctx.closePath();return this.ctx};a.prototype.font=function(k,d,q,x,w,E){this.setFillStyle(k).font=[d,q,x,w,E].join(" ").split(",")[0]};a.prototype.fontShadow=function(k,d,q,x){this.setVariable("shadowColor",k.toString()).setVariable("shadowOffsetY",d).setVariable("shadowOffsetX",q).setVariable("shadowBlur",x)};a.prototype.clearShadow=function(){this.setVariable("shadowColor",
"rgba(0,0,0,0)")};a.prototype.setOpacity=function(k){this.ctx.globalAlpha=k};a.prototype.setTransform=function(k){this.ctx.translate(k.origin[0],k.origin[1]);this.ctx.transform.apply(this.ctx,k.matrix);this.ctx.translate(-k.origin[0],-k.origin[1])};a.prototype.setVariable=function(k,d){this.variables[k]!==d&&(this.variables[k]=this.ctx[k]=d);return this};a.prototype.text=function(k,d,q){this.ctx.fillText(k,d,q)};a.prototype.backgroundRepeatShape=function(k,d,q,x,w,E,z,u,y){this.clip([[["line",Math.round(w),
Math.round(E)],["line",Math.round(w+z),Math.round(E)],["line",Math.round(w+z),Math.round(u+E)],["line",Math.round(w),Math.round(u+E)]]],function(){this.renderBackgroundRepeat(k,d,q,x,y[3],y[0])},this)};a.prototype.renderBackgroundRepeat=function(k,d,q,x,w,E){w=Math.round(x.left+d.left+w);d=Math.round(x.top+d.top+E);this.setFillStyle(this.ctx.createPattern(this.resizeImage(k,q),"repeat"));this.ctx.translate(w,d);this.ctx.fill();this.ctx.translate(-w,-d)};a.prototype.renderBackgroundGradient=function(k,
d){if(k instanceof h){var q=this.ctx.createLinearGradient(d.left+d.width*k.x0,d.top+d.height*k.y0,d.left+d.width*k.x1,d.top+d.height*k.y1);k.colorStops.forEach(function(x){q.addColorStop(x.stop,x.color.toString())});this.rectangle(d.left,d.top,d.width,d.height,q)}};a.prototype.resizeImage=function(k,d){k=k.image;if(k.width===d.width&&k.height===d.height)return k;var q=document.createElement("canvas");q.width=d.width;q.height=d.height;q.getContext("2d").drawImage(k,0,0,k.width,k.height,0,0,d.width,
d.height);return q};p.exports=a},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(n,p,f){function a(c,h,e,k){l.call(this,e,k);this.ownStacking=c;this.contexts=[];this.children=[];this.opacity=(this.parent?this.parent.stack.opacity:1)*h}var l=n("./nodecontainer");a.prototype=Object.create(l.prototype);a.prototype.getParentStack=function(c){var h=this.parent?this.parent.stack:null;return h?h.ownStacking?h:h.getParentStack(c):c.stack};p.exports=a},{"./nodecontainer":14}],
22:[function(n,p,f){function a(l){this.rangeBounds=this.testRangeBounds(l);this.cors=this.testCORS();this.svg=this.testSVG()}a.prototype.testRangeBounds=function(l){var c=!1;if(l.createRange){var h=l.createRange();if(h.getBoundingClientRect){var e=l.createElement("boundtest");e.style.height="123px";e.style.display="block";l.body.appendChild(e);h.selectNode(e);h=h.getBoundingClientRect();h=h.height;123===h&&(c=!0);l.body.removeChild(e)}}return c};a.prototype.testCORS=function(){return"undefined"!==
typeof(new Image).crossOrigin};a.prototype.testSVG=function(){var l=new Image,c=document.createElement("canvas"),h=c.getContext("2d");l.src="data:image/svg+xml,\x3csvg xmlns\x3d'http://www.w3.org/2000/svg'\x3e\x3c/svg\x3e";try{h.drawImage(l,0,0),c.toDataURL()}catch(e){return!1}return!0};p.exports=a},{}],23:[function(n,p,f){function a(h){this.src=h;this.image=null;var e=this;this.promise=this.hasFabric().then(function(){return e.isInline(h)?Promise.resolve(e.inlineFormatting(h)):l(h)}).then(function(k){return new Promise(function(d){window.html2canvas.svg.fabric.loadSVGFromString(k,
e.createCanvas.call(e,d))})})}var l=n("./xhr"),c=n("./utils").decode64;a.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(Error("html2canvas.svg.js is not loaded, cannot render svg"))};a.prototype.inlineFormatting=function(h){return/^data:image\/svg\+xml;base64,/.test(h)?this.decode64(this.removeContentType(h)):this.removeContentType(h)};a.prototype.removeContentType=function(h){return h.replace(/^data:image\/svg\+xml(;base64)?,/,
"")};a.prototype.isInline=function(h){return/^data:image\/svg\+xml/i.test(h)};a.prototype.createCanvas=function(h){var e=this;return function(k,d){var q=new window.html2canvas.svg.fabric.StaticCanvas("c");e.image=q.lowerCanvasEl;q.setWidth(d.width).setHeight(d.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(k,d)).renderAll();h(q.lowerCanvasEl)}};a.prototype.decode64=function(h){return"function"===typeof window.atob?window.atob(h):c(h)};p.exports=a},{"./utils":26,"./xhr":28}],24:[function(n,
p,f){function a(l,c){this.src=l;this.image=null;var h=this;this.promise=c?new Promise(function(e,k){h.image=new Image;h.image.onload=e;h.image.onerror=k;h.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(l);!0===h.image.complete&&e(h.image)}):this.hasFabric().then(function(){return new Promise(function(e){window.html2canvas.svg.fabric.parseSVGDocument(l,h.createCanvas.call(h,e))})})}n=n("./svgcontainer");a.prototype=Object.create(n.prototype);p.exports=a},{"./svgcontainer":23}],
25:[function(n,p,f){function a(h,e){c.call(this,h,e)}function l(h,e,k){if(0<h.length)return e+k.toUpperCase()}var c=n("./nodecontainer");a.prototype=Object.create(c.prototype);a.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))};a.prototype.transform=function(h){var e=this.node.data;switch(h){case "lowercase":return e.toLowerCase();case "capitalize":return e.replace(/(^|\s|:|-|\(|\))([a-z])/g,l);case "uppercase":return e.toUpperCase();default:return e}};
p.exports=a},{"./nodecontainer":14}],26:[function(n,p,f){f.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"};f.bind=function(a,l){return function(){return a.apply(l,arguments)}};f.decode64=function(a){var l=a.length,c,h="";for(c=0;c<l;c+=4){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[c]);var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[c+1]);var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[c+
2]);var q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[c+3]);e=e<<2|k>>4;k=(k&15)<<4|d>>2;var x=(d&3)<<6|q;h=64===d?h+String.fromCharCode(e):64===q||-1===q?h+String.fromCharCode(e,k):h+String.fromCharCode(e,k,x)}return h};f.getBounds=function(a){if(a.getBoundingClientRect){var l=a.getBoundingClientRect(),c=null==a.offsetWidth?l.width:a.offsetWidth;return{top:l.top,bottom:l.bottom||l.top+l.height,right:l.left+c,left:l.left,width:c,height:null==a.offsetHeight?l.height:
a.offsetHeight}}return{}};f.offsetBounds=function(a){var l=a.offsetParent?f.offsetBounds(a.offsetParent):{top:0,left:0};return{top:a.offsetTop+l.top,bottom:a.offsetTop+a.offsetHeight+l.top,right:a.offsetLeft+l.left+a.offsetWidth,left:a.offsetLeft+l.left,width:a.offsetWidth,height:a.offsetHeight}};f.parseBackgrounds=function(a){var l,c,h,e,k=[],d=0,q=0,x,w=function(){z&&('"'===l.substr(0,1)&&(l=l.substr(1,l.length-2)),l&&E.push(l),"-"===z.substr(0,1)&&0<(h=z.indexOf("-",1)+1)&&(c=z.substr(0,h),z=z.substr(h)),
k.push({prefix:c,method:z.toLowerCase(),value:e,args:E,image:null}));E=[];z=c=l=e=""};var E=[];var z=c=l=e="";a.split("").forEach(function(u){if(!(0===d&&-1<" \r\n\t".indexOf(u))){switch(u){case '"':x?x===u&&(x=null):x=u;break;case "(":if(!x){if(0===d){d=1;e+=u;return}q++}break;case ")":if(!x&&1===d){if(0===q){d=0;e+=u;w();return}q--}break;case ",":if(!x){if(0===d){w();return}if(1===d&&0===q&&!z.match(/^url$/i)){E.push(l);l="";e+=u;return}}}e+=u;0===d?z+=u:l+=u}});w();return k}},{}],27:[function(n,
p,f){function a(c){l.apply(this,arguments);this.type="linear"===c.args[0]?l.TYPES.LINEAR:l.TYPES.RADIAL}var l=n("./gradientcontainer");a.prototype=Object.create(l.prototype);p.exports=a},{"./gradientcontainer":9}],28:[function(n,p,f){p.exports=function(a){return new Promise(function(l,c){var h=new XMLHttpRequest;h.open("GET",a);h.onload=function(){200===h.status?l(h.responseText):c(Error(h.statusText))};h.onerror=function(){c(Error("Network Error"))};h.send()})}},{}]},{},[4])(4)}();!0;(function(m){var n=
function(){function p(c){var h,e;this.data=c;this.pos=8;this.palette=[];this.imgData=[];this.transparency={};this.animation=null;this.text={};for(e=null;;){var k=this.readUInt32();var d=c=void 0;c=[];for(d=0;4>d;++d)c.push(String.fromCharCode(this.data[this.pos++]));c=c.join("");switch(c){case "IHDR":this.width=this.readUInt32();this.height=this.readUInt32();this.bits=this.data[this.pos++];this.colorType=this.data[this.pos++];this.compressionMethod=this.data[this.pos++];this.filterMethod=this.data[this.pos++];
this.interlaceMethod=this.data[this.pos++];break;case "acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||Infinity,frames:[]};break;case "PLTE":this.palette=this.read(k);break;case "fcTL":e&&this.animation.frames.push(e);this.pos+=4;e={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()};c=this.readUInt16();k=this.readUInt16()||100;e.delay=1E3*c/k;e.disposeOp=this.data[this.pos++];e.blendOp=this.data[this.pos++];e.data=[];
break;case "IDAT":case "fdAT":"fdAT"===c&&(this.pos+=4,k-=4);c=(null!=e?e.data:void 0)||this.imgData;for(d=0;0<=k?d<k:d>k;0<=k?++d:--d)c.push(this.data[this.pos++]);break;case "tRNS":this.transparency={};switch(this.colorType){case 3:c=this.palette.length/3;this.transparency.indexed=this.read(k);if(this.transparency.indexed.length>c)throw Error("More transparent colors than palette size");k=c-this.transparency.indexed.length;if(0<k)for(c=0;0<=k?c<k:c>k;0<=k?++c:--c)this.transparency.indexed.push(255);
break;case 0:this.transparency.grayscale=this.read(k)[0];break;case 2:this.transparency.rgb=this.read(k)}break;case "tEXt":d=this.read(k);k=d.indexOf(0);c=String.fromCharCode.apply(String,d.slice(0,k));this.text[c]=String.fromCharCode.apply(String,d.slice(k+1));break;case "IEND":e&&this.animation.frames.push(e);a:{switch(this.colorType){case 0:case 3:case 4:e=1;break a;case 2:case 6:e=3;break a}e=void 0}this.colors=e;this.hasAlphaChannel=4===(h=this.colorType)||6===h;h=this.colors+(this.hasAlphaChannel?
1:0);this.pixelBitlength=this.bits*h;a:{switch(this.colors){case 1:h="DeviceGray";break a;case 3:h="DeviceRGB";break a}h=void 0}this.colorSpace=h;this.imgData=new Uint8Array(this.imgData);return;default:this.pos+=k}this.pos+=4;if(this.pos>this.data.length)throw Error("Incomplete or corrupt PNG file");}}p.load=function(c,h,e){"function"===typeof h&&(e=h);var k=new XMLHttpRequest;k.open("GET",c,!0);k.responseType="arraybuffer";k.onload=function(){var d=new Uint8Array(k.response||k.mozResponseArrayBuffer);
d=new p(d);"function"===typeof(null!=h?h.getContext:void 0)&&d.render(h);return"function"===typeof e?e(d):void 0};return k.send(null)};p.prototype.read=function(c){var h;var e=[];for(h=0;0<=c?h<c:h>c;0<=c?++h:--h)e.push(this.data[this.pos++]);return e};p.prototype.readUInt32=function(){var c=this.data[this.pos++]<<24;var h=this.data[this.pos++]<<16;var e=this.data[this.pos++]<<8;var k=this.data[this.pos++];return c|h|e|k};p.prototype.readUInt16=function(){var c=this.data[this.pos++]<<8;var h=this.data[this.pos++];
return c|h};p.prototype.decodePixels=function(c){var h,e,k,d,q,x,w,E;null==c&&(c=this.imgData);if(0===c.length)return new Uint8Array(0);c=new S(c);c=c.getBytes();var z=this.pixelBitlength/8;var u=z*this.width;var y=new Uint8Array(u*this.height);var G=c.length;for(e=d=q=0;d<G;){switch(c[d++]){case 0:for(k=h=0;h<u;k=h+=1)y[e++]=c[d++];break;case 1:for(k=x=0;x<u;k=x+=1){h=c[d++];var Q=k<z?0:y[e-z];y[e++]=(h+Q)%256}break;case 2:for(k=Q=0;Q<u;k=Q+=1){h=c[d++];var V=(k-k%z)/z;x=q&&y[(q-1)*u+V*z+k%z];y[e++]=
(x+h)%256}break;case 3:for(k=E=0;E<u;k=E+=1)h=c[d++],V=(k-k%z)/z,Q=k<z?0:y[e-z],x=q&&y[(q-1)*u+V*z+k%z],y[e++]=(h+Math.floor((Q+x)/2))%256;break;case 4:for(k=E=0;E<u;k=E+=1){h=c[d++];V=(k-k%z)/z;Q=k<z?0:y[e-z];0===q?x=w=0:(x=y[(q-1)*u+V*z+k%z],w=V&&y[(q-1)*u+(V-1)*z+k%z]);var M=Q+x-w;k=Math.abs(M-Q);V=Math.abs(M-x);M=Math.abs(M-w);Q=k<=V&&k<=M?Q:V<=M?x:w;y[e++]=(h+Q)%256}break;default:throw Error("Invalid filter algorithm: "+c[d-1]);}q++}return y};p.prototype.decodePalette=function(){var c,h,e,k,
d;var q=this.palette;var x=this.transparency.indexed||[];var w=new Uint8Array((x.length||0)+q.length);var E=e=c=h=0;for(k=q.length;e<k;E=e+=3)w[h++]=q[E],w[h++]=q[E+1],w[h++]=q[E+2],w[h++]=null!=(d=x[c++])?d:255;return w};p.prototype.copyToImageData=function(c,h){var e,k;var d=this.colors;var q=null;var x=this.hasAlphaChannel;this.palette.length&&(q=null!=(e=this._decodedPalette)?e:this._decodedPalette=this.decodePalette(),d=4,x=!0);c=c.data||c;var w=c.length;var E=q||h;e=k=0;if(1===d)for(;e<w;)d=
q?4*h[e/4]:k,k=E[d++],c[e++]=k,c[e++]=k,c[e++]=k,c[e++]=x?E[d++]:255,k=d;else for(;e<w;)d=q?4*h[e/4]:k,c[e++]=E[d++],c[e++]=E[d++],c[e++]=E[d++],c[e++]=x?E[d++]:255,k=d};p.prototype.decode=function(){var c=new Uint8Array(this.width*this.height*4);this.copyToImageData(c,this.decodePixels());return c};try{var f=m.document.createElement("canvas");var a=f.getContext("2d")}catch(c){return-1}var l=function(c){a.width=c.width;a.height=c.height;a.clearRect(0,0,c.width,c.height);a.putImageData(c,0,0);c=new Image;
c.src=f.toDataURL();return c};p.prototype.decodeFrames=function(c){var h,e;if(this.animation){var k=this.animation.frames;var d=[];var q=h=0;for(e=k.length;h<e;q=++h){q=k[q];var x=c.createImageData(q.width,q.height);var w=this.decodePixels(new Uint8Array(q.data));this.copyToImageData(x,w);q.imageData=x;d.push(q.image=l(x))}return d}};p.prototype.renderFrame=function(c,h){var e=this.animation.frames;var k=e[h];e=e[h-1];0===h&&c.clearRect(0,0,this.width,this.height);1===(null!=e?e.disposeOp:void 0)?
c.clearRect(e.xOffset,e.yOffset,e.width,e.height):2===(null!=e?e.disposeOp:void 0)&&c.putImageData(e.imageData,e.xOffset,e.yOffset);0===k.blendOp&&c.clearRect(k.xOffset,k.yOffset,k.width,k.height);return c.drawImage(k.image,k.xOffset,k.yOffset)};p.prototype.animate=function(c){var h,e=this;var k=0;var d=this.animation;var q=d.numFrames;var x=d.frames;var w=d.numPlays;return(h=function(){var E=k++%q;var z=x[E];e.renderFrame(c,E);if(1<q&&k/q<w)return e.animation._timeout=setTimeout(h,z.delay)})()};
p.prototype.stopAnimation=function(){var c;return clearTimeout(null!=(c=this.animation)?c._timeout:void 0)};p.prototype.render=function(c){c._png&&c._png.stopAnimation();c._png=this;c.width=this.width;c.height=this.height;c=c.getContext("2d");if(this.animation)return this.decodeFrames(c),this.animate(c);var h=c.createImageData(this.width,this.height);this.copyToImageData(h,this.decodePixels());return c.putImageData(h,0,0)};return p}();m.AcroForm.PNG=n})("undefined"!==typeof window&&window||void 0);
var la=function(){function m(){this.bufferLength=this.pos=0;this.eof=!1;this.buffer=null}m.prototype={ensureBuffer:function(n){var p=this.buffer,f=p?p.byteLength:0;if(n<f)return p;for(var a=512;a<n;)a<<=1;n=new Uint8Array(a);for(a=0;a<f;++a)n[a]=p[a];return this.buffer=n},getByte:function(){for(var n=this.pos;this.bufferLength<=n;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(n){var p=this.pos;if(n){this.ensureBuffer(p+n);for(n=p+n;!this.eof&&this.bufferLength<
n;)this.readBlock();var f=this.bufferLength;n>f&&(n=f)}else{for(;!this.eof;)this.readBlock();n=this.bufferLength}this.pos=n;return this.buffer.subarray(p,n)},lookChar:function(){for(var n=this.pos;this.bufferLength<=n;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var n=this.pos;this.bufferLength<=n;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(n,p,f){for(var a=
n+p;this.bufferLength<=a&&!this.eof;)this.readBlock();return new Stream(this.buffer,n,p,f)},skip:function(n){n||(n=1);this.pos+=n},reset:function(){this.pos=0}};return m}(),S=function(){function m(h){throw Error(h);}function n(h){var e=0,k=h[e++],d=h[e++];-1!=k&&-1!=d||m("Invalid header in flate stream");8!=(k&15)&&m("Unknown compression method in flate stream");0!=((k<<8)+d)%31&&m("Bad FCHECK in flate stream");d&32&&m("FDICT bit set in flate stream");this.bytes=h;this.bytesPos=e;this.codeBuf=this.codeSize=
0;la.call(this)}if("undefined"!==typeof Uint32Array){var p=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),a=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,
868353,876545]),l=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59E4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,
524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,
589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,
589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,
590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,
524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,
589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,
589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],c=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];n.prototype=Object.create(la.prototype);n.prototype.getBits=function(h){for(var e=this.codeSize,k=this.codeBuf,d=this.bytes,q=this.bytesPos,x;e<h;)"undefined"==typeof(x=
d[q++])&&m("Bad encoding in flate stream"),k|=x<<e,e+=8;this.codeBuf=k>>h;this.codeSize=e-=h;this.bytesPos=q;return k&(1<<h)-1};n.prototype.getCode=function(h){var e=h[0],k=h[1];h=this.codeSize;for(var d=this.codeBuf,q=this.bytes,x=this.bytesPos;h<k;){var w;"undefined"==typeof(w=q[x++])&&m("Bad encoding in flate stream");d|=w<<h;h+=8}k=e[d&(1<<k)-1];e=k>>16;k&=65535;(0==h||h<e||0==e)&&m("Bad encoding in flate stream");this.codeBuf=d>>e;this.codeSize=h-e;this.bytesPos=x;return k};n.prototype.generateHuffmanTable=
function(h){for(var e=h.length,k=0,d=0;d<e;++d)h[d]>k&&(k=h[d]);for(var q=1<<k,x=new Uint32Array(q),w=1,E=0,z=2;w<=k;++w,E<<=1,z<<=1)for(var u=0;u<e;++u)if(h[u]==w){var y=0,G=E;for(d=0;d<w;++d)y=y<<1|G&1,G>>=1;for(d=y;d<q;d+=z)x[d]=w<<16|u;++E}return[x,k]};n.prototype.readBlock=function(){function h(y,G,Q,V,M){for(y=y.getBits(Q)+V;0<y--;)G[E++]=M}var e=this.getBits(3);e&1&&(this.eof=!0);e>>=1;if(0==e){var k=this.bytes,d=this.bytesPos,q;"undefined"==typeof(q=k[d++])&&m("Bad block header in flate stream");
var x=q;"undefined"==typeof(q=k[d++])&&m("Bad block header in flate stream");x|=q<<8;"undefined"==typeof(q=k[d++])&&m("Bad block header in flate stream");e=q;"undefined"==typeof(q=k[d++])&&m("Bad block header in flate stream");(e|q<<8)!=(~x&65535)&&m("Bad uncompressed block length in flate stream");this.codeSize=this.codeBuf=0;q=this.bufferLength;e=this.ensureBuffer(q+x);this.bufferLength=x=q+x;for(var w=q;w<x;++w){if("undefined"==typeof(q=k[d++])){this.eof=!0;break}e[w]=q}this.bytesPos=d}else{if(1==
e)d=l,q=c;else if(2==e){e=this.getBits(5)+257;q=this.getBits(5)+1;k=this.getBits(4)+4;d=Array(p.length);for(var E=0;E<k;)d[p[E++]]=this.getBits(3);d=this.generateHuffmanTable(d);E=k=0;q=e+q;for(x=Array(q);E<q;)w=this.getCode(d),16==w?h(this,x,2,3,k):17==w?h(this,x,3,3,k=0):18==w?h(this,x,7,11,k=0):x[E++]=k=w;d=this.generateHuffmanTable(x.slice(0,e));q=this.generateHuffmanTable(x.slice(e,q))}else m("Unknown block type in flate stream");x=(e=this.buffer)?e.length:0;for(w=this.bufferLength;;){var z=
this.getCode(d);if(256>z)w+1>=x&&(e=this.ensureBuffer(w+1),x=e.length),e[w++]=z;else{if(256==z){this.bufferLength=w;break}z-=257;z=f[z];var u=z>>16;0<u&&(u=this.getBits(u));k=(z&65535)+u;z=this.getCode(q);z=a[z];u=z>>16;0<u&&(u=this.getBits(u));z=(z&65535)+u;w+k>=x&&(e=this.ensureBuffer(w+k),x=e.length);for(u=0;u<k;++u,++w)e[w]=e[w-z]}}}};return n}}();String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/,"")});String.prototype.trimRight||(String.prototype.trimRight=
function(){return this.replace(/\s\s*$/,"")});return N}})})},"widgets/PublicNotification/Download_CSV":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/Deferred"],function(xa,sa,ha){return sa(null,{save:function(ia,T){var N=new ha;ia=xa.map(ia,function(D){return'"'+D.join('","')+'"\n'});T=this._createAndSaveCSV(ia,T);N.resolve(T);return N},_createAndSaveCSV:function(ia,T){ia=new Blob(ia,{type:"text/csv"});if(T)if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(ia,T+".csv");
else{var N=window.document.createElement("a");N.href=window.URL.createObjectURL(ia);N.download=T+".csv";document.body.appendChild(N);N.click();document.body.removeChild(N);window.URL.revokeObjectURL(ia)}return ia}})})},"widgets/PublicNotification/Highlighter":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/Deferred esri/graphic esri/symbols/SimpleFillSymbol esri/symbols/SimpleLineSymbol esri/symbols/SimpleMarkerSymbol".split(" "),function(xa,sa,ha,ia,T,N,D,ja){return sa([],
{constructor:function(ca){this._drawingChunkSize="number"===typeof ca?ca:100},createGraphic:function(ca,la){function S(a,l){var c;a.getLayer&&(c=a.getLayer())&&(a=a.getLayer()._getSymbol(a),!a||isNaN(a.width)||isNaN(a.height)||(l=1+Math.max(a.width,a.height)));return l}var m=null,n=10;if(ca)if(ca.geometry){var p=ca.geometry;var f=p.type}else if(p=ca,p.hasOwnProperty("x")&&p.hasOwnProperty("y"))f="point";else if(p.hasOwnProperty("paths"))f="polyline";else if(p.hasOwnProperty("rings"))f="polygon";else if(p.hasOwnProperty("points"))f=
"multipoint";else return null;else return null;switch(f){case "point":if(isNaN(p.x)||isNaN(p.y))return null;n=S(ca,n);m=new T(p,new ja(ja.STYLE_SQUARE,n,new D(D.STYLE_SOLID,la.point.lineColor,la.point.lineWidth),la.point.fillColor));break;case "polyline":m=new T(p,new D(D.STYLE_SOLID,la.line.lineColor,la.line.lineWidth));break;case "polygon":m=new T(p,new N(N.STYLE_SOLID,new D(D.STYLE_SOLID,la.polygon.lineColor,la.polygon.lineWidth),la.polygon.fillColor));break;case "multipoint":n=S(ca,n),m=new T(p,
new ja(ja.STYLE_SQUARE,n,new D(D.STYLE_SOLID,la.point.lineColor,la.point.lineWidth),la.point.fillColor))}return m},highlightFeatures:function(ca,la,S,m,n){var p=new ia;if(0<ca.length)if(ca.length<=this._drawingChunkSize)this._highlightFeatures(ca,la,S,m).then(function(){p.resolve(!0)});else{n(0);var f=Math.ceil(ca.length/this._drawingChunkSize);setTimeout(ha.hitch(this,function(){this._highlightFeaturesContinuation(ca,la,S,m,n,this._drawingChunkSize,f,0,0).then(function(){p.resolve(!0)})}),50)}else p.resolve(!0);
return p},_highlightFeaturesContinuation:function(ca,la,S,m,n,p,f,a,l){var c=new ia;if(l>=ca.length)return c.resolve(!0),c;var h=Math.min(l+p,ca.length);this._highlightFeatures(ca.slice(l,h),la,S,m).then(ha.hitch(this,function(){++a;n(100*a/f);setTimeout(ha.hitch(this,function(){this._highlightFeaturesContinuation(ca,la,S,m,n,this._drawingChunkSize,f,a,h).then(function(){c.resolve(!0)})}),10)}));return c},_highlightFeatures:function(ca,la,S,m){var n=new ia;xa.forEach(ca,function(p){la(p,S,m)},this);
n.resolve(!0);return n}})})},"widgets/PublicNotification/labelFormatUtils":function(){define("dojo/_base/array dojo/_base/kernel dojo/_base/lang dojo/Deferred dojo/promise/all esri/arcade/arcade esri/arcade/Feature esri/support/expressionUtils esri/arcadeProfiles/utils esri/graphic ./generalUtils".split(" "),function(xa,sa,ha,ia,T,N,D,ja,ca,la,S){var m={convertPopupToLabelSpec:function(n){var p=[];var f=n.description;var a=n.fieldInfos;var l=n.expressionInfos;n=S.sanitizeNoTags(m.convertBreaksToEOLs(m.convertEndParasToEOLs(f))).trim();
n=n.replace(/\{/gi,"${");n=n.replace(/\u00a0/gi," ");n=n.split("\n");n=xa.map(n,function(c){var h="";c=c.replace(/\{([^}]+)\}/g,function(e,k){var d;xa.some(a,function(q){if(q.fieldName.toLowerCase()===k.toLowerCase()){d=q.fieldName;var x=q.label||q.fieldName;if(!q.hasOwnProperty("label")&&l)for(q=0;q<l.length;q++)x==="expression/"+l[q].name&&(x=l[q].title);h=""===h?x:h+" "+x;return!0}});return d?k?"{"+d+"}":e:k?"{"+k+"}":e});p.push(h);return c.trim()});n.csvHeaderRow=p;return n},createLabelsFromFeatures:function(n,
p,f,a){var l=new ia,c=[],h=[],e=0;m.layer=f;m.map=a;m.expressionInfos=p.expressionInfos;if(p.relationships)xa.forEach(n,function(d){m.objEach(p.relationships,function(q,x){var w=new ia,E=q.relatedQuery;h.push(w);var z=d.attributes[q.operLayer.layerObject.objectIdField];E.objectIds=[z];q.operLayer.layerObject.queryRelatedFeatures(E,function(u){var y=[];u[z]&&u[z].features&&(u=u[z].features,xa.forEach(u,function(G){var Q;var V=d.attributes;var M="relationships/"+x+"/";m.objEach(G.attributes,function(O,
H){Q=M+H;V[Q]=O});G=new la(d.geometry,null,V);y.push(m.populateLabelLines(G,p))}));T(y).then(function(G){w.resolve(G)})})})}),T(h).then(function(d){xa.forEach(d,function(q){xa.forEach(q,function(x){++e;c.push(x)})});console.log(e+" related address features found");l.resolve(c)});else{var k=[];xa.forEach(n,function(d){k.push(m.populateLabelLines(d,p))});T(k).then(function(d){l.resolve(d)})}return l},populateLabelLines:function(n,p){var f=new ia,a=[];m.combineFeatureAttributesAndExpressionResolutions(n,
p.parsedExpressions).then(function(l){xa.forEach(p,function(c){a.push(m.substitute(c,l,m.useEmptyStringForNull))});f.resolve(a)});return f.promise},substitute:function(n,p,f){var a=sa.global;f=f?ha.hitch(a,f):function(l){return l};return n.replace(/\$\{([^\s:\}]*)(?::([^\s:\}]+))?\}/g,function(l,c){if(""===c)return"$";l=f(p[c],c);if("undefined"===typeof l)throw Error('string.substitute could not find key "'+c+'" in template');return l.toString()})},parseArcadeExpressions:function(n){if(Array.isArray(n)&&
0<n.length){var p={};xa.forEach(n,function(f){p[f.name]=N.parseScript(f.expression)})}return p},initArcadeContext:function(n){var p=null,f=null,a=null,l=null;m.expressionInfos&&(a=m.expressionInfos);m.map&&(f=m.map);m.layer&&m.layer.layerObject&&(p=m.layer.layerObject);n&&n.geometry&&n.geometry.spatialReference&&(l=n.geometry.spatialReference);return m.getEvalOptions({expression:a,feature:n,layer:p,map:f,sr:l}).context},getEvalOptions:function(n){var p=n.feature,f=n.layer,a=n.map;n=n.spatialReference;
p=p?D.createFromGraphicLikeObject(p.geometry,p.attributes,f):null;if(f){var l={spatialReference:n};var c=f.getMap()?ja.createFeatureSetFromLayer(f,l):ja.createFeatureSetFromLayerUrl(f.url,l);l=(f=ca.getServiceUrl(f.url))?ja.createFeatureSetCollectionFromServiceUrl(f,l):null}a=a?ja.createFeatureSetCollectionFromMap(a):null;return{context:{vars:{$feature:p,$layer:c,$datastore:l,$map:a},spatialReference:n}}},combineFeatureAttributesAndExpressionResolutions:function(n,p){var f=new ia,a=[],l;var c=ha.mixin({},
n.attributes);if(p){n=m.initArcadeContext(n);for(l in p)a.push(m.executeArcadeExpression(l,p[l],n,c));T(a).then(function(){f.resolve(c)})}else f.resolve(c);return f.promise},executeArcadeExpression:function(n,p,f,a){var l=new ia;(p=N.executeScript(p,f))&&p.then?p.then(function(c){a["expression/"+n]=c?c.toString():"";l.resolve(c)},function(c){a["expression/"+n]=c?c.toString():"";l.resolve(c)}):(a["expression/"+n]=p?p.toString():"",l.resolve(p));return l.promise},convertEndParasToEOLs:function(n){var p=
n;n=n.match(/<\/p>/gi);xa.forEach(n,function(f){p=p.replace(f,"\n")});return p},convertBreaksToEOLs:function(n){var p=n;n=n.match(/<br\s*\/?>/gi);xa.forEach(n,function(f){p=p.replace(f,"\n")});return p},useEmptyStringForNull:function(n){return n?n:""},objEach:function(n,p,f){for(var a in n)n.hasOwnProperty(a)&&p.call(f,n[a],a)}};return m})},"widgets/PublicNotification/generalUtils":function(){define(["jimu/utils"],function(xa){return{sanitizeNoTags:function(sa){if(!sa)return sa;var ha=xa.sanitizeHTML(sa);
sa=RegExp("\x3c(?:!--(?:(?:-*[^-\x3e])*--+|-?)|script\\b(?:[^\"'\x3e]|\"[^\"]*\"|'[^']*')*\x3e[\\s\\S]*?\x3c/script\\s*|style\\b(?:[^\"'\x3e]|\"[^\"]*\"|'[^']*')*\x3e[\\s\\S]*?\x3c/style\\s*|/?[a-z](?:[^\"'\x3e]|\"[^\"]*\"|'[^']*')*)\x3e","gi");do{var ia=ha;ha=ha.replace(sa,"")}while(ha!==ia);return ha=ha.replace(/</g,"\x26lt;").trim()}}})},"widgets/PublicNotification/Queryer":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/DeferredList esri/geometry/geometryEngineAsync esri/tasks/BufferParameters esri/tasks/GeometryService esri/tasks/query esri/tasks/QueryTask".split(" "),
function(xa,sa,ha,ia,T,N,D,ja,ca,la){return sa([],{constructor:function(S,m){this.map=S;this._geometryService=new ja(m)},createUnionOfGeometries:function(S){var m=new ia;if(!Array.isArray(S))return m.reject("No geometries to buffer"),m;N.union(S).then(ha.hitch(this,function(n){n?m.resolve(n):m.reject("Unioning failed")}),ha.hitch(this,function(){m.reject("Unioning failed")}));return m},bufferGeometries:function(S,m){var n=new ia;if(!Array.isArray(S))return n.reject("No geometries to buffer"),n;var p=
new D;p.bufferSpatialReference=this.map.spatialReference;p.distances=m;p.unionResults=!0;p.geodesic=!0;p.geometries=S;p.outSpatialReference=this.map.spatialReference;p.unit=ja.UNIT_METER;this._geometryService.buffer(p,function(f){Array.isArray(f)&&0<f.length?n.resolve(f[0]):n.reject("Buffering failed")},function(f){n.reject("Buffering failed: "+f)});return n},groupGeometriesByType:function(S){var m=[],n=[],p=[],f=[],a=[],l=new ia;0<S.length?(xa.forEach(S,ha.hitch(this,function(c){"point"===c.type?
(m.push(c),f.push(.2)):"polyline"===c.type?(n.push(c),a.push(.2)):"polygon"===c.type&&p.push(c)})),S=[],0<m.length&&S.push(this.bufferGeometries(m,f)),0<n.length&&S.push(this.bufferGeometries(n,a)),0<S.length?(new T(S)).then(ha.hitch(this,function(c){if(0<c.length){for(var h=0;h<c.length;h++)p.push(c[h][1]);l.resolve(p)}}),function(c){l.reject("Buffering point/line geometires failed: "+c)}):l.resolve(p)):l.resolve(S);return l},createBufferFromGeometries:function(S,m){var n,p;var f=new ia;if(!Array.isArray(S)||
0>=S.length)return f.reject("No geometries to buffer"),f;this.groupGeometriesByType(S).then(ha.hitch(this,function(a){n=m;N.union(a).then(ha.hitch(this,function(l){l?0<n||"polygon"===l.type?(0===n&&(n=-.1),p=new D,p.bufferSpatialReference=this.map.spatialReference,p.distances=[n],p.geodesic=!0,p.geometries=[l],p.outSpatialReference=this.map.spatialReference,p.unit=ja.UNIT_METER,this._geometryService.buffer(p,function(c){Array.isArray(c)&&0<c.length?f.resolve(c[0]):f.reject("Buffering failed")},function(c){f.reject("Buffering failed: "+
c)})):f.resolve(l):f.reject("Unioning failed")}),function(l){f.reject(l)})}));return f},findIntersectingFeatures:function(S,m,n,p,f){var a=new ia,l={};m=new la(m);var c=new ca;S&&(c.geometry=S);c.returnGeometry=!0;c.outFields=n;p&&(c.where=p);f&&(c.outSpatialReference=f);m.execute(c,ha.hitch(this,function(h){h&&Array.isArray(h.features)&&0<h.features.length?N.union(this._getFeatureGeometries(h.features)).then(ha.hitch(this,function(e){if(Array.isArray(e.rings)&&0<e.rings.length){var k=new D;k.bufferSpatialReference=
this.map.spatialReference;k.distances=[-.1];k.geodesic=!0;k.geometries=[e];k.outSpatialReference=this.map.spatialReference;k.unit=ja.UNIT_METER;this._geometryService.buffer(k,function(d){Array.isArray(d)&&0<d.length?(l.intersectGeometry=S,l.features=h.features,l.highlight=d[0],a.resolve(l)):a.reject("Buffering union failed")})}else l.intersectGeometry=S,l.features=h.features,l.highlight=e,a.resolve(l)})):(l.intersectGeometry=S,l.features=[],l.highlight=null,a.resolve(l))}),function(h){a.reject(h)});
return a},find:function(S,m,n,p,f){var a=new ia;this.findIntersectingFeatures(S,m,n,f).then(ha.hitch(this,function(l){console.log(l.features.length+" "+p+" features found");a.resolve(l)}),function(l){a.reject(l)});return a},_getFeatureGeometries:function(S){return xa.map(S,ha.hitch(this,function(m){return m.geometry}))}})})},"widgets/PublicNotification/SearchLayers":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/on dojo/when dojo/promise/all jimu/BaseWidget jimu/portalUtils jimu/utils esri/lang esri/request esri/dijit/Search esri/tasks/locator esri/layers/FeatureLayer esri/InfoTemplate".split(" "),
function(xa,sa,ha,ia,T,N,D,ja,ca,la,S,m,n,p,f,a){return xa([ja],{baseClass:"jimu-search-layers",declaredClass:"jimu.dijit.SearchLayers",_searchDijitReady:null,_searchDijit:null,_layerInfosObj:null,_esriLocatorRegExp:/geocode(.){0,3}\.arcgis.com\/arcgis\/rest\/services\/World\/GeocodeServer/g,_mainWidgetNode:null,constructor:function(l,c,h,e,k){this._mainWidgetNode=k;this._searchDijitReady=new ia;this._layerInfosObj=h;this.own(h.on("layerInfosFilterChanged",sa.hitch(this,this._onLayerInfosFilterChanged)));
N(this._getConfigInfo(l,c)).then(sa.hitch(this,function(d){return D(this._convertConfig(d)).then(function(q){return ha.filter(q,function(x){return x})})})).then(sa.hitch(this,function(d){l.sources=d;this._searchDijit=new n(l,e);this._searchDijit.startup();this.setFocus();this._searchDijitReady.resolve(this._searchDijit)}))},searchDijit:function(){return this._searchDijitReady},setFocus:function(){this._searchDijit&&(this._mainWidgetNode.openAtStartAysn=!0,la.isAutoFocusFirstNodeWidget(this._mainWidgetNode)&&
this._searchDijit.inputNode.focus())},destroy:function(){this._searchDijit&&(this._searchDijit.destroy(),this._searchDijit=null);this.inherited(arguments)},_onLayerInfosFilterChanged:function(l){ha.some(l,sa.hitch(this,function(c){this._searchDijit&&this._searchDijit.sources&&0<this._searchDijit.sources.length&&ha.forEach(this._searchDijit.sources,function(h){h._featureLayerId===c.id&&h.featureLayer.setDefinitionExpression(c.getFilter())})}))},_getConfigInfo:function(l,c){return l&&l.sources&&0<l.sources.length?
(c=null,this._searchLayer(l.map)&&l.upgradeFromGeocoder?(c=l.map.itemInfo.itemData.applicationProperties.viewing.search,c=ha.map(c.layers,sa.hitch(this,function(h,e){e.hintText=h;return this._getQueryTypeGeocoder(l.map,e)},c.hintText)),D(c).then(sa.hitch(this,function(h){l.sources=[].concat(h).concat(l.sources);return l}))):l):N(this._getSourcesFromPortalAndWebmap(l.map,c)).then(sa.hitch(this,function(h){return{allPlaceholder:"",showInfoWindowOnSelect:!1,sources:h}}))},_convertConfig:function(l){return ha.map(l.sources,
sa.hitch(this,function(c){var h=new ia;if(c&&c.url&&"locator"===c.type){var e={locator:new p(c.url||""),outFields:["*"],singleLineFieldName:c.singleLineFieldName||"",name:la.stripHTML(c.name||""),placeholder:la.stripHTML(c.placeholder||""),countryCode:c.countryCode||"",maxSuggestions:c.maxSuggestions,maxResults:c.maxResults||6,zoomScale:c.zoomScale||5E4,useMapExtent:!!c.searchInCurrentMapExtent};c.enableLocalSearch&&(e.localSearchOptions={minScale:c.localSearchMinScale,distance:c.localSearchDistance});
h.resolve(e)}else c&&c.url&&"query"===c.type?(e=new f(c.url||null,{outFields:["*"]}),this.own(T(e,"load",sa.hitch(this,function(k){var d=k.layer,q=this._getInfoTemplate(d,c,c.displayField),x=null;c.searchFields&&0<c.searchFields.length?x=c.searchFields:(x=[],ha.forEach(d.fields,function(w){"esriFieldTypeOID"!==w.type&&w.name!==d.objectIdField&&"esriFieldTypeGeometry"!==w.type&&x.push(w.name)}));k={featureLayer:d,outFields:["*"],searchFields:x,displayField:c.displayField||"",exactMatch:!!c.exactMatch,
name:la.stripHTML(c.name||""),placeholder:la.stripHTML(c.placeholder||""),maxSuggestions:c.maxSuggestions||6,maxResults:c.maxResults||6,zoomScale:c.zoomScale||5E4,infoTemplate:q,useMapExtent:!!c.searchInCurrentMapExtent,_featureLayerId:c.layerId,enableHighlight:!0,showInfoWindowOnSelect:l.showInfoWindowOnSelect,enableInfoWindow:l.showInfoWindowOnSelect};q||delete k.infoTemplate;k._featureLayerId&&(q=this._layerInfosObj.getLayerInfoById(k._featureLayerId),d.setDefinitionExpression(q.getFilter()));
h.resolve(k)}))),this.own(T(e,"error",function(){h.resolve(null)}))):h.resolve(null);return h}))},_getInfoTemplate:function(l,c,h){var e=this._layerInfosObj.getLayerInfoById(c.layerId),k=e&&e.getInfoTemplate(),d=e&&k;if(e&&!d)return null;d||(k=new a,k.setTitle("\x26nbsp;"),k.setContent(sa.hitch(this,"_formatContent",c.name,l,h)));return k},_getSourcesFromPortalAndWebmap:function(l,c){var h=[],e=null;this._searchLayer(l)&&(e=l.itemInfo.itemData.applicationProperties.viewing.search,ha.forEach(e.layers,
sa.hitch(this,function(k,d){d.hintText=k;h.push(this._getQueryTypeGeocoder(l,d))},e.hintText)));return ca.getPortalSelfInfo(c).then(sa.hitch(this,function(k){if((k=k.helperServices&&k.helperServices.geocode)&&0<k.length)for(var d=0,q=k.length;d<q;d++){var x=k[d];x&&h.push(this._processSingleLine(x))}return D(h).then(sa.hitch(this,function(w){for(var E=[],z=0;z<w.length;z++){var u=w[z];u&&(u&&"query"===u.type?E.push(u):(u={name:u.name||this._getGeocodeName(u.url),url:u.url,singleLineFieldName:u.singleLineFieldName,
placeholder:u.placeholder||u.name||this._getGeocodeName(u.url),maxResults:6,searchInCurrentMapExtent:!1,type:"locator"},u.enableLocalSearch=this._isEsriLocator(u.url),u.localSearchMinScale=3E5,u.localSearchDistance=5E4,E.push(u)))}return E}))}))},_getQueryTypeGeocoder:function(l,c){l=l.getLayer(c.id);var h=null,e=null,k=null;k=S.isDefined(c.subLayer)?c.id+"_"+c.subLayer:c.id;h=this._layerInfosObj.traversal(function(d){return d.id===k?(e=d,!0):!1});return l&&h&&e?(h=S.isDefined(c.subLayer)?e.url||
l.url+"/"+c.subLayer:e.url||l.url,{name:e.title,layerId:k,url:h,placeholder:c.hintText,searchFields:[c.field.name],displayField:c.field.name,exactMatch:c.field.exactMatch||!1,maxResults:6,searchInCurrentMapExtent:!1,type:"query"}):null},_isEsriLocator:function(l){this._esriLocatorRegExp.lastIndex=0;return this._esriLocatorRegExp.test(l)},_processSingleLine:function(l){if(l.singleLineFieldName)return l;if(this._isEsriLocator(l.url))return l.singleLineFieldName="SingleLine",l;var c=new ia;m({url:l.url,
content:{f:"json"},handleAs:"json",callbackParamName:"callback"}).then(sa.hitch(this,function(h){h.singleLineAddressField&&h.singleLineAddressField.name?(l.singleLineFieldName=h.singleLineAddressField.name,c.resolve(l)):(console.warn(l.url+"has no singleLineFieldName"),c.resolve(null))}),sa.hitch(this,function(h){console.error(h);c.resolve(null)}));return c.promise},_getGeocodeName:function(l){if("string"!==typeof l)return"geocoder";l=l.split("/");return l[l.length-2]||"geocoder"},_getGeocoderName:function(l){return this._getGeocodeName(l)},
_hasAppSearchInfo:function(l){return l.itemInfo&&l.itemInfo.itemData&&l.itemInfo.itemData.applicationProperties&&l.itemInfo.itemData.applicationProperties.viewing&&l.itemInfo.itemData.applicationProperties.viewing.search},_searchLayer:function(l){if(!this._hasAppSearchInfo(l))return!1;l=l.itemInfo.itemData.applicationProperties.viewing.search;return l.enabled&&0!==l.layers.length?!0:!1}})})},"esri/dijit/Search":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Evented dojo/Deferred dojo/keys dojo/on dojo/query dojo/uacss dojo/regexp dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/date/locale dojo/i18n!../nls/jsapi dojo/text!./Search/templates/Search.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/_FocusMixin dijit/a11yclick dijit/focus ../lang ../InfoTemplate ../kernel ../SpatialReference ../graphic ../promiseList ../symbols/PictureMarkerSymbol ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../symbols/TextSymbol ../symbols/Font ../geometry/Point ../geometry/Extent ../geometry/normalizeUtils ../geometry/scaleUtils ../tasks/locator ../tasks/query ../Color ../styles/basic".split(" "),
function(xa,sa,ha,ia,T,N,D,ja,ca,la,S,m,n,p,f,a,l,c,h,e,k,d,q,x,w,E,z,u,y,G,Q,V,M,O,H,A,P,W,X,ba,na,da,Ba,qa){function ya(t,v){t&&v&&(t._layer=v,t._sourceLayer=v)}sa=sa([e,k,d,T],{declaredClass:"esri.dijit.Search",templateString:h,reHostedFS:/https?:\/\/services.*\.arcgis\.com/i,constructor:function(t,v){this.css={searchGroup:"searchGroup",searchInput:"searchInput",searchInputGroup:"searchInputGroup",searchBtn:"searchBtn",searchSubmit:"searchSubmit",searchIcon:"searchIcon esri-icon-search",searchButtonText:"searchButtonText",
searchToggle:"searchToggle",searchToggleIcon:"searchIcon esri-icon-down-arrow",searchMenu:"searchMenu",searchMenuHeader:"menuHeader",searchClear:"searchClear",searchClearIcon:"searchIcon esri-icon-close searchClose",searchSpinner:"searchIcon esri-icon-loading-indicator searchSpinner",searchSourceName:"sourceName",suggestionsMenu:"suggestionsMenu",sourcesMenu:"sourcesMenu",activeSource:"active",hasValue:"hasValue",hasButtonMode:"hasButtonMode",hasMultipleSources:"hasMultipleSources",showSuggestions:"showSuggestions",
showSources:"showSources",showNoResults:"showNoResults",searchLoading:"searchLoading",latLonHeader:"searchLatLongHeader",searchMoreResults:"moreResults",searchMoreResultsList:"resultsList",searchMoreResultsHeader:"moreHeader",searchMoreResultsItem:"moreItem",searchMoreResultsListHeader:"popupHeader",searchShowMoreResults:"showMoreResults",searchNoResultsMenu:"noResultsMenu",searchNoResultsBody:"noResultsBody",searchNoResultsHeader:"noResultsHeader",searchNoValueIcon:"noValueIcon esri-icon-notice-triangle",
searchNoValueText:"noValueText",searchNoResultsText:"noResultsText",searchExpandContainer:"searchExpandContainer",searchAnimateContainer:"searchAnimate",searchExpanded:"searchExpanded",searchCollapsed:"searchCollapsed",searchClearFloat:"searchClearFloat"};this._allIndex="all";this._objectIdIdentifier="_objectId";this._deferreds=[];this._sourceNames=[];this.defaultSource={locator:new na("//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer"),singleLineFieldName:"SingleLine",outFields:["Addr_type",
"Match_addr","StAddr","City"],name:c.widgets.Search.main.esriLocatorName,localSearchOptions:{minScale:3E5,distance:5E4},placeholder:c.widgets.Search.main.placeholder,highlightSymbol:(new Q(xa.toUrl("./Search/images/search-pointer.png"),36,36)).setOffset(9,18)};this.options={map:null,theme:"arcgisSearch",visible:!0,value:"",allPlaceholder:"",sources:[this.defaultSource],activeSourceIndex:0,suggestionDelay:350,enableSourcesMenu:!0,enableSuggestionsMenu:!0,enableInfoWindow:!0,showInfoWindowOnSelect:!0,
enableSuggestions:!0,enableButtonMode:!1,autoNavigate:!0,autoSelect:!0,addLayersFromMap:!1,zoomScale:1E3,graphicsLayer:null,enableHighlight:!0,highlightGraphic:null,enableLabel:!1,labelSymbol:(new H).setColor(new Ba([181,56,46,.9])).setFont(new A("14px",A.STYLE_NORMAL,A.VARIANT_NORMAL,A.WEIGHT_BOLD,"Arial")),labelGraphic:null,infoTemplate:new E(c.widgets.Search.main.searchResult,'\x3cdiv class\x3d"${searchTheme}"\x3e\x3cdiv id\x3d"${searchMoreResultsId}" class\x3d"${searchMoreResults}"\x3e\x3cdiv class\x3d"${searchMoreResultsItem}"\x3e${searchResult}\x3c/div\x3e\x3cdiv\x3e${searchMoreResultsHtml}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),
searchResults:null,suggestResults:null,selectedResult:null,magicKey:null,selectedFeatureId:null,expanded:!1,maxLength:128,maxResults:6,maxSuggestions:6,locationToAddressDistance:1500,minCharacters:3,enableSearchingAll:!0};t=ha.mixin({},this.options,t);this.set(t);this._updateActiveSource();this._i18n=c;this._defaultSR=new u(4326);this.domNode=v},startup:function(){this.inherited(arguments);this.sources||(this.sources=[]);this._mapLoaded().then(ha.hitch(this,this._init))},postCreate:function(){var t=
this;this.inherited(arguments);this._moreResultsId=this.id+"_more_results";this.own(ja(this.submitNode,q,ha.hitch(this,this._searchButton)));this.own(ja(this.sourcesBtnNode,q,ha.hitch(this,this._toggleSourcesMenu)));this.own(ja(this.inputNode,q,ha.hitch(this,this._inputClick)));this.own(ja(this.clearNode,q,ha.hitch(this,this._clearButton)));this.own(ja(this.formNode,"submit",ha.hitch(this,function(v){v.preventDefault();this._cancelSuggest();this.search()})));this.own(ja(this.inputNode,"keyup",ha.hitch(this,
function(v){this._inputKey(v)})));this.own(ja(this.sourcesBtnNode,"keyup",ha.hitch(this,function(v){this._sourceBtnKey(v)})));this.own(ja(this.suggestionsNode,"li:click, li:keyup",function(v){t._suggestionsEvent(v,this)}));this.own(ja(this.sourcesNode,"li:click, li:keyup",function(v){t._sourcesEvent(v,this)}));this.own(ja(this.inputNode,"input, paste",ha.hitch(this,function(){this._suggestDelay()})));this.map&&this.map.infoWindow&&this.map.infoWindow.domNode&&this.enableInfoWindow&&(this.own(ja(this.map.infoWindow.domNode,
"#"+this._moreResultsId+"_show:click",ha.hitch(this,function(v){this._showMoreResultsClick(v)}))),this.own(ja(this.map.infoWindow.domNode,"#"+this._moreResultsId+"_list li a:click",ha.hitch(this,function(v){this._moreResultsClick(v)}))),this.own(ja(this.map.infoWindow.domNode,"#"+this._moreResultsId+" [data-switch-coordinates]:click",ha.hitch(this,function(v){this._switchCoordinatesClick(v)}))));this.value&&this._checkStatus();this._hideMenus();this._updateVisible();this._insertSources(this.sources);
this._setPlaceholder(this.activeSourceIndex);this._updateButtonMode(this.enableButtonMode);this.toggle(this.expanded)},destroy:function(){this.clear();a.empty(this.domNode);this.inherited(arguments)},clear:function(){this.clearGraphics();n.get(this.inputNode,"value")&&n.set(this.inputNode,"value","");this._changeAttrValue("value","");this.set("searchResults",null);this.set("suggestResults",null);this.set("selectedResult",null);this.set("magicKey",null);this.set("selectedFeatureId",null);p.remove(this.containerNode,
this.css.hasValue);n.set(this.clearNode,"title","");this._hideMenus();this._closePopup();this._hideLoading();this.emit("clear-search")},show:function(){f.set(this.domNode,"display","block")},hide:function(){f.set(this.domNode,"display","none")},expand:function(){this.enableButtonMode&&(p.add(this.containerNode,this.css.searchExpanded),p.remove(this.containerNode,this.css.searchCollapsed),this._hideMenus(),this.set("expanded",!0))},collapse:function(){this.enableButtonMode&&(p.remove(this.containerNode,
this.css.searchExpanded),p.add(this.containerNode,this.css.searchCollapsed),this._hideMenus(),this.set("expanded",!1))},toggle:function(t){this.enableButtonMode&&("undefined"===typeof t&&(t=!this.expanded),t?this.expand():this.collapse())},search:function(t){var v=new N;this._mapLoaded().then(ha.hitch(this,function(){this._searchDeferred(t).then(ha.hitch(this,function(F){var C=F.results;this.set("searchResults",C);0===F.numResults&&(this._noResults(F.value),this._showNoResultsMenu());this._hideLoading();
this.emit("search-results",F);this._selectFirstResult(C,F.activeSourceIndex);v.resolve(C)}),ha.hitch(this,function(F){v.reject(F)}))}));return v.promise},suggest:function(t){var v=new N;this._mapLoaded().then(ha.hitch(this,function(){this._suggestDeferred(t).then(ha.hitch(this,function(F){if(F){var C=F.results;this.set("suggestResults",C);this._insertSuggestions(C,F.value);this.emit("suggest-results",F);v.resolve(C)}}),ha.hitch(this,function(F){v.reject(F)}))}));return v.promise},select:function(t){var v=
this._getDefaultSymbol(t),F=this.labelSymbol,C=this.sources,J=this.activeSourceIndex,R=this.enableHighlight,oa=this.enableLabel,aa=this.autoNavigate,wa=this.showInfoWindowOnSelect,B=this.enableInfoWindow,I=this.infoTemplate,L=t.feature?new y(t.feature.toJson()):null,Z=L?t.feature._sourceLayer:null;ya(L,Z);if(J===this._allIndex){var ea=this._getSourceIndexOfResult(t);if(null!==ea){var Y=C[ea];J=ea}}else Y=C[J];Y&&(Y.hasOwnProperty("highlightSymbol")&&(v=Y.highlightSymbol),Y.hasOwnProperty("labelSymbol")&&
(F=Y.labelSymbol),Y.hasOwnProperty("enableHighlight")&&(R=Y.enableHighlight),Y.hasOwnProperty("enableLabel")&&(oa=Y.enableLabel),Y.hasOwnProperty("autoNavigate")&&(aa=Y.autoNavigate),Y.hasOwnProperty("showInfoWindowOnSelect")&&(wa=Y.showInfoWindowOnSelect),Y.hasOwnProperty("enableInfoWindow")&&(B=Y.enableInfoWindow),Y.hasOwnProperty("infoTemplate")?I=Y.infoTemplate:Y.featureLayer&&Y.featureLayer.infoTemplate&&(I=Y.featureLayer.infoTemplate));this._hideMenus();this._hideLoading();if(L){C=this.highlightGraphic;
var va=this.graphicsLayer;ea=this.labelGraphic;var ma=ha.mixin({},L.attributes,{searchTheme:this.theme,searchResult:this._searchResultHTML(t),searchMoreResults:this.css.searchMoreResults,searchMoreResultsItem:this.css.searchMoreResultsItem,searchMoreResultsId:this._moreResultsId,searchMoreResultsHtml:this._moreResultsHTML(t)}),Ea=null;B&&(Ea=I);ea?(ea.setGeometry(L.geometry),ea.setAttributes(ma),ea.setSymbol(F),F&&"textsymbol"===F.type&&ea.symbol.setText(t.name)):(ea=new y(L.geometry,F,ma),ya(ea,
Z),F&&"textsymbol"===F.type&&ea.symbol.setText(t.name),oa&&(va?va.add(ea):this.map&&this.map.graphics&&this.map.graphics.add(ea)));C?(C.setGeometry(L.geometry),C.setAttributes(ma),C.setInfoTemplate(Ea),C.setSymbol(v)):(C=new y(L.geometry,v,ma,Ea),ya(C,Z),R&&(va?va.add(C):this.map&&this.map.graphics&&this.map.graphics.add(C)));C&&C.symbol&&"textsymbol"===C.symbol.type&&C.symbol.setText(t.name);this.map&&this.map.infoWindow&&B&&wa&&(this.map.infoWindow.setFeatures([C]),v=this._getPointFromGeometry(C.geometry),
this.map.infoWindow.show(v));this.map&&aa&&t&&t.hasOwnProperty("extent")&&"function"===typeof this.map.setExtent&&this.map.setExtent(t.extent,!0);this.set("highlightGraphic",C);this.set("labelGraphic",ea)}this.set("selectedResult",t);this.emit("select-result",{result:t,source:Y,sourceIndex:J})},focus:function(){x.focus(this.inputNode)},blur:function(){this.inputNode.blur();x.curNode&&x.curNode.blur()},clearGraphics:function(){var t=this.highlightGraphic,v=this.graphicsLayer,F=this.labelGraphic;t&&
(v?v.remove(t):this.map&&this.map.graphics&&this.map.graphics.remove(t));F&&(v?v.remove(F):this.map&&this.map.graphics&&this.map.graphics.remove(F));this.set("labelGraphic",null);this.set("highlightGraphic",null)},_mapLoaded:function(){var t=new N;if(this.map)if(this.map.loaded)t.resolve();else ja.once(this.map,"load",ha.hitch(this,function(){t.resolve()}));else t.resolve();return t.promise},_init:function(){this._getMapLayers().then(ha.hitch(this,function(){this.set("loaded",!0);this.emit("load")}))},
_clearButton:function(){this.clear();x.focus(this.inputNode)},_error:function(t){return Error(this.declaredClass+" "+t)},_searchDeferred:function(t){var v=new N,F=this.value,C=this.activeSourceIndex;t&&t.hasOwnProperty("index")&&(C=t.index);this._showLoading();this._hideMenus();this._closePopup();this.clearGraphics();var J={magicKey:this.magicKey,text:F};t?"string"===typeof t?(J.text=t,t=this._searchQueries(J)):t="object"===typeof t&&t.hasOwnProperty("magicKey")?this._searchQueries(t):"object"===
typeof t&&t.hasOwnProperty("geometry")?this._searchQueries({geometry:t}):"object"===typeof t&&t.hasOwnProperty(this._objectIdIdentifier)?this._searchQueries(t):"object"===typeof t&&"point"===t.type?this._searchQueries({point:t}):t instanceof Array&&2===t.length?this._searchQueries({latlon:t}):this._searchQueries(J):t=this._searchQueries(J);t.always(ha.hitch(this,function(R){R=this._formatResults(R,C,F);v.resolve(R)}));return v.promise},_suggestDeferred:function(t){var v=new N;this._deferreds.push(v);
t||(t=this.value);var F=this.activeSourceIndex;this._suggestQueries({text:t}).always(ha.hitch(this,function(C){var J;if(C)for(var R=0;R<C.length;R++)C[R]&&(J=!0);J?(C=this._formatResults(C,F,t),v.resolve(C)):v.resolve()}));return v.promise},_getDefaultSymbol:function(t){var v;this.map&&(v=this.map.getBasemap());v||(v="topo");if(t&&t.feature&&t.feature.geometry)var F=t.feature.geometry.type;"polyline"===F?F="line":"circle"===F||"extent"===F?F="polygon":"multipoint"===F&&(F="point");if(F){if(t=qa.getSchemes({theme:"default",
basemap:v,geometryType:F}))var C=t.primaryScheme;if(C){C.color&&C.hasOwnProperty("opacity")&&(C.color.a=C.opacity);var J=C;t=C.color;C=C.size;switch(F){case "point":var R=new V;R.setColor(t);R.setSize(null!==C?C:J.size);F=new M;F.setColor(J.outline.color);F.setWidth(J.outline.width);R.setOutline(F);break;case "line":R=new M;R.setColor(t);R.setWidth(null!==C?C:J.width);break;case "polygon":R=new O,R.setColor(t),F=new M,F.setColor(J.outline.color),F.setWidth(J.outline.width),R.setOutline(F)}J=R}}return J},
_selectFirstResult:function(t,v){if(this.autoSelect&&t){var F;v===this._allIndex?F=this._getFirstResult(t):t[v]&&t[v][0]&&(F=t[v][0]);F&&this.select(F)}},_getSourceIndexOfResult:function(t){var v=this.searchResults;if(v)for(var F in v)if(v[F]&&v[F].length)for(var C=0;C<v[F].length;C++)if(v[F][C]===t)return parseInt(F,10);return null},_getFirstResult:function(t){if(t)for(var v in t)if(t[v]&&t[v][0])return t[v][0];return!1},_onFocus:function(){this.map&&"function"===typeof this.map.disableKeyboardNavigation&&
this.map.disableKeyboardNavigation();this.emit("focus");this.inherited(arguments)},_onBlur:function(){this._hideMenus();this.map&&"function"===typeof this.map.enableKeyboardNavigation&&this.map.enableKeyboardNavigation();this.enableButtonMode&&this.loaded&&this.collapse();this.emit("blur");this.inherited(arguments)},_getMapLayers:function(){var t=new N;if(this.addLayersFromMap&&this.map){var v=[],F=this.map.graphicsLayerIds;if(F&&F.length){for(var C=0;C<F.length;C++){var J=this.map.getLayer(F[C]);
J&&v.push(this._featureLayerLoaded(J))}G(v).always(ha.hitch(this,function(R){for(var oa,aa=this.sources,wa=0;wa<R.length;wa++)R[wa]&&R[wa].loaded&&"Feature Layer"===R[wa].type&&(aa.push({featureLayer:R[wa],enableSuggestions:!0}),oa=!0);oa&&this.set("sources",aa);t.resolve()}))}else t.resolve()}else t.resolve();return t.promise},_switchCoordinatesClick:function(t){t.preventDefault();if(t=n.get(t.target,"data-switch-coordinates"))this._cancelSuggest(),this.set("value",t),this.search()},_moreResultsClick:function(t){t.preventDefault();
var v=t.target;t=parseInt(n.get(v,"data-source-index"),10);v=parseInt(n.get(v,"data-index"),10);var F=this.searchResults;F&&F[t]&&(t=F[t][v])&&this.select(t)},_showMoreResultsClick:function(t){t.preventDefault();if(t=m.byId(this._moreResultsId)){p.toggle(t,this.css.searchShowMoreResults);var v=m.byId(this._moreResultsId+"_show");v&&(p.contains(t,this.css.searchShowMoreResults)?n.set(v,"textContent",c.widgets.Search.main.hideMoreResults):n.set(v,"textContent",c.widgets.Search.main.showMoreResults))}},
_featureLayerLoaded:function(t){var v=new N;if(t.loaded)v.resolve(t);else if(t.loadError)v.reject(this._error("Layer failed to load."));else{var F=ja.once(t,"load",ha.hitch(this,function(){C.remove();v.resolve(t)}));var C=ja.once(t,"error",ha.hitch(this,function(){F.remove();v.reject(this._error("Layer could not be loaded."))}))}return v.promise},_getObjectSize:function(t){var v=0,F;for(F in t)t.hasOwnProperty(F)&&v++;return v},_sourcesEvent:function(t,v){var F=n.get(v,"data-index"),C=ca("li",this.sourcesNode);
v=ia.indexOf(C,v);F!==this._allIndex&&(F=parseInt(F,10));"click"===t.type||t.keyCode===D.ENTER?(this.set("activeSourceIndex",F),x.focus(this.inputNode),this._hideSourcesMenu()):t.keyCode===D.UP_ARROW?(t.stopPropagation(),t.preventDefault(),t=v-1,0>t?x.focus(this.sourcesBtnNode):x.focus(C[t])):t.keyCode===D.DOWN_ARROW?(t.stopPropagation(),t.preventDefault(),t=v+1,t>=C.length?x.focus(this.sourcesBtnNode):x.focus(C[t])):t.keyCode===D.ESCAPE&&(this._hideSourcesMenu(),x.focus(this.inputNode))},_suggestionsEvent:function(t,
v){var F=n.get(v,"data-source-index"),C=parseInt(n.get(v,"data-index"),10),J=ca("li",this.suggestionsNode),R=this.sources;v=ia.indexOf(J,v);F!==this._allIndex&&(F=parseInt(F,10));var oa;this._clearQueryTimeout();"click"===t.type||t.keyCode===D.ENTER?((J=this.suggestResults)&&J[F]&&J[F][C]&&(oa=J[F][C]),oa&&(oa.index=F,R[F].featureLayer?(F=R[F].featureLayer.objectIdField,oa[this._objectIdIdentifier]=oa.feature.attributes[F],this.set("value",this._getSuggestionName(oa)),this.set("selectedFeatureId",
oa.feature.attributes[F])):oa.magicKey&&oa.text&&(this.set("value",oa.text),this.set("magicKey",oa.magicKey)),this.search(oa),x.focus(this.inputNode))):t.keyCode===D.BACKSPACE||t.keyCode===D.DELETE?x.focus(this.inputNode):t.keyCode===D.UP_ARROW?(t.stopPropagation(),t.preventDefault(),oa=v-1,0>oa?x.focus(this.inputNode):x.focus(J[oa])):t.keyCode===D.DOWN_ARROW?(t.stopPropagation(),t.preventDefault(),oa=v+1,oa>=J.length?x.focus(this.inputNode):x.focus(J[oa])):t.keyCode===D.ESCAPE&&(this._hideMenus(),
x.focus(this.inputNode))},_getResultName:function(t){var v;t.hasOwnProperty("name")&&null!==t.name&&(v=t.name.toString());v||(v=c.widgets.Search.main.untitledResult);return v},_getSuggestionName:function(t){var v;t.hasOwnProperty("name")&&null!==t.name&&(v=t.name.toString());t=t.text||v;t||(t=c.widgets.Search.main.untitledResult);return t},_searchResultHTML:function(t){var v="";if(t.feature&&t.feature.attributes&&t.feature.attributes.Addr_type&&"LatLong"===t.feature.attributes.Addr_type){var F=t.name.split(" ");
if(2===F.length){var C=F[0];var J=F[1]}J&&C?(t=parseFloat(C),J=parseFloat(J),F=J+", "+t,v+='\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e',v+='\x3cdiv class\x3d"'+this.css.latLonHeader+'"\x3e'+c.widgets.Search.main.lonlat+"\x3c/div\x3e",v=v+(t+", "+J)+'\x3c/div\x3e\x3cdiv class\x3d"'+(this.css.searchMoreResultsItem+'"\x3e'),t===J||90<t||-90>t||180<J||-180>J||(v+='\x3cdiv class\x3d"'+this.css.latLonHeader+'"\x3e'+c.widgets.Search.main.reverseLonLatHeader+"\x3c/div\x3e",v+='\x3ca data-switch-coordinates\x3d"'+
F+'" tabindex\x3d"0" href\x3d"#"\x3e'+F+"\x3c/a\x3e\x3c/div\x3e")):v=t.name}else v=t.name;return v},_moreResultsHTML:function(t){var v="",F="",C=this.searchResults,J=this.sources,R=0;if(C){F+='\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e';F+='\x3ca href\x3d"#" id\x3d"'+this._moreResultsId+'_show"\x3e'+c.widgets.Search.main.showMoreResults+"\x3c/a\x3e";F=F+'\x3c/div\x3e\x3cdiv class\x3d"'+(this.css.searchMoreResultsList+'"\x3e');F+='\x3cdiv id\x3d"'+this._moreResultsId+'_list"\x3e';for(var oa in C)if(C[oa]){var aa=
C[oa].length;if(aa){var wa=1===aa&&C[oa][0]===t;if(1<this._getObjectSize(C)&&!wa){var B=this._getSourceName(oa);F+='\x3cdiv class\x3d"'+this.css.searchMoreResultsListHeader+'"\x3e'+B+"\x3c/div\x3e"}if(aa&&!wa){F+="\x3cul\x3e";B=J[oa].maxResults||this.maxResults;for(wa=0;wa<aa&&wa<B;++wa)if(C[oa][wa]!==t){var I=this._getResultName(C[oa][wa]);F+='\x3cli\x3e\x3ca tabindex\x3d"0" data-index\x3d"'+wa+'" data-source-index\x3d"'+oa+'" href\x3d"#"\x3e'+I+"\x3c/a\x3e\x3c/li\x3e";R++}F+="\x3c/ul\x3e"}}}F+=
"\x3c/div\x3e\x3c/div\x3e"}R&&(v+=F);return v},_validField:function(t,v){return t.getField(v)},_validFields:function(t,v){if(t&&v&&v.length){for(var F=0;F<v.length;F++)if(!this._validField(t,v[F]))return!1;return!0}return!1},_getCodedName:function(t,v){if(t&&t.length)for(var F=0,C=t.length;F<C;F++){var J=t[F];if(J.code===v)return J.name}},_getCodedValue:function(t,v,F){if(t&&t.length)for(var C=0,J=t.length;C<J;C++){var R=t[C],oa=R.name,aa=v;F||(oa=oa.toLowerCase(),aa=aa.toLowerCase());if(oa===aa)return R.code}return!1},
_whereClause:function(t,v,F,C,J){var R=null;if(t){var oa="",aa=this.reHostedFS.test(v.url);aa&&this._containsNonLatinCharacter(t)&&(oa="N");if(F&&F.length)for(var wa=0,B=F.length;wa<B;wa++){var I="";I=t.replace(/'/g,"''");var L=F[wa],Z=v.getField(L),ea=v.getDomain(L);ea&&"codedValue"===ea.type&&(I=this._getCodedValue(ea.codedValues,I,C));!1!==I&&(Z=Z.type,"esriFieldTypeString"===Z||"esriFieldTypeDate"===Z?C&&"search"===J?I=L+" \x3d "+oa+"'"+I+"'":(L=aa?L:"LOWER("+L+")",I=(aa?I:I.toLowerCase())+"%",
I=L+" LIKE "+oa+"'"+I+"'"):"esriFieldTypeOID"===Z||"esriFieldTypeSmallInteger"===Z||"esriFieldTypeInteger"===Z||"esriFieldTypeSingle"===Z||"esriFieldTypeDouble"===Z?(I=parseFloat(I),I=isNaN(I)?!1:L+" \x3d "+I):I=L+" \x3d "+I,I&&(R=R?R+" or ":"",R+=I))}}return R},_suggest:function(t){t||(t={index:this.activeSourceIndex,text:this.value});var v=new N,F=t.index,C=this.sources[F],J=this.enableSuggestions;C.hasOwnProperty("enableSuggestions")&&(J=C.enableSuggestions);var R=0;if(t.hasOwnProperty("text")&&
t.text){var oa=ha.trim(t.text);R=t.text.length}t=C.minCharacters||this.minCharacters;if(J&&oa&&R>=t&&this._supportsPagination(C)){var aa="";C.prefix&&(aa+=C.prefix);aa+=oa;C.suffix&&(aa+=C.suffix);var wa=this._defaultSR;this.map&&(wa=this.map.spatialReference);J={};C.locator?(C.categories&&(J.categories=C.categories),C.locator.outSpatialReference=wa,this.map&&C.localSearchOptions&&C.localSearchOptions.hasOwnProperty("distance")&&C.localSearchOptions.hasOwnProperty("minScale")&&(R=this._getScale(),
!C.localSearchOptions.minScale||R&&R<=parseFloat(C.localSearchOptions.minScale))&&(J.location=this.map.extent.getCenter(),J.distance=C.localSearchOptions.distance),J.text=aa,C.useMapExtent&&this.map&&this.map.extent&&(J.searchExtent=this.map.extent),C.searchExtent&&(J.searchExtent=C.searchExtent),J.maxSuggestions=C.maxSuggestions||this.maxSuggestions,C.sourceCountry&&(J.countryCode=C.sourceCountry),C.countryCode&&(J.countryCode=C.countryCode),C.locator.suggestLocations(J).then(ha.hitch(this,function(B){v.resolve(B)}),
ha.hitch(this,function(B){B||(B=this._error("Locator suggestLocations could not be performed."));v.reject(B)}))):C.featureLayer?this._featureLayerLoaded(C.featureLayer).then(ha.hitch(this,function(){var B=this._getDisplayField(C),I=C.searchFields||[B],L=[];C.suggestionTemplate?C.suggestionTemplate.replace(/(?:\$\{([^}]+)\})/g,function(va,ma){L.push(ma)}):L=[B];-1===ia.indexOf(L,C.featureLayer.objectIdField)&&L.push(C.featureLayer.objectIdField);B=this._validField(C.featureLayer,B);var Z=this._validFields(C.featureLayer,
L),ea=this._validFields(C.featureLayer,I);if(B&&Z&&ea){B=new da;C.hasOwnProperty("suggestQueryParams")&&ha.mixin(B,C.suggestQueryParams);B.outSpatialReference=wa;B.returnGeometry=!1;B.num=C.maxSuggestions||this.maxSuggestions;B.outFields=L;C.useMapExtent&&this.map&&this.map.extent&&(B.geometry=this.map.extent);C.searchExtent&&(B.geometry=C.searchExtent);if(I=this._whereClause(aa,C.featureLayer,I,C.exactMatch,"suggest")){B.where=I;var Y=!0}Y?C.featureLayer.queryFeatures(B,ha.hitch(this,function(va){var ma;
(va=va.features)&&(ma=this._hydrateResults(va,F,!0));v.resolve(ma)}),ha.hitch(this,function(va){va||(va=this._error("FeatureLayer queryFeatures errored with suggestions"));v.reject(va)})):v.resolve()}else v.reject(this._error("Invalid FeatureLayer field"))})):v.reject(this._error("Invalid source"))}else v.resolve();return v.promise},_supportsPagination:function(t){var v;t.locator?v=!0:t.featureLayer&&t.featureLayer.advancedQueryCapabilities&&t.featureLayer.advancedQueryCapabilities.supportsPagination&&
(v=!0);return v},_suggestQueries:function(t){var v=this.sources,F=this.activeSourceIndex,C=[];if(F===this._allIndex)for(F=0;F<v.length;F++){var J=t;J.index=F;J=this._suggest(J);C.push(J)}else t.index=F,J=this._suggest(t),C.push(J);return G(C)},_getPointFromGeometry:function(t){switch(t.type){case "extent":var v=t.getCenter();break;case "multipoint":v=t.getPoint(0);break;case "point":v=t;break;case "polygon":v=t.getCentroid();break;case "polyline":v=t.getPoint(0,0)}return v},_searchQueries:function(t){t.hasOwnProperty("index")||
(t.index=this.activeSourceIndex);var v=[];if(t.index===this._allIndex)for(var F=this.sources,C=0;C<F.length;C++){var J=t;J.index=C;J=this._search(J);v.push(J)}else t=this._search(t),v.push(t);return G(v)},_searchButton:function(){this.enableButtonMode&&!this.expanded?(this.expand(),x.focus(this.inputNode)):(this._cancelSuggest(),this.search())},_search:function(t){t||(t={text:this.value,magicKey:null,geometry:null,point:null,index:this.activeSourceIndex,latlon:null});this.selectedFeatureId&&(t.text=
null,t[this._objectIdIdentifier]=this.selectedFeatureId);var v,F=new N,C=t.index,J=this.sources[C],R;t.hasOwnProperty("text")&&t.text&&(R=ha.trim(t.text));if(J){var oa="";J.prefix&&!t.magicKey&&(oa+=J.prefix);oa+=R;J.suffix&&!t.magicKey&&(oa+=J.suffix);var aa=this._defaultSR;this.map&&(aa=this.map.spatialReference);if(J.locator)if(t.hasOwnProperty("text")&&R){var wa={};J.categories&&(wa.categories=J.categories);J.locationType&&(wa.locationType=J.locationType);aa&&(J.locator.outSpatialReference=aa);
if(this.map&&J.localSearchOptions&&J.localSearchOptions.hasOwnProperty("distance")&&J.localSearchOptions.hasOwnProperty("minScale")){var B=this._getScale();if(!J.localSearchOptions.minScale||B&&B<=parseFloat(J.localSearchOptions.minScale))wa.location=this.map.extent.getCenter(),wa.distance=J.localSearchOptions.distance}wa.address={};wa.maxLocations=J.maxResults||this.maxResults;J.useMapExtent&&this.map&&this.map.extent&&(wa.searchExtent=this.map.extent);J.searchExtent&&(wa.searchExtent=J.searchExtent);
J.sourceCountry&&(wa.countryCode=J.sourceCountry);J.countryCode&&(wa.countryCode=J.countryCode);t.magicKey&&(wa.magicKey=t.magicKey);J.singleLineFieldName?wa.address[J.singleLineFieldName]=oa:wa.address["Single Line Input"]=oa;J.outFields&&(wa.outFields=J.outFields);J.locator.addressToLocations(wa).then(ha.hitch(this,function(I){I=this._hydrateResults(I,C,!1);F.resolve(I)}),ha.hitch(this,function(I){I||(I=this._error("Locator addressToLocations could not be performed"));F.reject(I)}))}else t.geometry?
(v=this._getPointFromGeometry(t.geometry.geometry))?this._reverseGeocodePoint(C,v).then(function(I){F.resolve(I)},function(I){F.reject(I)}):F.reject(this._error("Invalid point to reverse geocode")):t.point?this._reverseGeocodePoint(C,t.point).then(function(I){F.resolve(I)},function(I){F.reject(I)}):t.latlon?(wa=new P(t.latlon,this._defaultSR),this._reverseGeocodePoint(C,wa).then(function(I){F.resolve(I)},function(I){F.reject(I)})):t.hasOwnProperty("text")&&!R?F.resolve([]):F.reject(this._error("Invalid query type for Locator"));
else J.featureLayer?this._featureLayerLoaded(J.featureLayer).then(ha.hitch(this,function(){var I=this._getDisplayField(J),L=J.searchFields||[I];I=this._validField(J.featureLayer,I);var Z=this._validFields(J.featureLayer,L);if(I&&Z){I=new da;J.hasOwnProperty("searchQueryParams")&&ha.mixin(I,J.searchQueryParams);aa&&(I.outSpatialReference=aa,Z=this.map&&this.map.getMaxResolution()||1/ba.getUnitValueForSR(aa))&&(I.maxAllowableOffset=Z);I.returnGeometry=!0;J.outFields&&(I.outFields=J.outFields);if(!t.hasOwnProperty(this._objectIdIdentifier)){this._supportsPagination(J)&&
(I.num=J.maxResults||this.maxResults);J.useMapExtent&&this.map&&this.map.extent&&(I.geometry=this.map.extent);J.searchExtent&&(I.geometry=J.searchExtent);var ea=J.exactMatch}t.hasOwnProperty("text")&&R?(L=this._whereClause(oa,J.featureLayer,L,ea,"search"))?(I.where=L,L=!0):L=!1:t.hasOwnProperty(this._objectIdIdentifier)?(I.objectIds=[t[this._objectIdIdentifier]],L=!0):t.geometry?(I.geometry=t.geometry,L=!0):t.point?(I.geometry=t.point,L=!0):t.latlon?(v=new P(t.latlon,this._defaultSR),I.geometry=v,
L=!0):(t.hasOwnProperty("text")&&!R?F.resolve([]):F.reject(this._error("Invalid query type for FeatureLayer")),L=!1);L?J.featureLayer.queryFeatures(I,ha.hitch(this,function(Y){Y=Y.features;var va;Y&&(va=this._hydrateResults(Y,C,!1));F.resolve(va)}),ha.hitch(this,function(Y){Y||(Y=this._error("FeatureLayer queryFeatures could not be performed"));F.reject(Y)})):F.resolve()}else F.reject(this._error("Invalid FeatureLayer field"))})):F.reject(this._error("Invalid source"))}else F.reject(this._error("Source is undefined"));
return F.promise},_clearQueryTimeout:function(){this._queryTimer&&clearTimeout(this._queryTimer)},_formatResults:function(t,v,F){F={activeSourceIndex:v,value:F,numResults:0,numErrors:0,errors:null,results:null};var C={},J={};if(t)if(v===this._allIndex)for(v=0;v<t.length;v++)t[v]&&(t[v]instanceof Error?(C[v]=t[v],F.numErrors++):(J[v]=t[v],F.numResults+=t[v].length));else t[0]&&(t[0]instanceof Error?(C[v]=t[0],F.numErrors++):(J[v]=t[0],F.numResults+=t[0].length));F.numErrors&&(F.errors=C);F.numResults&&
(F.results=J);return F},_reverseGeocodePoint:function(t,v){var F=new N,C=this.sources[t];if(v&&C){var J=C.locationToAddressDistance||this.locationToAddressDistance;C.locator.outSpatialReference=this._defaultSR;this.map&&(C.locator.outSpatialReference=this.map.spatialReference);C.locator.locationToAddress(v,J,ha.hitch(this,function(R){R=this._hydrateResults([R],t,!1);F.resolve(R)}),ha.hitch(this,function(R){R||(R=this._error("Locator locationToAddress could not be performed"));F.reject(R)}))}else F.reject(this._error("No point or source defined for reverse geocoding"));
return F.promise},_cancelDeferreds:function(){if(this._deferreds&&this._deferreds.length)for(var t=0;t<this._deferreds.length;t++)this._deferreds[t].cancel(this.declaredClass+" cancelling request");this._deferreds=[]},_sourceBtnKey:function(t){if(t){var v=ca("li",this.sourcesNode);t.keyCode===D.UP_ARROW?(t.stopPropagation(),t.preventDefault(),this._showSourcesMenu(),(t=v.length)&&x.focus(v[t-1])):t.keyCode===D.DOWN_ARROW&&(t.stopPropagation(),t.preventDefault(),this._showSourcesMenu(),v[0]&&x.focus(v[0]))}},
_inputKey:function(t){if(t){var v=ca("li",this.suggestionsNode),F=this.suggestResults;if(t.keyCode===D.TAB||t.keyCode===D.ESCAPE)this._cancelSuggest(),this._hideMenus();else if(t.keyCode===D.UP_ARROW)t.stopPropagation(),t.preventDefault(),this._cancelSuggest(),F&&this._showSuggestionsMenu(),(t=v.length)&&x.focus(v[t-1]);else if(t.keyCode===D.DOWN_ARROW)t.stopPropagation(),t.preventDefault(),this._cancelSuggest(),F&&this._showSuggestionsMenu(),v[0]&&x.focus(v[0]);else{if(t.ctrlKey||t.metaKey||t.keyCode===
D.copyKey||t.keyCode===D.LEFT_ARROW||t.keyCode===D.RIGHT_ARROW||t.keyCode===D.ENTER)return t;this._suggestDelay()}}},_cancelSuggest:function(){this._cancelDeferreds();this._clearQueryTimeout()},_suggestDelay:function(){this._cancelSuggest();this._changeValue();this._queryTimer=setTimeout(ha.hitch(this,function(){this.suggest()}),this.suggestionDelay)},_changeValue:function(){this.set("magicKey",null);this.set("selectedFeatureId",null);this._changeAttrValue("value",this.inputNode.value);this._checkStatus()},
_inputClick:function(){this._hideSourcesMenu();this._hideNoResultsMenu()},_getSourceName:function(t){return this._sourceNames[t]},_loadSources:function(t){t=ia.filter(t,function(v){return!!v.featureLayer});t=ia.map(t,function(v){return this._featureLayerLoaded(v.featureLayer)},this);return G(t)},_createSourceNameMap:function(t){return this._loadSources(t).then(ha.hitch(this,function(){var v=ia.map(t,function(F){return F.name||F.featureLayer&&F.featureLayer.name||c.widgets.Search.main.untitledSource});
this._preventDuplicateSourceNames(t,v);return v}))},_getDuplicateSourceNameIndexes:function(t){var v={},F=[];ia.forEach(t,function(C,J){v.hasOwnProperty(C)?(-1===F.indexOf(v[C])&&F.push(v[C]),F.push(J)):t.lastIndexOf(C)!==J&&(v[C]=J)});return F},_preventDuplicateSourceNames:function(t,v){if(v&&1<v.length){var F=this._getDuplicateSourceNameIndexes(v);ia.forEach(F,function(C){v[C]+=this._getFieldsString(t[C])},this)}},_getFieldsString:function(t){var v="",F=t.featureLayer;if(F){t=t.searchFields||[this._getDisplayField(t)];
for(var C=0;C<t.length;C++){v=0===C?v+": ":v+", ";var J=t[C],R=F.getFieldLabel(J);v+=R||J}}return v},_splitResult:function(t,v){v=S.escapeString(v);return t.replace(new RegExp("(^|)("+v+")(|$)","ig"),"$1|$2|$3").split("|")},_insertSuggestions:function(t,v){if(this.enableSuggestionsMenu&&this.suggestionsNode){this._hideSourcesMenu();this._hideNoResultsMenu();var F=this.sources;if(t){var C=a.create("div");for(var J in t)if(t[J]&&t[J].length){var R=this._getSourceName(J);1<F.length&&this.activeSourceIndex===
this._allIndex&&a.create("div",{className:this.css.searchMenuHeader,textContent:R},C);R=a.create("ul",{role:"menu"},C);for(var oa=F[J].maxSuggestions||this.maxSuggestions,aa=0;aa<t[J].length&&aa<oa;++aa){var wa=a.create("li",{"data-index":aa,"data-source-index":J,role:"menuitem",tabindex:0},R),B=this._getSuggestionName(t[J][aa]);B=this._splitResult(B,v);for(var I=B.length,L=0;L<I;L++){var Z=B[L];Z.toLowerCase()===v.toLowerCase()?a.create("strong",{textContent:Z},wa):(Z=document.createTextNode(Z),
a.place(Z,wa))}}}}C?(a.place(C,this.suggestionsNode,"only"),this._showSuggestionsMenu()):(a.empty(this.suggestionsNode),this._hideSuggestionsMenu())}},_insertSources:function(t){if(this.enableSourcesMenu&&t&&1<t.length){var v,F=this.activeSourceIndex,C=a.create("ul",{role:"menu"});if(this.enableSearchingAll){var J="";F===this._allIndex&&(J="active");a.create("li",{"data-index":this._allIndex,role:"menuitem",className:J,tabIndex:0,textContent:c.widgets.Search.main.all},C)}for(v=0;v<t.length;v++){J=
"";v===F&&(J=this.css.activeSource);var R=this._getSourceName(v);a.create("li",{"data-index":v,role:"menuitem",className:J,tabIndex:0,textContent:R},C)}p.add(this.containerNode,this.css.hasMultipleSources);a.place(C,this.sourcesNode,"only")}else p.remove(this.containerNode,this.css.hasMultipleSources),a.empty(this.sourcesNode)},_showLoading:function(){p.add(this.containerNode,this.css.searchLoading)},_hideLoading:function(){p.remove(this.containerNode,this.css.searchLoading)},_checkStatus:function(){this.value?
(p.add(this.containerNode,this.css.hasValue),n.set(this.clearNode,"title",c.widgets.Search.main.clearButtonTitle)):this.clear()},_closePopup:function(){this.enableInfoWindow&&this.map&&this.map.infoWindow&&this.map.infoWindow.hide()},_noResults:function(t){var v;t&&(v=ha.trim(t));var F=a.create("div",{className:this.css.searchNoResultsBody});t&&v?(a.create("div",{className:this.css.searchNoResultsHeader,textContent:c.widgets.Search.main.noResults},F),a.create("div",{className:this.css.searchNoResultsText,
textContent:w.substitute({value:'"'+t+'"'},c.widgets.Search.main.noResultsFound)},F)):(t=a.create("div",{},F),a.create("span",{"aria-hidden":"true",className:this.css.searchNoValueIcon},t),a.create("span",{className:this.css.searchNoValueText,textContent:c.widgets.Search.main.emptyValue},t));a.place(F,this.noResultsMenuNode,"only")},_hideMenus:function(){this._hideSourcesMenu();this._hideSuggestionsMenu();this._hideNoResultsMenu()},_hideNoResultsMenu:function(){p.remove(this.containerNode,this.css.showNoResults)},
_showNoResultsMenu:function(){this._hideSourcesMenu();this._hideSuggestionsMenu();p.add(this.containerNode,this.css.showNoResults)},_hideSourcesMenu:function(){p.remove(this.containerNode,this.css.showSources)},_hideSuggestionsMenu:function(){p.remove(this.containerNode,this.css.showSuggestions)},_showSourcesMenu:function(){this._hideSuggestionsMenu();this._hideNoResultsMenu();p.add(this.containerNode,this.css.showSources)},_showSuggestionsMenu:function(){this._hideSourcesMenu();this._hideNoResultsMenu();
p.add(this.containerNode,this.css.showSuggestions)},_toggleSourcesMenu:function(){this._hideSuggestionsMenu();this._hideNoResultsMenu();p.toggle(this.containerNode,this.css.showSources)},_getFirstStringField:function(t){if(t&&(t=t.fields)&&t.length)for(var v=0;v<t.length;v++){var F=t[v];if("esriFieldTypeString"===F.type)return F.name}return""},_getDisplayField:function(t){return t.displayField||t.featureLayer.displayField||this._getFirstStringField(t.featureLayer)},_validLocation:function(t){return t&&
"number"===typeof t.x&&"number"===typeof t.y},_validExtent:function(t){return t&&"number"===typeof t.xmin&&"number"===typeof t.ymin&&"number"===typeof t.xmax&&"number"===typeof t.ymax},_hydrateResult:function(t,v,F){var C={},J=this._defaultSR;v=this.sources[v];this.map&&(J=this.map.spatialReference);if(t.hasOwnProperty("text")&&t.hasOwnProperty("magicKey"))return t;if(t.hasOwnProperty("geometry")){var R=new y(t.toJson());C.feature=R;(R=C.feature.geometry)&&R.setSpatialReference(J)}else if(t.hasOwnProperty("location")&&
this._validLocation(t.location)){var oa=new P(t.location.x,t.location.y,J);R={};t.hasOwnProperty("attributes")&&(R=t.attributes);t.hasOwnProperty("address")&&"object"===typeof t.address&&ha.mixin(R,t.address);t.hasOwnProperty("score")&&(R.score=t.score);C.feature=new y(oa,null,R,null)}!C.feature&&F&&(R={},t.hasOwnProperty("attributes")&&(R=t.attributes),t.hasOwnProperty("score")&&(R.score=t.score),C.feature=new y(null,null,R,null));if(C.feature){if(t.hasOwnProperty("extent")&&this._validExtent(t.extent))C.extent=
new W(t.extent),C.extent.setSpatialReference(J);else if(C.feature&&C.feature.geometry)switch(C.feature.geometry.type){case "extent":C.extent=C.feature.geometry;break;case "multipoint":C.extent=X.getDenormalizedExtent(C.feature.geometry);break;case "polygon":C.extent=X.getDenormalizedExtent(C.feature.geometry);break;case "polyline":C.extent=X.getDenormalizedExtent(C.feature.geometry);break;case "point":this.map?(J=this.zoomScale,v&&v.zoomScale&&(J=v.zoomScale),this._getScale()>J?C.extent=ba.getExtentForScale(this.map,
J).centerAt(C.feature.geometry):C.extent=this.map.extent.centerAt(C.feature.geometry)):C.extent=new W({xmin:C.feature.geometry.x-.25,ymin:C.feature.geometry.y-.25,xmax:C.feature.geometry.x+.25,ymax:C.feature.geometry.y+.25,spatialReference:this._defaultSR})}else C.extent=null;C.name="";v.featureLayer?v.suggestionTemplate&&F?C.name=w.substitute(t.attributes,v.suggestionTemplate):v.searchTemplate?C.name=w.substitute(t.attributes,v.searchTemplate):(R=this._getDisplayField(v),F=v.featureLayer.getField(R),
J=v.featureLayer.getDomain(R),R&&t.hasOwnProperty("attributes")&&t.attributes.hasOwnProperty(R)&&(t=t.attributes[R],J&&"codedValue"===J.type?C.name=this._getCodedName(J.codedValues,t):F&&"esriFieldTypeDate"===F.type&&!isNaN(t)?C.name=l.format(new Date(t)):C.name=t)):t.address&&v.searchTemplate?C.name=w.substitute(t.address,v.searchTemplate):t.hasOwnProperty("name")?C.name=t.name:t.hasOwnProperty("attributes")&&"object"===typeof t.attributes&&t.attributes.LongLabel?C.name=t.attributes.LongLabel:t.hasOwnProperty("attributes")&&
"object"===typeof t.attributes&&t.attributes.Match_addr?(C.name=t.attributes.Match_addr,t.attributes.Addr_type&&"POI"===t.attributes.Addr_type&&t.attributes.StAddr&&t.attributes.City?C.name+=" - "+t.attributes.StAddr+", "+t.attributes.City:t.attributes.Addr_type&&"POI"===t.attributes.Addr_type&&t.attributes.City&&(C.name+=" - "+t.attributes.City)):t.hasOwnProperty("address")&&"string"===typeof t.address?C.name=t.address:t.hasOwnProperty("address")&&"object"===typeof t.address&&t.address.hasOwnProperty("Address")?
t.address.hasOwnProperty("Match_addr")?C.name=t.address.Match_addr:t.address.hasOwnProperty("Address")&&(C.name=t.address.Address):C.feature&&C.feature.geometry&&(C.name=C.feature.geometry.x+","+C.feature.geometry.y);v.featureLayer&&C.feature&&ya(C.feature,v.featureLayer);return C}},_getScale:function(){var t;this.map&&"function"===typeof this.map.getScale&&(t=this.map.getScale());return t},_hydrateResults:function(t,v,F,C){C=[];var J=0;if(t&&t.length)for(J;J<t.length;J++){var R=this._hydrateResult(t[J],
v,F);R&&C.push(R)}return C},_containsNonLatinCharacter:function(t){for(var v=0;v<t.length;v++)if(255<t.charCodeAt(v))return!0;return!1},_setPlaceholder:function(t){var v="",F=this.sources[t];t===this._allIndex?v=this.allPlaceholder||c.widgets.Search.main.allPlaceholder:F&&F.placeholder&&(v=F.placeholder);var C=c.widgets.Search.main.all;F&&(C=this._getSourceName(t));n.set(this.sourceNameNode,"textContent",C);n.set(this.inputNode,"placeholder",v);n.set(this.inputNode,"title",v)},_updateActiveSource:function(){var t=
this.sources,v=this.activeSourceIndex,F;t&&t[v]&&(F=t[v]);F?this.set("activeSource",F):this.set("activeSource",null)},_updateVisible:function(){this.visible?this.show():this.hide()},_updateButtonMode:function(t){t?(p.toggle(this.containerNode,this.css.searchExpanded,this.expanded),p.toggle(this.containerNode,this.css.searchCollapsed,!this.expanded),p.add(this.containerNode,this.css.hasButtonMode)):(p.remove(this.containerNode,this.css.searchExpanded),p.remove(this.containerNode,this.css.searchCollapsed),
p.remove(this.containerNode,this.css.hasButtonMode))},_setDefaultActiveSourceIndex:function(t){t&&1===t.length||!this.enableSearchingAll?this.set("activeSourceIndex",0):this.set("activeSourceIndex",this._allIndex)},_setEnableSourcesMenuAttr:function(t){this._set("enableSourcesMenu",t);this._created&&this._insertSources(this.sources)},_setEnableSearchingAllAttr:function(t){this._set("enableSearchingAll",t);this._created&&(this._setDefaultActiveSourceIndex(this.sources),this._hideMenus(),this._insertSources(this.sources))},
_setSourcesAttr:function(t){this._createSourceNameMap(t).then(ha.hitch(this,function(v){this._sourceNames=v;this._created&&(this._setDefaultActiveSourceIndex(t),this._hideMenus(),this._insertSources(t))}));this._set("sources",t)},_setAllPlaceholderAttr:function(t){this._set("allPlaceholder",t);this._created&&this._setPlaceholder(this.activeSourceIndex)},_setActiveSourceIndexAttr:function(t){this._set("activeSourceIndex",t);this._updateActiveSource();this._created&&(this._setPlaceholder(t),this._hideMenus(),
this._insertSources(this.sources))},_setMaxLengthAttr:function(t){this._set("maxLength",t);this._created&&n.set(this.inputNode,"maxLength",t)},_setValueAttr:function(t){this.set("magicKey",null);this.set("selectedFeatureId",null);this._set("value",t);this._created&&(n.set(this.inputNode,"value",t),this._checkStatus())},_setVisibleAttr:function(t){this._set("visible",t);this._created&&this._updateVisible()},_setEnableButtonModeAttr:function(t){this._set("enableButtonMode",t);this._created&&this._updateButtonMode(t)},
_setThemeAttr:function(t){this._created&&(p.remove(this.domNode,this.theme),p.add(this.domNode,t));this._set("theme",t)}});la("extend-esri")&&ha.setObject("dijit.Search",sa,z);return sa})},"esri/tasks/locator":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/json dojo/has ../kernel ../request ../deferredUtils ./Task ./AddressCandidate".split(" "),function(xa,sa,ha,ia,T,N,D,ja,ca,la,S){xa=xa(la,{declaredClass:"esri.tasks.Locator",_eventMap:{"address-to-locations-complete":["addresses"],
"addresses-to-locations-complete":["addresses"],"location-to-address-complete":["address"],"suggest-locations-complete":["suggestions"]},constructor:function(m){this._geocodeHandler=sa.hitch(this,this._geocodeHandler);this._geocodeAddressesHandler=sa.hitch(this,this._geocodeAddressesHandler);this._reverseGeocodeHandler=sa.hitch(this,this._reverseGeocodeHandler);this.registerConnectEvents()},outSpatialReference:null,setOutSpatialReference:function(m){this.outSpatialReference=m},_geocodeHandler:function(m,
n,p,f,a){try{var l=m.candidates;n=[];var c,h=l.length,e=m.spatialReference,k;for(c=0;c<h;c++){var d=l[c];if(k=d.location)k.spatialReference=e;n[c]=new S(d)}this._successHandler([n],"onAddressToLocationsComplete",p,a)}catch(q){this._errorHandler(q,f,a)}},_geocodeAddressesHandler:function(m,n,p,f,a){try{var l=m.locations;n=[];var c,h=l.length,e=m.spatialReference,k;for(c=0;c<h;c++){if(k=l[c].location)k.spatialReference=e;n[c]=new S(l[c])}this._successHandler([n],"onAddressesToLocationsComplete",p,a)}catch(d){this._errorHandler(d,
f,a)}},addressToLocations:function(m,n,p,f,a){var l;if(m.address){f=p;p=n;n=m.outFields;a=m.searchExtent;var c=m.countryCode;var h=m.magicKey;var e=m.distance;var k=m.categories;m.location&&this.normalization&&(l=m.location.normalize());var d=m.locationType;var q=m.maxLocations;var x=m.forStorage;m=m.address}a&&(a=a.shiftCentralMeridian());var w=this.outSpatialReference;m=this._encode(sa.mixin({},this._url.query,m,{f:"json",outSR:w&&T.toJson(w.toJson()),outFields:n&&n.join(",")||null,searchExtent:a&&
T.toJson(a.toJson()),category:k&&k.join(",")||null,countryCode:c||null,magicKey:h||null,distance:e||null,location:l||null,locationType:d||null,maxLocations:q||null,forStorage:x||null}));var E=this._geocodeHandler,z=this._errorHandler,u=new ia(ca._dfdCanceller);u._pendingDfd=ja({url:this._url.path+"/findAddressCandidates",content:m,callbackParamName:"callback",load:function(y,G){E(y,G,p,f,u)},error:function(y){z(y,f,u)}});return u},suggestLocations:function(m){var n=new ia(ca._dfdCanceller);m.hasOwnProperty("location")&&
this.normalization&&(m.location=m.location.normalize());m.searchExtent&&(m.searchExtent=m.searchExtent.shiftCentralMeridian());m=this._encode(sa.mixin({},this._url.query,{f:"json",text:m.text,maxSuggestions:m.maxSuggestions,searchExtent:m.searchExtent&&T.toJson(m.searchExtent.toJson()),category:m.categories&&m.categories.join(",")||null,countryCode:m.countryCode||null,location:m.location||null,distance:m.distance||null},{f:"json"}));m=ja({url:this._url.path+"/suggest",content:m,callbackParamName:"callback"});
n._pendingDfd=m;m.then(sa.hitch(this,function(p){p=p.suggestions||[];this.onSuggestLocationsComplete(p);n.resolve(p)}),sa.hitch(this,function(p){this._errorHandler(p);n.reject(p)}));return n},addressesToLocations:function(m,n,p){var f=this.outSpatialReference,a=[],l=m.categories,c=m.locationType,h=m.countryCode;ha.forEach(m.addresses,function(q,x){a.push({attributes:q})});m=this._encode(sa.mixin({},this._url.query,{category:l&&l.join(",")||null,locationType:c||null,sourceCountry:h||null},{addresses:T.toJson({records:a})},
{f:"json",outSR:f&&T.toJson(f.toJson())}));var e=this._geocodeAddressesHandler,k=this._errorHandler,d=new ia(ca._dfdCanceller);d._pendingDfd=ja({url:this._url.path+"/geocodeAddresses",content:m,callbackParamName:"callback",load:function(q,x){e(q,x,n,p,d)},error:function(q){k(q,p,d)}});return d},_reverseGeocodeHandler:function(m,n,p,f,a){try{var l=new S({address:m.address,location:m.location,score:100});this._successHandler([l],"onLocationToAddressComplete",p,a)}catch(c){this._errorHandler(c,f,a)}},
locationToAddress:function(m,n,p,f){m&&this.normalization&&(m=m.normalize());var a=this.outSpatialReference;m=this._encode(sa.mixin({},this._url.query,{outSR:a&&T.toJson(a.toJson()),location:m&&T.toJson(m.toJson()),distance:n,f:"json"}));var l=this._reverseGeocodeHandler,c=this._errorHandler,h=new ia(ca._dfdCanceller);h._pendingDfd=ja({url:this._url.path+"/reverseGeocode",content:m,callbackParamName:"callback",load:function(e,k){l(e,k,p,f,h)},error:function(e){c(e,f,h)}});return h},onSuggestLocationsComplete:function(){},
onAddressToLocationsComplete:function(){},onAddressesToLocationsComplete:function(){},onLocationToAddressComplete:function(){}});N("extend-esri")&&sa.setObject("tasks.Locator",xa,D);return xa})},"esri/tasks/AddressCandidate":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../geometry/Point"],function(xa,sa,ha,ia,T){xa=xa(null,{declaredClass:"esri.tasks.AddressCandidate",constructor:function(N){sa.mixin(this,N);this.location=new T(this.location)}});ha("extend-esri")&&
sa.setObject("tasks.AddressCandidate",xa,ia);return xa})},"esri/styles/basic":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/has","../kernel","../Color"],function(xa,sa,ha,ia,T){function N(S,m){if(S){var n={};n.color=new T(S.color);n.opacity=S.opacity||1;switch(m){case "point":n.outline={color:new T(S.outline.color),width:S.outline.width};n.size=S.size;break;case "line":n.width=S.width;break;case "polygon":n.outline={color:new T(S.outline.color),width:S.outline.width}}}return n}function D(S){if("esriGeometryPoint"===
S||"esriGeometryMultipoint"===S)S="point";else if("esriGeometryPolyline"===S)S="line";else if("esriGeometryPolygon"===S||"esriGeometryMultiPatch"===S)S="polygon";return S}var ja={"default":{name:"default",label:"Default",description:"Default theme for basic visualization of features.",basemapGroups:{light:"streets gray topo terrain national-geographic oceans osm gray-vector streets-vector topo-vector streets-relief-vector streets-navigation-vector".split(" "),dark:["satellite","hybrid","dark-gray",
"dark-gray-vector","streets-night-vector"]},pointSchemes:{light:{primary:{color:[77,77,77,1],outline:{color:[255,255,255,.25],width:1},size:8},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:1},size:8},{color:[255,255,255,1],outline:{color:[51,51,51,.25],width:1},size:8}]},dark:{primary:{color:[255,255,255,1],outline:{color:[92,92,92,.25],width:1},size:8},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:1},size:8},{color:[26,26,26,1],outline:{color:[178,
178,178,.25],width:1},size:8}]}},lineSchemes:{light:{primary:{color:[77,77,77,1],width:2},secondary:[{color:[226,119,40,1],width:2},{color:[255,255,255,1],width:2}]},dark:{primary:{color:[255,255,255,1],width:2},secondary:[{color:[226,119,40,1],width:2},{color:[26,26,26,1],width:2}]}},polygonSchemes:{light:{primary:{color:[227,139,79,1],outline:{color:[255,255,255,.25],width:1},opacity:.8},secondary:[{color:[128,128,128,1],outline:{color:[255,255,255,.25],width:1},opacity:.8},{color:[255,255,255,
1],outline:{color:[128,128,128,.25],width:1},opacity:.8}]},dark:{primary:{color:[227,139,79,1],outline:{color:[92,92,92,.25],width:1},opacity:.8},secondary:[{color:[178,178,178,1],outline:{color:[92,92,92,.25],width:1},opacity:.8},{color:[26,26,26,1],outline:{color:[128,128,128,.25],width:1},opacity:.8}]}}}},ca={};(function(){var S,m,n;for(S in ja){var p=ja[S];var f=p.basemapGroups;var a=ca[S]={basemaps:[].concat(f.light).concat(f.dark),point:{},line:{},polygon:{}};for(m in f){var l=f[m];for(n=0;n<
l.length;n++){var c=l[n];p.pointSchemes&&(a.point[c]=p.pointSchemes[m]);p.lineSchemes&&(a.line[c]=p.lineSchemes[m]);p.polygonSchemes&&(a.polygon[c]=p.polygonSchemes[m])}}}})();var la={getAvailableThemes:function(S){var m=[],n;for(n in ja){var p=ja[n];var f=ca[n];S&&-1===xa.indexOf(f.basemaps,S)||m.push({name:p.name,label:p.label,description:p.description,basemaps:f.basemaps.slice(0)})}return m},getSchemes:function(S){var m=S.theme,n=S.basemap,p=D(S.geometryType);S=ca[m];var f;(S=(S=S&&S[p])&&S[n])&&
(f={primaryScheme:N(S.primary,p),secondarySchemes:xa.map(S.secondary,function(a){return N(a,p)})});return f},cloneScheme:function(S){if(S){var m=sa.mixin({},S);m.color&&(m.color=new T(m.color));m.outline&&(m.outline={color:m.outline.color&&new T(m.outline.color),width:m.outline.width})}return m}};ha("extend-esri")&&sa.setObject("styles.basic",la,ia);return la})},"widgets/PublicNotification/reviewResults":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./reviewResults.html dojo/_base/lang jimu/dijit/FeatureSetChooserForMultipleLayers dojo/dom-attr jimu/utils dojo/query dojo/dom-class dojo/Evented dojo/keys dojo/on dijit/focus dijit/form/TextBox".split(" "),
function(xa,sa,ha,ia,T,N,D,ja,ca,la,S,m,n,p,f){return xa([sa,ha,ia,m],{templateString:T,baseClass:"jimu-widget-public-notification-reviewResults",constructor:function(a){a&&N.mixin(this,a)},startup:function(){},postCreate:function(){this.clearBtn.innerHTML=this.nls.common.clear;ja.set(this.clearBtn,"aria-label",this.nls.common.clear);this.reviewResultsDownloadBtn.innerHTML=window.jimuNls.layerInfosMenu.itemDownload;ja.set(this.reviewResultsDownloadBtn,"aria-label",window.jimuNls.layerInfosMenu.itemDownload);
this.addresseeTextbox.set("value",this.addresseeLayer.title);this.formatSelect.addOption(this.formselectOptions);this._eventListners();this._createSelectTool()},_eventListners:function(){this.own(p(this.reviewResultsDownloadBtn,"keydown",N.hitch(this,function(a){a.keyCode!==n.ENTER&&a.keyCode!==n.SPACE||this._onDownloadBtnClicked()})));this.own(p(this.clearBtn,"keydown",N.hitch(this,function(a){a.keyCode!==n.ENTER&&a.keyCode!==n.SPACE||this.emit("clear")})))},_createSelectTool:function(){this._selectTool=
new D({geoTypes:this.geoTypes,map:this.map,updateSelection:!0,fullyWithin:!1},this.selectToolDiv);this._selectTool.startup();var a=la(".draw-item-btn",this._selectTool.domNode)[0];S.add(a,"esriCTselectToolDiv");a=la(".btn-clear",this._selectTool.domNode)[0];S.add(a,"hidden");this._onUnloading()},_onClearBtnClicked:function(){this.emit("clear")},_getGeoType:function(){switch(this.addresseeLayer.layerObject.geometryType){case "esriGeometryPolygon":var a="POLYGON";break;case "esriGeometryPolyline":a=
"POLYLINE";break;case "esriGeometryPoint":a="POINT";break;default:a="EXTENT"}return a},_onUnloading:function(){""!==this._selectTool&&null!==this._selectTool&&void 0!==this._selectTool&&this.own(p(this._selectTool,"unloading",N.hitch(this,function(){this.emit("unloadingComplete")})))},resetFeatureLayerToSelectTool:function(a){var l=[];l.push(a);""!==this._selectTool&&null!==this._selectTool&&void 0!==this._selectTool&&this._selectTool.setFeatureLayers(l)},_deactivateSelectTool:function(){this._selectTool&&
this._selectTool.deactivate()},_onDownloadBtnClicked:function(){this.emit("onDownloadBtnClicked")},setAccessibility:function(){this._setFirstFocusNode();this._setLastFocusNode();this.setFocus()},_setFirstFocusNode:function(){var a=la(".draw-item-btn",this._selectTool.domNode);""!==a&&null!==a&&void 0!==a&&ca.initFirstFocusNode(this.domNode,a[0])},_setLastFocusNode:function(){ca.initLastFocusNode(this.domNode,this.reviewResultsDownloadBtn)},setFocus:function(){ca.focusFirstFocusNode(this.domNode)},
setFocusOnDownloadButton:function(){f.focus(this.reviewResultsDownloadBtn)},updateDownloadBtnAriaLabel:function(a){ja.set(this.reviewResultsDownloadBtn,"aria-label",a?a+" "+this.reviewResultsDownloadBtn.innerHTML:this.reviewResultsDownloadBtn.innerHTML)}})})},"widgets/PublicNotification/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:dijit/templates/ProgressBar.html":'\x3cdiv class\x3d"dijitProgressBar dijitProgressBarEmpty" role\x3d"progressbar"\r\n\t\x3e\x3cdiv  data-dojo-attach-point\x3d"internalProgress" class\x3d"dijitProgressBarFull"\r\n\t\t\x3e\x3cdiv class\x3d"dijitProgressBarTile" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\x3e\x3cspan style\x3d"visibility:hidden"\x3e\x26#160;\x3c/span\r\n\t\x3e\x3c/div\r\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"labelNode" class\x3d"dijitProgressBarLabel" id\x3d"${id}_label"\x3e\x3c/div\r\n\t\x3e\x3cspan data-dojo-attach-point\x3d"indeterminateHighContrastImage"\r\n\t\t   class\x3d"dijitInline dijitProgressBarIndeterminateHighContrastImage"\x3e\x3c/span\r\n\x3e\x3c/div\x3e\r\n',
"url:jimu/dijit/templates/SearchDistance.html":'\x3cdiv\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"cbxDiv"\x3e\x3c/div\x3e\r\n\t\x3ctable style\x3d"table-layout:fixed;width:100%;"\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"15px"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"numberTextBox" data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n\t\t\t\t\t data-dojo-props\x3d\'"required":true,intermediateChanges:false,constraints:{min:0,pattern:"#####0.##########"}\'\r\n\t\t\t\t\t style\x3d"width:100%;" data-dojo-attach-event\x3d"change:_onNumberTextBoxChanged" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cselect data-dojo-type\x3d"jimu/dijit/formSelect" data-dojo-attach-point\x3d"unitSelect"\r\n\t\t\t\t\tdata-dojo-attach-event\x3d"change:_onUnitSelectChanged" style\x3d"width:100%;"\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"MILES" selected\x3e${nls.miles}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"KILOMETERS"\x3e${nls.kilometers}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"FEET"\x3e${nls.feet}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"METERS"\x3e${nls.meters}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"YARDS"\x3e${nls.yards}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"NAUTICAL_MILES"\x3e${nls.nauticalMiles}\x3c/option\x3e\r\n\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e',
"url:jimu/dijit/templates/FeatureSetChooserForMultipleLayers.html":'\x3cdiv class\x3d"jimu-not-selectable"\x3e\r\n  \x3cdiv class\x3d"draw-item-btn" tabindex\x3d"0"\x3e\r\n    \x3cdiv class\x3d"current-draw-item" data-dojo-attach-point\x3d"currentDrawItem"\x3e\r\n      \x3cdiv class\x3d"btn-select" data-dojo-attach-point\x3d"btnSelect"\x3e\r\n        \x3cdiv class\x3d"labels"\x3e\r\n            \x3cdiv class\x3d"feature-action" data-dojo-attach-point\x3d"geoTypeIcon"\x3e\x3c/div\x3e\r\n            \x3cdiv class\x3d"select-text"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"arrow feature-action icon-drop-down" data-dojo-attach-event\x3d"click:_onArrowClicked"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"btn-clear" data-dojo-attach-point\x3d"btnClear" tabindex\x3d"0"\x3e\r\n    \x3cdiv class\x3d"feature-action icon-clear-selection"\x3e\x3c/div\x3e\x3cdiv class\x3d"clear-text"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:esri/dijit/Search/templates/Search.html":'\x3cdiv role\x3d"presentation" class\x3d"${theme}"\x3e\r\n  \x3cdiv role\x3d"presentation" class\x3d"${css.searchGroup}" data-dojo-attach-point\x3d"containerNode"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"expandNode" class\x3d"${css.searchExpandContainer}"\x3e\r\n      \x3cdiv class\x3d"${css.searchAnimateContainer}"\x3e\r\n        \x3cdiv role\x3d"button" title\x3d"${_i18n.widgets.Search.main.searchIn}" id\x3d"${id}_menu_button" class\x3d"${css.searchBtn} ${css.searchToggle}" tabindex\x3d"0" data-dojo-attach-point\x3d"sourcesBtnNode"\x3e\r\n          \x3cspan aria-hidden\x3d"true" role\x3d"presentation" class\x3d"${css.searchToggleIcon}"\x3e\x3c/span\x3e\x3cspan class\x3d"${css.searchSourceName}" data-dojo-attach-point\x3d"sourceNameNode"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"${css.searchInputGroup}"\x3e\r\n          \x3cform data-dojo-attach-point\x3d"formNode"\x3e\r\n            \x3cinput maxlength\x3d"${maxLength}" autocomplete\x3d"off" type\x3d"text" tabindex\x3d"0" class\x3d"${css.searchInput}" value\x3d"${value}" aria-haspopup\x3d"true" id\x3d"${id}_input" data-dojo-attach-point\x3d"inputNode" role\x3d"textbox"\x3e\r\n          \x3c/form\x3e\r\n          \x3cdiv role\x3d"button" class\x3d"${css.searchClear}" tabindex\x3d"0" data-dojo-attach-point\x3d"clearNode"\x3e\x3cspan aria-hidden\x3d"true" class\x3d"${css.searchClearIcon}"\x3e\x3c/span\x3e\x3cspan aria-hidden\x3d"true" class\x3d"${css.searchSpinner}"\x3e\x3c/span\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"suggestionsNode" class\x3d"${css.searchMenu} ${css.suggestionsMenu}"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv role\x3d"button" title\x3d"${_i18n.widgets.Search.main.searchButtonTitle}" class\x3d"${css.searchBtn} ${css.searchSubmit}" tabindex\x3d"0" data-dojo-attach-point\x3d"submitNode"\x3e\r\n      \x3cspan aria-hidden\x3d"true" role\x3d"presentation" class\x3d"${css.searchIcon}"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"${css.searchButtonText}"\x3e${_i18n.widgets.Search.main.searchButtonTitle}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"sourcesNode" class\x3d"${css.searchMenu} ${css.sourcesMenu}"\x3e\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"noResultsMenuNode" class\x3d"${css.searchMenu} ${css.searchNoResultsMenu}"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.searchClearFloat}"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/PublicNotification/reviewResults.html":' \x3cdiv style\x3d"width: 100%;" data-dojo-attach-point\x3d"reviewResultsNode"\x3e\r\n     \x3cdiv class\x3d"esriCTHeader"\x3e\r\n     \x3cdiv class\x3d"esriCTPageTittle"\x3e${nls.reviewResults.reviewResultsLabel}\x3c/div\x3e\r\n     \x3cdiv class\x3d"esriCTPageContent"\x3e\r\n\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.addresseeSource}\x3c/div\x3e\r\n            \x3cdiv class\x3d"entryFullWidth"\x3e\r\n              \x3cdiv style\x3d"width: 100%;" aria-label\x3d"${nls.groupingLabels.addresseeSource}" data-dojo-attach-point\x3d"addresseeTextbox" data-dojo-type\x3d"dijit/form/TextBox" disabled\x3dtrue\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cdiv class\x3d"section" style\x3d"padding-bottom:5px;"\x3e\r\n            \x3cdiv class\x3d"esriCTSelectToolWrapper"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"selectToolDiv"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.formatHeaderText}\x3c/div\x3e\r\n            \x3cdiv class\x3d"entryFullWidth"\x3e\r\n              \x3cselect aria-label\x3d"${nls.groupingLabels.formatHeaderText}" class\x3d"lastFocusNode" data-dojo-attach-point\x3d"formatSelect" data-dojo-type\x3d"jimu/dijit/formSelect"\x3e\x3c/select\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv id\x3d"rrNumAddresseesFound" class\x3d"hidden"\x3e\x3c/div\x3e\r\n            \x3c!-- aria-label added at runtime --\x3e\r\n            \x3cdiv class\x3d"esriCTButtonsWrapper"\x3e\r\n                \x3cdiv class\x3d"esriCTButton esriCTMargin10"\x3e\r\n                    \x3cdiv tabindex\x3d"0" role\x3d"button" data-dojo-attach-point\x3d"clearBtn" class\x3d"jimu-btn jimu-float-trailing"\r\n                    data-dojo-attach-event\x3d"onclick:_onClearBtnClicked"\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriCTButton esriCTMargin2"\x3e\r\n                    \x3cdiv tabindex\x3d"0" role\x3d"button" data-dojo-attach-point\x3d"reviewResultsDownloadBtn"\r\n                        class\x3d"jimu-btn jimu-float-trailing focusableItem" data-dojo-attach-event\x3d"onclick:_onDownloadBtnClicked"\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n     \x3c/div\x3e\r\n    \x3c/div\x3e\r\n \x3c/div\x3e',
"url:widgets/PublicNotification/Widget.html":'\x3cdiv\x3e\r\n    \x3cdiv id\x3d"activeWidgetSection" style\x3d"display:none" data-dojo-attach-point\x3d"mainPageContainer"\x3e\r\n        \x3cdiv id\x3d"sourceInputsSection"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.searchHeaderText}\x3c/div\x3e\r\n            \x3cdiv class\x3d"section"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"searchNode" class\x3d"search-node searchDijitFillsContainer"\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv tabindex\x3d"-1" data-dojo-attach-point\x3d"searchResultsNode" class\x3d"searchResults arcgisSearch"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"section" data-dojo-attach-point\x3d"drawBoxDijit"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"drawBoxDiv"\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"section" data-dojo-attach-point\x3d"searchDistanceDijit" style\x3d"height:68px"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"searchDistanceDiv" class\x3d"section entryFullWidth"\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv id\x3d"sourceInputsSectionScrim" class\x3d\'scrim hidden\'\x3e\x3c/div\x3e\r\n\r\n        \x3cdiv id\x3d"addresseeSourceSection" class\x3d"section"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.addresseeSource}\x3c/div\x3e\r\n            \x3cdiv class\x3d"entryFullWidth"\x3e\r\n                \x3cselect aria-label\x3d"${nls.groupingLabels.addresseeSource}" data-dojo-attach-point\x3d"addresseeSelect"\r\n                    data-dojo-type\x3d"jimu/dijit/formSelect"\x3e\x3c/select\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.formatHeaderText}\x3c/div\x3e\r\n            \x3cdiv class\x3d"entryFullWidth"\x3e\r\n                \x3cselect aria-label\x3d"${nls.groupingLabels.formatHeaderText}" class\x3d"lastFocusNode" data-dojo-attach-point\x3d"formatSelect"\r\n                    data-dojo-type\x3d"jimu/dijit/formSelect"\x3e\x3c/select\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv id\x3d"numAddresseesFound"\x3e\x3c/div\x3e\r\n            \x3c!-- aria-label added at runtime --\x3e\r\n            \x3cdiv class\x3d"esriCTButtonsWrapper"\x3e\r\n                \x3cdiv class\x3d"esriCTButton esriCTMargin10"\x3e\r\n                    \x3cdiv tabindex\x3d"0" role\x3d"button" data-dojo-attach-point\x3d"reviewBtn" data-dojo-attach-event\x3d"onclick:_onReviewBtnClicked" class\x3d"jimu-btn jimu-float-trailing hidden"\x3e\x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriCTButton esriCTMargin2"\x3e\r\n                    \x3cdiv tabindex\x3d"0" role\x3d"button" data-dojo-attach-point\x3d"downloadBtn" data-dojo-attach-event\x3d"onclick:_onDownloadBtnClicked" class\x3d"jimu-btn jimu-float-trailing focusableItem hidden"\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv data-dojo-type\x3d"dijit/ProgressBar" class\x3d"progressbar"\r\n                data-dojo-attach-point\x3d"indeterminateProgress" id\x3d"indeterminateProgress"\x3e\x3c/div\x3e\r\n            \x3cdiv data-dojo-type\x3d"dijit/ProgressBar" class\x3d"progressbar"\r\n                data-dojo-attach-point\x3d"determinateProgress" id\x3d"downloadProgress"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3c!-- results review page starts --\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"reviewResultsContainer"\x3e\x3c/div\x3e\r\n    \x3c!-- results review page ends --\x3e\r\n    \x3cdiv id\x3d"nothingConfiguredSection" style\x3d"display:none"\x3e\r\n        \x3cdiv\x3e${nls.tooltips.nothingConfigured}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/PublicNotification/css/style.css":'.jimu-widget-public-notification .search-controls {height: 34px;}.jimu-widget-public-notification .search-node {height: 34px;}.jimu-widget-public-notification .esriCTSelectLocationDiv {margin: 0px 0px 0px 2px; float: right; min-width: 34px;}.jimu-widget-public-notification .imgBtnCell {width: 34px;}.jimu-widget-public-notification .imgBtn {cursor: pointer; width: 34px; height: 34px; border: 1px solid #57585A; border-radius: 4px; background-position: center center; background-repeat: no-repeat; position: relative;}.jimu-widget-public-notification .focusableItem:focus {border-color: rgb(81,177,254); box-shadow: rgb(81,177,254) 0px 0px 5px 0px; outline-color: rgb(77,144,254);}.jimu-widget-public-notification .arcgisSearch .searchBtn {padding: 6px;}.jimu-widget-public-notification table {width: 100%;}.jimu-widget-public-notification {min-height: 32px;}.jimu-widget-public-notification .search-node.default-width-for-openAtStart {width: 274px;}.jimu-widget-public-notification .result-item-selected {background: #eee;}.jimu-widget-public-notification .arcgisSearch .searchBtn {padding: 6px;}.jimu-widget-public-notification .arcgisSearch .searchBtn:hover,.jimu-widget-public-notification .arcgisSearch .searchBtn:focus {background-color: #485566; color: white;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchToggle {float: left;}.jimu-rtl .jimu-widget-public-notification.use-absolute .arcgisSearch .searchToggle {float: right;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchInputGroup {position: absolute; top: 0; width: auto; left: 34px; right: 34px;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchInputGroup form {overflow: hidden; z-index: 0; position: relative;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchInputGroup .searchClear {z-index: 0;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchExpandContainer {float: none;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchSubmit {float: right;}.jimu-rtl .jimu-widget-public-notification.use-absolute .arcgisSearch .searchSubmit {float: left;}.jimu-widget-public-notification .arcgisSearch .show-all-results {position: absolute; height: 25px; color: #686868; line-height: 25px; display: none; width: 237px; margin: auto; background-color: #fff; padding: 0 12px; cursor: pointer;}.jimu-widget-public-notification .arcgisSearch .searchMenu {border-radius: 0; color: #686868; font-size: 12px; padding: 0; top: 33px;}.jimu-widget-public-notification .arcgisSearch .searchMenu li.active {background-color: #d9dde0; color: #686868; font-size: 14px;}.jimu-widget-public-notification .arcgisSearch .searchMenu li {padding: 0 12px; line-height: 25px;}.jimu-widget-public-notification .arcgisSearch .searchMenu .menuHeader {background-color: #d9dde0; color: #686868; font-size: 14px; min-height: 30px; padding: 0 12px; line-height: 30px;}.dart-panel .jimu-widget-public-notification .arcgisSearch .searchMenu {background-color: #373737 !important;}.dart-panel .jimu-widget-public-notification .arcgisSearch .searchMenu li.active {background-color: #4C4C4C !important;}.dart-panel .jimu-widget-public-notification .arcgisSearch .searchMenu li:hover, .dart-panel .jimu-widget-public-notification .arcgisSearch .searchMenu li:focus {background-color: #232323 !important;}.jimu-widget-public-notification .section,.jimu-widget-public-notification-reviewResults .section {clear: both; padding-bottom: 12px;}.jimu-widget-public-notification .entryFullWidth,.jimu-widget-public-notification-reviewResults .entryFullWidth {margin: 4px; height: 30px;}.jimu-widget-public-notification .distance {width: calc(100% - 126px); width: 49%;}.jimu-widget-public-notification .unitsSelect {float: right; width: 120px; width: 49%;}.jimu-widget-public-notification .hidden,.jimu-widget-public-notification-reviewResults .hidden {display: none;}.jimu-widget-public-notification .sourceInputsSection {position: relative;}.jimu-widget-public-notification .scrim {position: absolute; background-color: transparent; z-index: 10;}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .searchExpandContainer {float: none; width: calc(100% - 22px);}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .searchInputGroup {width: calc(100% - 12px);}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .searchGroup .searchInput {width: calc(100% - 13px); padding: 6px;}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .hasMultipleSources .searchExpandContainer {float: none; width: calc(100% - 10px);}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .hasMultipleSources .searchInputGroup {width: calc(100% - 58px);}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .hasMultipleSources .searchInput {width: calc(100% - 12px); padding: 6px;}.jimu-widget-public-notification #numAddresseesFound {margin-left: 5px; margin-bottom: 12px;}.jimu-widget-public-notification .progressbar {display: none; margin-top: 40px;}.jimu-widget-public-notification .esriCTClearBoth {clear: both;}.jimu-widget-public-notification .esriCTFullWidth {width: 100%;}.jimu-widget-public-notification .switch-toggle.dijitCheckBox {height: 16px; width: 28px; border: 0 none; background: #adadad; position: relative; display: inline-block; cursor: pointer; -moz-border-radius: 10px; -webkit-border-radius: 10px; border-radius: 10px; margin-left: 2px;}.jimu-widget-public-notification .switch-toggle.dijitCheckBox:before {content: ""; background: #f8f8f8; position: absolute; padding: 0; height: 12px; width: 12px; left: auto; right: 14px; top: 2px; z-index: 1; -webkit-transition: right 0.3s; -moz-transition: right 0.3s; -o-transition: right 0.3s; transition: right 0.3s; -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%;}.jimu-widget-public-notification .switch-toggle.dijitCheckBox input {width: 100%; height: 100%; position: absolute; left: 0; z-index: 2;}.jimu-widget-public-notification .switch-toggle.dijitCheckBox.dijitCheckBoxChecked {background: #50ad4e;}.jimu-widget-public-notification .switch-toggle.dijitCheckBox.dijitCheckBoxChecked:before {right: 2px;}.jimu-widget-public-notification .esriCTButton, .jimu-widget-public-notification-reviewResults .esriCTButton {display: inline-block; max-width: 140px;}.jimu-widget-public-notification .esriCTButtonsWrapper, .jimu-widget-public-notification-reviewResults .esriCTButtonsWrapper {width: 100%; overflow: hidden; text-align: right; padding-top: 2px;}.jimu-widget-public-notification-reviewResults .esriCTHeader {height: 30px; border-bottom: 1px solid #464646; width: 100%;}.jimu-widget-public-notification-reviewResults .esriCTPageContent {width: calc(100% - 20px); margin: 20px 10px 10px 10px; display: inline-block;}.jimu-widget-public-notification-reviewResults .esriCTPageTittle {line-height: 10px; font-weight: bold; text-align: center; width: 100%; padding: 5px 3px 5px 3px; display: inline-block;}.jimu-widget-public-notification-reviewResults .esriCTselectToolDiv {margin: 0 auto;}.jimu-rtl .jimu-widget-public-notification .esriCTButtonsWrapper,.jimu-rtl .jimu-widget-public-notification-reviewResults .esriCTButtonsWrapper {text-align: left;}.jimu-rtl .jimu-widget-public-notification .esriCTMargin10,.jimu-rtl .jimu-widget-public-notification-reviewResults .esriCTMargin10 {margin-left: 10px;}.jimu-widget-public-notification .esriCTMargin10,.jimu-widget-public-notification-reviewResults .esriCTMargin10 {margin-right: 10px;}.jimu-widget-public-notification .esriCTMargin2,.jimu-widget-public-notification-reviewResults .esriCTMargin2 {margin-right: 2px;}.jimu-rtl .jimu-widget-public-notification .esriCTMargin2,.jimu-rtl .jimu-widget-public-notification-reviewResults .esriCTMargin2 {margin-left: 2px;}.jimu-widget-public-notification #rrNumAddresseesFound {margin-left: 5px; margin-bottom: 12px;}',
"*now":function(xa){xa(['dojo/i18n!*preload*widgets/PublicNotification/nls/Widget*["ar","bg","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/_base/array dojo/_base/Color dojo/_base/lang dojo/dom dojo/DeferredList dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/Evented dojo/keys dojo/on dojo/dom-attr dojo/query dojo/string dijit/_WidgetsInTemplateMixin dijit/ProgressBar esri/geometry/geometryEngineAsync esri/layers/GraphicsLayer esri/tasks/BufferParameters esri/tasks/GeometryService esri/tasks/query esri/tasks/QueryTask esri/tasks/RelationshipQuery jimu/dijit/DrawBox jimu/dijit/SearchDistance jimu/dijit/FeatureSetChooserForMultipleLayers jimu/BaseWidget jimu/LayerInfos/LayerInfos jimu/utils ./Download_Avery ./Download_CSV ./Highlighter ./labelFormatUtils ./Queryer ./SearchLayers jimu/FilterManager jimu/SelectionManager esri/layers/FeatureLayer jimu/utils esri/symbols/SimpleFillSymbol esri/symbols/SimpleLineSymbol esri/renderers/SimpleRenderer esri/graphic ./reviewResults dijit/form/CheckBox jimu/dijit/formSelect dojo/domReady!".split(" "),function(xa,
sa,ha,ia,T,N,D,ja,ca,la,S,m,n,p,f,a,l,c,h,e,k,d,q,x,w,E,z,u,y,G,Q,V,M,O,H,A,P,W,X,ba,na,da,Ba,qa,ya,t){return xa([y,l,S],{baseClass:"jimu-widget-public-notification",_origin:void 0,_bufferDistanceMeters:0,_drawToolOption:{},_activeDrawToolNode:null,_formatCodeHandlers:{AVERY:"./Download_Avery",CSV:"./Download_CSV"},_formatCodeHandlerInstances:{AVERY:null,CSV:null},_bufferGeometry:null,_searchResultSymbology:{point:{lineColor:new ha("aqua"),lineWidth:2,fillColor:new ha([0,255,255,.1])},line:{lineColor:new ha("aqua"),
lineWidth:2},polygon:{lineColor:new ha("aqua"),lineWidth:2,fillColor:new ha([0,255,255,.1])}},_bufferSymbology:{point:{lineColor:new ha("green"),lineWidth:3,fillColor:new ha([0,255,0,.1])},line:{lineColor:new ha("green"),lineWidth:3},polygon:{lineColor:new ha("green"),lineWidth:3,fillColor:new ha([0,255,0,.1])}},_addresseeSymbology:{point:{lineColor:new ha("blue"),lineWidth:2,fillColor:new ha([0,0,255,.1])},line:{lineColor:new ha("blue"),lineWidth:2},polygon:{lineColor:new ha("blue"),lineWidth:2,
fillColor:new ha([0,0,255,.1])}},_addresseeSources:[],_foundAddressees:[],_foundLabels:[],nls:null,config:null,_testConfig:null,_currentOpenPanel:"mainPage",_reviewResultsObj:null,_geoTypes:null,constructor:function(v,F){this._testConfig=F},postMixInProperties:function(){this._testConfig&&(this.nls=this._testConfig.nls,this.config=this._testConfig.config);this.nls.common={};ia.mixin(this.nls.common,window.jimuNls.common)},postCreate:function(){this.inherited(arguments);this.filterManager=W.getInstance();
this.selectionManager=X.getInstance();this._activeDrawToolNode=null;this._checkDownloadBtnEnable()},_setTheme:function(){var v;if("DartTheme"===this.appConfig.theme.name)na.loadStyleLink(this.baseClass+"dartPanelOverrideCSS",this.folderUrl+"/css/dartPanelTheme.css",null);else if(v=document.getElementById(this.baseClass+"dartPanelOverrideCSS"))v.disabled=!0},startup:function(){this.inherited(arguments);this._currentOpenPanel="mainPage";this._geoTypes=this._reviewResultsObj=null;this._init();this._setTheme()},
onOpen:function(){this._searchComponent&&this._searchComponent.setFocus();this._dblClickZoom=this.map.isDoubleClickZoom},onClose:function(){this._clearAll();this._drawTool&&this._drawTool.deactivate();this._showPanel("mainPage");this._deactivateSelectTool();this._deactivateReviewSelectTool();this._clearLayers()},destroy:function(){this._drawTool&&(this._drawTool.destroyRecursive(),this._drawTool=null);this.inherited(arguments)},_isFeatureUsedForBuffereing:function(v,F){var C=!1;this._prevSelectedFeatures&&
this._prevSelectedFeatures.bufferedFeatures&&0<this._prevSelectedFeatures.bufferedFeatures.length&&sa.some(this._prevSelectedFeatures.bufferedFeatures,function(J){if(v===J._layer.id&&J.attributes[J._layer.objectIdField]===F)return C=!0});return C},_filterBufferedFeatures:function(v){var F=[],C=[];sa.forEach(v,function(J){this._isFeatureUsedForBuffereing(J._layer.id,J.attributes[J._layer.objectIdField])?F.push(J):C.push(J)},this);return{bufferedFeatures:F,nonBufferedFeatures:C}},_init:function(){var v,
F,C=[],J;this.own(n(this.downloadBtn,"keydown",ia.hitch(this,function(oa){oa.keyCode!==m.ENTER&&oa.keyCode!==m.SPACE||this._onDownloadBtnClicked()})));this.own(n(this.reviewBtn,"keydown",ia.hitch(this,function(oa){oa.keyCode!==m.ENTER&&oa.keyCode!==m.SPACE||this._onReviewBtnClicked()})));G.getInstance(this.map,this.map.itemInfo).then(ia.hitch(this,function(oa){var aa=ia.clone(this.config.searchSourceSettings.search);R=this.config.searchSourceSettings.drawing.tools[0];v=sa.filter(this.config.searchSourceSettings.drawing.tools.slice(1),
function(L,Z){return"1"===R[Z]});0<v.length&&(this._drawToolOption.map=this.map,this._drawToolOption.geoTypes=v,this._drawToolOption.showClear=!0,this._drawToolOption.keepOneGraphic=!0,this._drawTool=new E(this._drawToolOption),F=this._drawTool.domNode.childNodes[1].children,sa.forEach(v,function(L){sa.some(F,function(Z){return Z.attributes["data-geotype"].nodeValue===L?(C.push(Z),!0):!1})}),C.push(F[F.length-1]),this._replaceChildren(this._drawTool.domNode.childNodes[1],C),this._drawTool.placeAt(this.drawBoxDiv),
this.own(this._drawTool.on("icon-selected",ia.hitch(this,this._onDrawIconSelected))),this.own(this._drawTool.on("draw-end",ia.hitch(this,this._onDrawEnd))),this.own(this._drawTool.on("clear",ia.hitch(this,this._onDrawClear))),this.own(this._drawTool.on("user-clear",ia.hitch(this,this._onDrawClear))));if(this.config.searchSourceSettings.drawing.select){var wa=ja.create("div",{width:"100%"});var B=ja.create("div",null,wa);J=v.indexOf("LINE");0<=J&&(v.splice(J,1),0>v.indexOf("POLYLINE")&&v.splice(J,
0,"POLYLINE"));this._geoTypes=0<v.length?v:["EXTENT"];this._selectTool=new u({geoTypes:this._geoTypes,map:this.map,updateSelection:!0,fullyWithin:!1},B);this._selectTool.startup();this.mapSelectionLayers=sa.filter(sa.map(oa.getLayerInfoArray(),function(L){return L.layerObject}),function(L){return L});var I=sa.filter(sa.map(aa.sources,function(L){return L.layerId}),function(L){return L});this.mapSelectionLayers=sa.filter(this.mapSelectionLayers,function(L){return 0<=I.indexOf(L.id)});0<this.mapSelectionLayers.length&&
this._selectTool.setFeatureLayers(this.mapSelectionLayers);B=f(".draw-item-btn",this._selectTool.domNode)[0];this.own(n(B,"click",ia.hitch(this,this._onSelectSelected)));B=f(".arrow",this._selectTool.domNode)[0];this.own(n(B,"click",ia.hitch(this,this._onSelectSelected)));B=f(".btn-clear",this._selectTool.domNode)[0];this.own(n(B,"click",ia.hitch(this,this._onSelectClear)));this.own(n(this._selectTool,"unloading",ia.hitch(this,function(L,Z,ea,Y,va){var ma=[];!this._prevSelectedFeatures||Y||va||(this._prevSelectedFeatures=
null);var Ea={};sa.forEach(this.mapSelectionLayers,ia.hitch(this,function(Ia){var Ma=Ia.getSelectedFeatures(),za=[];if(0<Ma.length){for(var Ua=0;Ua<Ma.length;Ua++)za.push(Ma[Ua].attributes[Ia.objectIdField]);Ea[Ia.id]={layer:Ia,where:Ia.objectIdField+" in ( "+za.join()+" )"}}}));L=[];var La=[];if(0<Object.keys(Ea).length)for(var Ta in Ea)La.push(Ea[Ta].layer),L.push(this._queryer.findIntersectingFeatures(null,Ea[Ta].layer.url,[Ea[Ta].layer.objectIdField],Ea[Ta].where,this.map.spatialReference));(new N(L)).then(ia.hitch(this,
function(Ia){for(var Ma=0;Ma<Ia.length;Ma++)Ia[Ma]&&1<Ia[Ma].length&&Ia[Ma][1].features&&(Ia[Ma][1].features=sa.map(Ia[Ma][1].features,function(za){za._layer=La[Ma];return za}),ma=ma.concat(Ia[Ma][1].features),this.selectionManager&&this.selectionManager.getDisplayLayer(Ia[Ma][1].features[0]._layer.id)&&this.selectionManager._updateDisplayLayer(Ia[Ma][1].features[0]._layer,Ia[Ma][1].features));this._prevSelectedFeatures=!this._bufferDistanceMeters||this._bufferDistanceMeters&&!this._prevSelectedFeatures?
{bufferedFeatures:ma,nonBufferedFeatures:[]}:this._filterBufferedFeatures(ma);this._origin=sa.map(this._prevSelectedFeatures.bufferedFeatures,function(za){return za.geometry});this._prevSelectedFeatures&&(0<this._prevSelectedFeatures.nonBufferedFeatures.length||0<this._prevSelectedFeatures.bufferedFeatures.length)?this._doBufferSearch(this._prevSelectedFeatures.nonBufferedFeatures):this._clearAll();0===ma.length&&(this._prevSelectedFeatures=null)}))})));ja.place(wa,this.drawBoxDiv,"last")}aa.map=
this.map;this._searchComponent=new P(aa,this.appConfig.portalUrl,oa,ja.create("div",null,this.searchNode),this);this._searchComponent.searchDijit().then(ia.hitch(this,function(L){this._searchDijit=L;this.own(n(L,"search-results",ia.hitch(this,this._onSearchResults)));this.own(n(L,"clear-search",ia.hitch(this,this._onClearSearch)));1===this._searchComponent.sources.length?Q.initFirstFocusNode(this.domNode,this._searchComponent._searchDijit.inputNode):Q.initFirstFocusNode(this.domNode,this._searchComponent._searchDijit.sourcesBtnNode);
this.openAtStartAysn=!0;na.isAutoFocusFirstNodeWidget(this)&&Q.focusFirstFocusNode(this.domNode)}));R=this.config.addresseeSourceSettings.sources[0];this._addresseeSources=sa.filter(this.config.addresseeSourceSettings.sources.slice(1),function(L,Z){return"1"===R[Z]});sa.forEach(this._addresseeSources,function(L,Z){sa.some(oa._operLayers,function(ea){return L.name===ea.title&&ea.popupInfo&&ea.popupInfo.description?(L.labelLineTemplates=H.convertPopupToLabelSpec(ea.popupInfo),L.labelLineTemplates.expressionInfos=
ea.popupInfo.expressionInfos,L.labelLineTemplates.parsedExpressions=H.parseArcadeExpressions(ea.popupInfo.expressionInfos),L.url=ea.url,L.useRelatedRecords&&(L.labelLineTemplates.relationships=this._createRelationshipQueries(ea)),this.addresseeSelect.addOption({value:Z,label:L.name,id:ea.id}),!0):!1},this)},this)}));if(0<this.addresseeSelect.options.length){la.set("activeWidgetSection","display","");this.own(this.addresseeSelect.on("change",ia.hitch(this,this._updateAddresseesFromBufferGeometry)));
this._queryer=new A(this.map,this.config.searchSourceSettings.geometryServiceURL);this._bufferLayer=new e;this.map.addLayer(this._bufferLayer);this._highlighter=new O(100);this._createSearchDistanceDisplay();var R=this.config.notificationSettings.labelFormats[0];sa.filter(this.config.notificationSettings.labelFormats.slice(1),ia.hitch(this,function(oa,aa){var wa="1"===R[aa];wa&&this.formatSelect.addOption({value:aa,label:"\x3cspan"+(oa.hint?' title\x3d"'+oa.hint+'"':"")+"\x3e"+oa.name+"\x3c/span\x3e"});
return wa}));this.reviewBtn.innerHTML=this.nls.reviewButtonLabel;this.downloadBtn.innerHTML=window.jimuNls.layerInfosMenu.itemDownload;p.set(this.downloadBtn,"aria-label",window.jimuNls.layerInfosMenu.itemDownload);this.resize()}else la.set("nothingConfiguredSection","display","block")},_createSearchDistanceDisplay:function(v){var F=!1,C=[],J=!1;this._searchDistance?F=this._searchDistance.isEnabled():ja.empty(this.searchDistanceDiv);this._searchDistanceSource=v;v="undefined"===typeof this._searchDistanceSource?
this.config.searchSourceSettings.drawing.buffer:this.config.searchSourceSettings.search.sources[this._searchDistanceSource].buffer;var R=v.bufferUnitsMenu[0];var oa=sa.filter(v.bufferUnitsMenu.slice(1),function(wa,B){return"1"===R[B]});this._searchDistance||(this._searchDistance=new z({distance:v.bufferDistance,unit:v.bufferUnits}),this._allUnitOptions=ia.clone(this._searchDistance.unitSelect.options),J=!0);var aa=this._allUnitOptions;sa.forEach(oa,function(wa){sa.some(aa,function(B){return B.value===
wa?(C.push(B),!0):!1},this)},this);0<C.length&&this._searchDistance.unitSelect.set("options",C);J?this._searchDistance.placeAt(this.searchDistanceDiv):(this._searchDistance.setDistance(v.bufferDistance),this._searchDistance.setUnit(v.bufferUnits));F?this._searchDistance.enable():this._searchDistance.disable();this._updateDisplayedBuffer(this._searchDistance.getData());J&&(this.own(this._searchDistance.numberTextBox.on("keyup",ia.hitch(this,this._onBufferDistanceKeyup))),this.own(n(this._searchDistance,
"change",ia.hitch(this,this._onSearchDistanceChanged))))},_updateDisplayedBuffer:function(v){this._bufferDistanceMeters=0;v&&v.isEnabled&&0<=v.meters&&(this._bufferDistanceMeters=v.meters);Array.isArray(this._origin)&&0<this._origin.length&&(this._prevSelectedFeatures&&0<this._prevSelectedFeatures.bufferedFeatures.length&&this._prevSelectedFeatures.nonBufferedFeatures?this._doBufferSearch(this._prevSelectedFeatures.nonBufferedFeatures):this._doBufferSearch())},_replaceChildren:function(v,F){for(;v.firstChild;)v.removeChild(v.firstChild);
sa.forEach(F,function(C){v.appendChild(C)})},_createRelationshipQueries:function(v){var F=!1,C={},J=/\d+/,R;if(R=v.popupInfo.description.match(/\{relationships\/\d+\//gm))F=!0,sa.forEach(R,function(oa){var aa=oa.match(J)[0];C.hasOwnProperty(aa)||(oa=new w,oa.outFields=["*"],oa.relationshipId=aa,oa.returnGeometry=!1,C[aa]={operLayer:v,relatedQuery:oa})});return F?C:null},_enableSourceInputs:function(v){var F=T.byId("sourceInputsSectionScrim");v?D.add(F,"hidden"):(v=ca.getMarginBox(T.byId("sourceInputsSection")),
ca.setMarginBox(F,v),D.remove(F,"hidden"))},_doBufferSearch:function(v){this._onStartBuffer();(!this._origin||this._origin&&0>=this._origin.length)&&v&&0<v.length&&this._unionNonBufferdFeatures(null,v);this._queryer.createBufferFromGeometries(this._origin,this._bufferDistanceMeters).then(ia.hitch(this,function(F){v&&0<v.length?this._unionNonBufferdFeatures(F,v):(this._bufferGeometry=F,Q.featureAction.zoomTo(this.map,[this._bufferGeometry]),this._updateAddresseesFromBufferGeometry())}),ia.hitch(this,
function(F){this._onEndBuffer();console.log(F)}))},_unionNonBufferdFeatures:function(v,F){var C;F=sa.map(F,function(J){return J.geometry});this._queryer.createBufferFromGeometries(F,0).then(ia.hitch(this,function(J){v?(C=[v].concat(J),this._queryer.createUnionOfGeometries(C).then(ia.hitch(this,function(R){this._onBufferAndUnionComplete(R)}),ia.hitch(this,function(R){this._onEndBuffer();console.log(R)}))):this._onBufferAndUnionComplete(J)}),ia.hitch(this,function(J){this._onEndBuffer();console.log(J)}))},
_onBufferAndUnionComplete:function(v){this._bufferGeometry=v;Q.featureAction.zoomTo(this.map,[this._bufferGeometry]);this._updateAddresseesFromBufferGeometry()},_getExpressionByLayerURL:function(v,F){var C="",J;for(J in this.map._layers)if(this.map._layers[J].url===v&&J===F){C=this.filterManager.getFilterExp(J);break}return C},_updateAddresseesFromBufferGeometry:function(){this._onStartBuffer();if(this._bufferGeometry){this.indeterminateProgress.set({value:Number.POSITIVE_INFINITY});la.set(this.indeterminateProgress.domNode,
"display","block");this._createAndAddGraphic(this._bufferGeometry,this._bufferSymbology,this._bufferLayer);var v=this.addresseeSelect._getSelectedOptionsAttr().id;v=this._getExpressionByLayerURL(this._addresseeSources[this.addresseeSelect.value].url,v);this._queryer.find(this._bufferGeometry,this._addresseeSources[this.addresseeSelect.value].url,["*"],"addressee",v).then(ia.hitch(this,function(F){F.features&&Array.isArray(F.features)&&0<F.features.length?(this._foundAddressees=F.features,la.set(this.indeterminateProgress.domNode,
"display","none"),this._highlighter.highlightFeatures(this._foundAddressees,ia.hitch(this,this._createAndAddGraphic),this._addresseeSymbology,this._bufferLayer,ia.hitch(this,this._setProgressPercentage))):this._activeDrawToolNode&&(this._activeDrawToolNode.focus(),this._activeDrawToolNode=null);this._onEndBuffer()}),ia.hitch(this,function(F){this._onEndBuffer();console.log(F)}))}else this._onEndBuffer()},_setProgressPercentage:function(v){0>=v?(this.determinateProgress.set({value:0}),la.set(this.determinateProgress.domNode,
"display","block")):100<=v?(this.determinateProgress.set({value:100}),la.set(this.determinateProgress.domNode,"display","none")):this.determinateProgress.set({value:v})},_createAndAddGraphic:function(v,F,C){(v=this._highlighter.createGraphic(v,F))&&C.add(v)},_onBufferDistanceKeyup:function(v){v.keyCode===m.ENTER&&this._updateDisplayedBuffer(this._searchDistance.getData())},_onSearchDistanceChanged:function(v){var F="undefined"===typeof this._searchDistanceSource?this.config.searchSourceSettings.drawing.buffer:
this.config.searchSourceSettings.search.sources[this._searchDistanceSource].buffer;F.bufferDistance=v.distance;F.bufferUnits=v.unit;this._updateDisplayedBuffer(v)},_onSearchResults:function(v){var F=v.results,C=v.activeSourceIndex;this._clearAll();0<v.numResults&&F&&H.objEach(F,function(J,R){J&&0<J.length&&(this._origin=[J[0].feature.geometry],this._createAndAddGraphic(J[0].feature,this._searchResultSymbology,this.map.graphics),this._createSearchDistanceDisplay("all"===C?R:C),this._doBufferSearch())},
this)},_onClearSearch:function(){this._clearAll()},_onDrawIconSelected:function(v){this._selectTool&&this._selectTool.isActive()&&this._selectTool.deactivate();this._activeDrawToolNode=v;this.map.disableDoubleClickZoom();this.map.navigationManager.setImmediateClick(!0);this.map.setInfoWindowOnClick(!1);this._clearAll();this._createSearchDistanceDisplay()},_onDrawEnd:function(v){this._dblClickZoom&&this.map.enableDoubleClickZoom();this.map.navigationManager.setImmediateClick(!1);this._origin=[v.geometry];
this._doBufferSearch()},_onDrawClear:function(){this.map.setInfoWindowOnClick(!0);this._clearAll()},_onSelectSelected:function(){this._onSelectClear()},_onSelectClear:function(){this._clearAll();this._createSearchDistanceDisplay()},_onStartBuffer:function(){this._enableSourceInputs(!1);this._clearBufferGraphics();this.indeterminateProgress.set({value:Number.POSITIVE_INFINITY});la.set(this.indeterminateProgress.domNode,"display","block")},_onEndBuffer:function(){this._enableSourceInputs(!0);la.set(this.indeterminateProgress.domNode,
"display","none");this._checkDownloadBtnEnable()},_clearAll:function(){this._origin=void 0;this._prevSelectedFeatures=null;this._foundAddressees=[];this._foundLabels=[];this._bufferGeometry=null;this._clearSelections();this.map.graphics.clear();this._drawTool&&this._drawTool.drawLayer&&this._drawTool.drawLayer.clear();this._clearBufferGraphics();this._checkDownloadBtnEnable()},_clearSelections:function(){this._selectTool&&this._selectTool.clear(!0);sa.forEach(this.mapSelectionLayers,function(v){v.clearSelection()})},
_clearBufferGraphics:function(){this._foundAddressees=[];this._foundLabels=[];this._bufferLayer&&this._bufferLayer.clear();this._checkDownloadBtnEnable()},_checkDownloadBtnEnable:function(){0<this._addresseeSources.length&&(this.indeterminateProgress.set({value:Number.POSITIVE_INFINITY}),la.set(this.indeterminateProgress.domNode,"display","block"),H.createLabelsFromFeatures(this._foundAddressees,this._addresseeSources[this.addresseeSelect.value].labelLineTemplates,this._getSelectedAddresseeLayer(),
this.map).then(ia.hitch(this,function(v){var F=T.byId("numAddresseesFound"),C="",J=T.byId("rrNumAddresseesFound");this._foundLabels=v;0<this._foundLabels.length?(C=a.substitute(this.nls.numAddresseesFound,{count:this._foundLabels.length}),D.remove(this.downloadBtn,"hidden"),this.config.addresseeSourceSettings.hasOwnProperty("showReviewButton")&&this.config.addresseeSourceSettings.showReviewButton&&D.remove(this.reviewBtn,"hidden"),p.set(this.downloadBtn,"aria-label",C+" "+this.downloadBtn.innerHTML),
Q.initLastFocusNode(this.domNode,this.downloadBtn),this.downloadBtn.focus()):(D.add(this.downloadBtn,"hidden"),D.add(this.reviewBtn,"hidden"),Q.initLastFocusNode(this.domNode,this.formatSelect.domNode));F.innerHTML=C;""!==J&&null!==J&&void 0!==J&&(""!==C&&null!==C&&void 0!==C?(J.innerHTML=C,p.set(J,"aria-label",C),D.remove(J,"hidden"),this._reviewResultsObj.updateDownloadBtnAriaLabel(C)):(D.add(J,"hidden"),this._reviewResultsObj.updateDownloadBtnAriaLabel()));la.set(this.indeterminateProgress.domNode,
"display","none")})))},_onDownloadBtnClicked:function(){var v=ia.clone(this.config.notificationSettings.labelPageOptions);var F="reviewResultsPage"===this._currentOpenPanel?this.config.notificationSettings.labelFormats[this._reviewResultsObj.formatSelect.value+1]:this.config.notificationSettings.labelFormats[this.formatSelect.value+1];switch(F.labelSpec.type){case "AVERY":this._formatCodeHandlerInstances[F.labelSpec.type]=new V;v.guidance.printSuggestion=this.nls.tooltips.printSuggestion;break;case "CSV":this._formatCodeHandlerInstances[F.labelSpec.type]=
new M}this._doSave(this._formatCodeHandlerInstances[F.labelSpec.type],F.labelSpec,v)},_doSave:function(v,F,C){if(v&&0!==this._foundLabels.length){var J=this._foundLabels;var R=this._addresseeSources[this.addresseeSelect.value].name;if(C.hasOwnProperty("addCSVHeader")&&C.addCSVHeader&&"CSV"===F.type){var oa=[];oa.push(this._addresseeSources[this.addresseeSelect.value].labelLineTemplates.csvHeaderRow);J=oa.concat(J)}this.determinateProgress.set({value:0});la.set(this.determinateProgress.domNode,"display",
"block");console.log("Downloading ",J.length," labels");setTimeout(ia.hitch(this,function(){v.save(J,R,F,C,this.domNode,this.determinateProgress).then(ia.hitch(this,function(aa){console.log("PDF document(s) "+(aa?"":"not ")+"created");this.determinateProgress.set({value:100});la.set(this.determinateProgress.domNode,"display","none")}))}),10)}},_getResultGraphicsLayer:function(){return this._bufferLayer},_getDisplayTaxParcelGraphicsLayer:function(){var v=this._getMainParcelFeatureLayerId();return this.map.getLayer("displayLayer_of_"+
v)},_getMainParcelFeatureLayer:function(){var v=this._getMainParcelFeatureLayerId();return this.map.getLayer(v)},_getMainParcelFeatureLayerId:function(){if(this.addresseeSelect)var v=this.addresseeSelect.getOptions(this.addresseeSelect.value).id;return v},_clearMainFeatureLayerSelection:function(){this._getMainParcelFeatureLayer().clearSelection()},_onReviewBtnClicked:function(){this._reviewResultsObj=null;ja.empty(this.reviewResultsContainer);this._reviewResultsObj=new t({nls:this.nls,config:this.config,
formselectOptions:this.formatSelect.getOptions(),addresseeLayer:this._getSelectedAddresseeLayer(),map:this.map,parentNode:this.domNode,geoTypes:this._geoTypes});this._reviewResultsObj.placeAt(this.reviewResultsContainer);this._reviewResultsObj.startup();this.own(n(this._reviewResultsObj,"unloadingComplete",ia.hitch(this,function(){this._showAndClearDisplayLayerOfTaxParcels();this._addNewResultFeaturesIntoBufferLayer();this._checkDownloadBtnEnable();this._reviewResultsObj.setFocusOnDownloadButton()})));
this.own(n(this._reviewResultsObj,"onDownloadBtnClicked",ia.hitch(this,function(){this._onDownloadBtnClicked()})));this.own(n(this._reviewResultsObj,"clear",ia.hitch(this,function(){D.add(this.downloadBtn,"hidden");D.add(this.reviewBtn,"hidden");this._showPanel("mainPage");this._deactivateSelectTool();this._deactivateReviewSelectTool();this._clearLayers();this._clearAll()})));this._showPanel("reviewResultsPage");this._deactivateSelectTool();this._clearLayers();this._onSelectionComplete();this._selectFeaturesInMainResultFeatureLayer()},
_deactivateReviewSelectTool:function(){""!==this._reviewResultsObj&&null!==this._reviewResultsObj&&void 0!==this._reviewResultsObj&&this._reviewResultsObj._deactivateSelectTool()},_showPanel:function(v){if(this._currentOpenPanel){var F=this._getNodeByName(this._currentOpenPanel);D.add(F,"hidden")}F=this._getNodeByName(v);D.remove(F,"hidden");this._lastOpenPanel=this._currentOpenPanel;this._currentOpenPanel=v;this._supportAccessibility()},_getNodeByName:function(v){switch(v){case "mainPage":var F=
this.mainPageContainer;break;case "reviewResultsPage":F=this.reviewResultsContainer}return F},_supportAccessibility:function(){1===this._searchComponent.sources.length?Q.initFirstFocusNode(this.domNode,this._searchComponent._searchDijit.inputNode):Q.initFirstFocusNode(this.domNode,this._searchComponent._searchDijit.sourcesBtnNode);Q.focusFirstFocusNode(this.domNode);Q.initLastFocusNode(this.domNode,this.formatSelect.domNode)},_getSelectedAddresseeLayer:function(){var v,F=this.addresseeSelect.getOptions(this.addresseeSelect.value).label,
C=this.addresseeSelect.getOptions(this.addresseeSelect.value).id;G.getInstance(this.map,this.map.itemInfo).then(ia.hitch(this,function(J){sa.some(J._operLayers,ia.hitch(this,function(R){F===R.title&&C===R.id&&(v=R)}))}));return v},_selectFeaturesInMainResultFeatureLayer:function(){var v=this._getWhereClause();var F=new q;F.where=v;this._getMainParcelFeatureLayer().selectFeatures(F,ba.SELECTION_NEW)},_getWhereClause:function(){var v=[];var F=this._getMainParcelFeatureLayer();sa.forEach(this._foundAddressees,
ia.hitch(this,function(C){v.push(C.attributes[F.objectIdField])}));return F.objectIdField+" IN ("+v.join()+")"},_showAndClearResultGraphicsLayer:function(){var v=this._getResultGraphicsLayer();v.show();v.clear()},_showAndClearDisplayLayerOfTaxParcels:function(){var v=this._getDisplayTaxParcelGraphicsLayer();""!==v&&null!==v&&void 0!==v&&(v.show(),v.clear())},_clearLayers:function(){this._showAndClearResultGraphicsLayer();this._showAndClearDisplayLayerOfTaxParcels();this._clearMainFeatureLayerSelection();
this._clearSelectedFeaturesWebGL();this._clearDrawGraphics();this._clearSelections();this.map.graphics.clear()},_clearSelectedFeaturesWebGL:function(){var v=this._getMainParcelFeatureLayer();""!==v&&null!==v&&void 0!==v&&v.hasOwnProperty("_selectedFeaturesWebGL")&&(v._selectedFeaturesWebGL={})},_hookFLToSelectTool:function(){var v=this._getMainParcelFeatureLayer();this._reviewResultsObj.resetFeatureLayerToSelectTool(v)},_onSelectionComplete:function(){var v=this._getMainParcelFeatureLayer(),F=this.own(n(v,
"selection-complete",ia.hitch(this,function(){F[0].remove();this._hookFLToSelectTool();this._addNewResultFeaturesIntoBufferLayer();this._checkDownloadBtnEnable();this._reviewResultsObj.setAccessibility()})))},_deactivateSelectTool:function(){this._selectTool&&this._selectTool.deactivate()},_addNewResultFeaturesIntoBufferLayer:function(){this._foundAddressees=[];this._bufferLayer.clear();var v=this._getMainParcelFeatureLayer();var F=v.getSelectedFeatures();v._selectedFeaturesWebGL={};sa.forEach(F,
ia.hitch(this,function(C){v._selectedFeaturesWebGL[C.attributes[v.objectIdField]]=C;var J=this._highlighter.createGraphic(C,this._addresseeSymbology);J&&(J.setAttributes(C.attributes),this._bufferLayer.add(J),this._foundAddressees.push(J))}))},_clearDrawGraphics:function(){this._drawTool&&this._drawTool.drawLayer&&this._drawTool.drawLayer.clear()},resize:function(){"reviewResultsPage"===this._currentOpenPanel?this._reviewResultsObj.setFocus():Q.focusFirstFocusNode(this.domNode)}})});